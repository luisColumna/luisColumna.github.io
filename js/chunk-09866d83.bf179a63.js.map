{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.test.js","webpack:///./node_modules/bootstrap-vue/esm/components/spinner/spinner.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-selection.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/howler/dist/howler.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-validity.js","webpack:///./node_modules/engine.io-client/build/esm/transports/websocket.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/engine.io-client/build/esm/globalThis.browser.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/pagination.js","webpack:///./node_modules/bootstrap-vue/esm/components/pagination/pagination.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/has-listener.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/tr.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-bottom-row.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/td.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-busy.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-caption.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-colgroup.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-empty.js","webpack:///./node_modules/bootstrap-vue/esm/utils/stringify-object-values.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/constants.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/sanitize-row.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/stringify-record-values.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-filtering.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/normalize-fields.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-items.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-pagination.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-provider.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-selectable.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-sorting.js","webpack:///./node_modules/bootstrap-vue/esm/utils/stable-sort.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/default-sort-compare.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-stacked.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-table-renderer.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/tbody.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/filter-event.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/text-selection-active.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/th.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-tbody-row.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-tbody.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/tfoot.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-tfoot.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/thead.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-thead.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-top-row.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/table.js","webpack:///./node_modules/engine.io-client/build/esm/contrib/yeast.js","webpack:///./node_modules/engine.io-parser/build/esm/commons.js","webpack:///./node_modules/engine.io-parser/build/esm/encodePacket.browser.js","webpack:///./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","webpack:///./node_modules/engine.io-parser/build/esm/decodePacket.browser.js","webpack:///./node_modules/engine.io-parser/build/esm/index.js","webpack:///./node_modules/engine.io-client/build/esm/transport.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-text.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-input/form-input.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./src/views/alerts/components/AlertsTable.vue?8940","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","webpack:///./src/views/alerts/components/LeafletBasic.vue?864d","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/engine.io-client/build/esm/contrib/parseqs.js","webpack:///./node_modules/bootstrap-vue/esm/components/overlay/overlay.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/engine.io-client/build/esm/util.js","webpack:///./node_modules/@socket.io/component-emitter/index.mjs","webpack:///./node_modules/buffer/index.js","webpack:///./src/assets/sounds/alarm-1.mp3","webpack:///./src/views/alerts/AlertsPage.vue?37ce","webpack:///./src/services/AlertService.js","webpack:///./src/views/alerts/composables/useAlertsWS.js","webpack:///./src/views/alerts/components/AlertsTable.vue?4489","webpack:///src/views/alerts/components/AlertsTable.vue","webpack:///./src/views/alerts/components/AlertsTable.vue?a12a","webpack:///./src/views/alerts/components/AlertsTable.vue","webpack:///./src/views/alerts/components/LeafletBasic.vue?cf3b","webpack:///./node_modules/vue2-leaflet/dist/components/LMarker.js","webpack:///./node_modules/vue2-leaflet/dist/components/LPopup.js","webpack:///src/views/alerts/components/LeafletBasic.vue","webpack:///./src/views/alerts/components/LeafletBasic.vue?4fc5","webpack:///./src/views/alerts/components/LeafletBasic.vue","webpack:///./src/views/alerts/components/AlertDetails.vue?c5a1","webpack:///./src/views/alerts/composables/useAlertDetails.js","webpack:///src/views/alerts/components/AlertDetails.vue","webpack:///./src/views/alerts/components/AlertDetails.vue?d489","webpack:///./src/views/alerts/components/AlertDetails.vue","webpack:///src/views/alerts/AlertsPage.vue","webpack:///./src/views/alerts/AlertsPage.vue?8c27","webpack:///./src/views/alerts/AlertsPage.vue","webpack:///./src/views/alerts/components/AlertsTable.vue?3c13","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/engine.io-client/build/esm/contrib/has-cors.js","webpack:///./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","webpack:///./node_modules/engine.io-client/build/esm/transports/polling.js","webpack:///./node_modules/engine.io-client/build/esm/transports/webtransport.js","webpack:///./node_modules/engine.io-client/build/esm/transports/index.js","webpack:///./node_modules/engine.io-client/build/esm/contrib/parseuri.js","webpack:///./node_modules/engine.io-client/build/esm/socket.js","webpack:///./node_modules/engine.io-client/build/esm/index.js","webpack:///./node_modules/socket.io-client/build/esm/url.js","webpack:///./node_modules/socket.io-parser/build/esm/is-binary.js","webpack:///./node_modules/socket.io-parser/build/esm/binary.js","webpack:///./node_modules/socket.io-parser/build/esm/index.js","webpack:///./node_modules/socket.io-client/build/esm/on.js","webpack:///./node_modules/socket.io-client/build/esm/socket.js","webpack:///./node_modules/socket.io-client/build/esm/contrib/backo2.js","webpack:///./node_modules/socket.io-client/build/esm/manager.js","webpack:///./node_modules/socket.io-client/build/esm/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/bootstrap-vue/esm/utils/noop.js"],"names":["$","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","nativeTest","target","proto","forced","str","call","result","Error","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","props","label","role","small","tag","type","variant","BSpinner","extend","name","functional","render","h","_ref","_class","data","slots","scopedSlots","$slots","$scopedSlots","$label","staticClass","attrs","class","concat","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","prototype","toString","slice","constructor","Array","from","formSelectionMixin","computed","selectionStart","cache","get","$refs","input","set","val","selectionEnd","selectionDirection","methods","select","_this$$refs$input","setSelectionRange","_this$$refs$input2","setRangeText","_this$$refs$input3","toInteger","requireObjectCoercible","module","exports","repeat","count","String","Infinity","RangeError","HowlerGlobal","init","self","Howler","_counter","_html5AudioPool","html5PoolSize","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","window","navigator","masterGain","noAudio","usingWebAudio","autoSuspend","ctx","autoUnlock","_setup","volume","vol","parseFloat","setupAudioContext","gain","setValueAtTime","currentTime","i","length","_webAudio","ids","_getSoundIds","j","sound","_soundById","_node","mute","muted","stop","unload","close","codecs","ext","replace","state","_autoSuspend","Audio","oncanplaythrough","e","_setupCodecs","audioTest","err","canPlayType","mpegTest","ua","userAgent","checkOpera","match","isOldOpera","parseInt","split","checkSafari","indexOf","safariVersion","isOldSafari","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","m4b","mp4","weba","webm","dolby","flac","_unlockAudio","_audioUnlocked","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","unlock","audioNode","_unlocked","_releaseHtml5Audio","load","_autoResume","source","createBufferSource","buffer","connect","destination","start","noteOn","resume","onended","disconnect","document","removeEventListener","_emit","addEventListener","_obtainHtml5Audio","pop","testPlay","play","Promise","then","catch","console","warn","audio","push","suspend","_sounds","_paused","_suspendTimer","clearTimeout","setTimeout","handleSuspension","_resumeAfterSuspend","Howl","src","error","_autoplay","autoplay","_format","format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","undefined","_xhr","method","xhr","headers","withCredentials","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","fn","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onunlock","onunlock","_onresume","event","action","url","toLowerCase","location","protocol","Sound","loadBuffer","internal","id","num","_ended","_id","_inactiveSound","soundId","_loadQueue","seek","Math","max","_seek","duration","timeout","abs","setParams","_start","_stop","node","playWebAudio","_refreshBuffer","_playStart","bufferSource","noteGrainOn","bind","once","_clearTimer","playHtml5","playbackRate","paused","loadedNoReadyState","ejecta","readyState","isCocoonJS","listener","pause","_rateSeek","_stopFade","noteOff","_cleanBuffer","isNaN","_clearSound","_interval","args","index","fade","to","len","min","end","linearRampToValueAtTime","_startFadeInterval","isGroup","diff","steps","stepLen","lastTick","Date","now","_fadeTo","setInterval","tick","round","clearInterval","cancelScheduledValues","loopStart","loopEnd","playing","realTime","rateSeek","seekAndEmit","emitSeek","sounds","_errorFn","_loadFn","_endFn","splice","remCache","on","events","off","isId","keys","isArray","msg","task","shift","ended","_drain","reset","limit","cnt","_panner","isIOS","vendor","checkIE","howl","_parent","parent","create","createGain","createGainNode","_errorListener","_loadListener","_endListener","code","ceil","__default","loadSound","atob","dataView","Uint8Array","charCodeAt","decodeAudioData","XMLHttpRequest","open","responseType","forEach","setRequestHeader","status","response","onerror","safeXhrSend","send","arraybuffer","success","AudioContext","webkitAudioContext","iOS","platform","appVersion","version","safari","global","_pos","_orientation","stereo","pan","pos","x","y","z","positionX","setTargetAtTime","positionY","positionZ","setPosition","orientation","xUp","yUp","zUp","or","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","_super","_stereo","_pannerAttr","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","panningModel","refDistance","rolloffFactor","_onstereo","onstereo","_onpos","onpos","_onorientation","onorientation","pannerType","createStereoPanner","setupPanner","orientationX","orientationY","orientationZ","pannerAttr","_coneInnerAngle","_coneOuterAngle","_coneOuterGain","_distanceModel","_maxDistance","_refDistance","_rolloffFactor","_panningModel","pa","panner","createPanner","formValidityMixin","validity","validationMessage","willValidate","setCustomValidity","checkValidity","reportValidity","isReactNative","product","WS","opts","super","supportsBinary","forceBase64","check","uri","protocols","extraHeaders","ws","emitReserved","binaryType","socket","addEventListeners","onopen","autoUnref","_socket","unref","onOpen","onclose","closeEvent","onClose","description","context","onmessage","ev","onData","onError","packets","packet","lastPacket","options","compress","perMessageDeflate","Buffer","byteLength","threshold","setTimeoutFn","schema","secure","query","timestampRequests","timestampParam","b64","createUri","toByteArray","fromByteArray","lookup","revLookup","Arr","getLens","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","encodeChunk","uint8","output","join","extraBytes","parts","maxChunkLength","len2","globalThisShim","Function","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","p","rf","f","unsafe","_watch","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","defineProperties","_makeModelMixin","defaultValue","validator","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","ELLIPSIS_THRESHOLD","DEFAULT_LIMIT","startNumber","numberOfPages","_","number","classes","page","keyCode","immediatePropagation","currentTarget","click","align","ariaLabel","disabled","ellipsisClass","ellipsisText","firstClass","firstNumber","firstText","hideEllipsis","hideGotoEndButtons","labelFirstPage","labelLastPage","labelNextPage","labelPage","labelPrevPage","lastClass","lastNumber","lastText","nextClass","nextText","pageClass","pills","prevClass","prevText","size","paginationMixin","mixins","currentPage","localNumberOfPages","localLimit","btnSize","alignment","styleClass","computedCurrentPage","paginationParams","showFirstDots","showLastDots","numberOfLinks","math","lastPageNumber","pageList","_this$paginationParam","pages","idx","_i","_i2","_i3","watch","newValue","oldValue","$emit","created","_this","$nextTick","handleKeyNav","shiftKey","isNav","propagation","focusFirst","focusPrev","focusLast","focusNext","getButtons","$el","btn","focusCurrent","_this2","find","el","_this3","_this4","reverse","_this5","buttons","_this6","_this7","pageNumbers","map","_this$paginationParam2","fill","$buttons","isActivePage","pageNumber","noCurrentPage","makeEndBtn","linkTo","btnSlot","btnText","btnClass","pageTest","isDisabled","scope","$btnContent","normalizeSlot","$inner","linkProps","tabindex","ariaControls","onClick","keydown","makeEllipsis","isLast","makePageButton","active","tabIndex","btnContent","makePage","content","$firstPageBtn","offset","$lastPageBtn","$pagination","ref","DEFAULT_PER_PAGE","DEFAULT_TOTAL_ROWS","perPage","totalRows","BPagination","pageSizeNumberOfPages","clickEvt","cancelable","vueTarget","defaultPrevented","contains","pageNum","hasListenerMixin","hasListener","$listeners","$events","_events","LIGHT","DARK","BTr","listeners","provide","bvTableTr","inject","bvTableRowGroup","default","inheritAttrs","inTbody","isTbody","inThead","isThead","inTfoot","isTfoot","isDark","isStacked","isResponsive","isStickyHeader","hasStickyHeader","tableVariant","headVariant","footVariant","isRowDark","trClasses","trAttrs","bvAttrs","bvListeners","bottomRowMixin","renderBottomRow","fields","computedFields","stacked","tbodyTrClass","tbodyTrAttr","$createElement","hasNormalizedSlot","columns","colspan","rowspan","stackedHeading","stickyColumn","BTd","isStackedCell","isStickyColumn","rowVariant","computedColspan","computedRowspan","cellClasses","cellAttrs","headOrFoot","$content","MODEL_PROP_NAME_BUSY","MODEL_EVENT_NAME_BUSY","busyMixin","localBusy","computedBusy","stopIfBusy","renderBusy","caption","captionHtml","captionMixin","captionId","safeId","renderCaption","$caption","hasCaptionSlot","domProps","html","colgroupMixin","renderColgroup","$colgroup","emptyFilteredHtml","emptyFilteredText","emptyHtml","emptyText","showEmpty","emptyMixin","renderEmpty","items","computedItems","$empty","isFiltered","stringifyObjectValues","sort","k","v","FIELD_KEY_CELL_VARIANT","FIELD_KEY_ROW_VARIANT","FIELD_KEY_SHOW_DETAILS","IGNORED_FIELD_KEYS","reduce","EVENT_FILTER","row","ignoreFields","includeFields","fieldsObj","formattedRow","field","filterByFormatted","formatter","allowedKeys","array","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","_arrayLikeToArray","iter","Symbol","iterator","arr2","DEBOUNCE_DEPRECATED_MSG","filterDebounce","filterFunction","filterIgnoredFields","filterIncludedFields","filteringMixin","localFilter","filterSanitize","computedFilterIgnored","identity","computedFilterIncluded","computedFilterDebounce","ms","localFiltering","hasProvider","noProviderFiltering","filteredCheck","filteredItems","localItems","localFilterFn","criteria","filterFn","filterFnFactory","defaultFilterFnFactory","$_filterTimer","clearFilterTimer","deep","handler","newCriteria","Boolean","beforeDestroy","item","regExp","pattern","lastIndex","computedFieldsObj","origFields","sample","memo","primaryKey","itemsMixin","$parent","paginatedItems","sortedItems","sortBy","localSortBy","sortDesc","localSortDesc","apiUrl","mounted","getFieldFormatter","localPaging","noProviderPaging","ROOT_EVENT_NAME_REFRESHED","ROOT_ACTION_EVENT_NAME_REFRESH","noProviderSorting","providerMixin","providerTriggerContext","_providerUpdate","listenOnRoot","refresh","$off","$on","clearSelected","_providerSetLocal","emitOnRoot","message","_props","SELECT_MODES","noSelectOnClick","selectMode","selectable","selectedVariant","selectableMixin","selectedRows","selectedLastRow","isSelectable","hasSelectableRowClick","supportsSelectableRows","selectableHasSelection","some","selectableIsMultiSelect","selectableTableClasses","selectableTableAttrs","equal","setSelectionHandlers","_selectedRows","beforeMount","selectRow","isRowSelected","selectedLastClicked","unselectRow","selectAllRows","selectableRowClasses","dark","selectableRowAttrs","selectionHandler","selected","ctrlKey","metaKey","stableSort","compareFn","a","b","_ref$sortBy","_ref$formatter","_ref$locale","locale","_ref$localeOptions","localeOptions","_ref$nullLast","nullLast","aa","bb","localeCompare","MODEL_PROP_NAME_SORT_BY","MODEL_EVENT_NAME_SORT_BY","MODEL_PROP_NAME_SORT_DESC","MODEL_EVENT_NAME_SORT_DESC","SORT_DIRECTION_ASC","SORT_DIRECTION_DESC","SORT_DIRECTION_LAST","SORT_DIRECTIONS","labelSortAsc","labelSortClear","labelSortDesc","noFooterSorting","noLocalSorting","noSortReset","numeric","sortingMixin","localSorting","isSortable","sortable","sortCompareLocale","sortNullLast","sortCompare","sortCompareOptions","usage","sortByFormatted","handleSort","isFoot","sortChanged","toggleLocalSortDesc","sortDirection","sortKey","sortTheadThClasses","sortIconLeft","sortTheadThAttrs","ariaSort","sortTheadThLabel","labelSorting","stackedMixin","isStackedAlways","stackedTableClasses","bordered","borderless","captionTop","fixed","hover","noBorderCollapse","outlined","responsive","stickyHeader","striped","tableClass","tableRendererMixin","bvTable","wrapperClasses","wrapperStyles","maxHeight","tableClasses","isTableSimple","border","tableAttrs","adb","ariaAttrs","rowCount","renderThead","renderTbody","renderTfoot","$table","style","tbodyTransitionHandlers","tbodyTransitionProps","BTbody","isTransitionGroup","tbodyAttrs","tbodyProps","nativeOn","TABLE_TAG_NAMES","tagName","labelFor","sel","trim","containsNode","BTh","extends","detailsTdClass","tbodyRowMixin","getTdValues","tdValue","getThValues","thValue","getFormattedValue","toggleDetailsFactory","hasDetailsSlot","$set","rowHovered","tbodyRowEvtStopped","emitTbodyRowEvent","rowUnhovered","renderTbodyRowCell","colIndex","rowIndex","isRowHeader","formatted","cellTag","cellVariant","tdClass","thAttr","tdAttr","slotScope","unformatted","toggleDetails","detailsShowing","rowSelected","slotName","$_bodyFieldSlotNameCache","$childNodes","renderTbodyRow","rowShowDetails","hasRowClickHandler","$rows","detailsId","$tds","ariaRowIndex","primaryKeyValue","rowKey","rowId","selectableClasses","selectableAttrs","userTrClasses","userTrAttrs","mouseenter","mouseleave","refInFor","detailsScope","$details","userDetailsTrClasses","userDetailsTrAttrs","getCellSlotName","tbodyClass","tbodyMixin","getTbodyTrs","tbody","trs","tr","children","getTbodyTrIndex","onTbodyRowKeydown","onTBodyRowClicked","onTbodyRowMiddleMouseRowClicked","which","onTbodyRowContextmenu","onTbodyRowDblClicked","renderTopRow","$busy","defaultSlotName","lowercaseSlotName","handlers","auxclick","contextmenu","dblclick","$tbody","$props","BTfoot","tfootClasses","tfootAttrs","footClone","footRowVariant","tfootClass","tfootTrClass","tfootMixin","renderTFootCustom","BThead","theadClasses","theadAttrs","getHeadSlotName","getFootSlotName","headRowVariant","theadClass","theadTrClass","theadMixin","fieldClasses","thClass","headClicked","hasHeadClickListener","noop","makeCell","labelHtml","headerTitle","sortAttrs","sortClass","sortLabel","thStyle","abbr","headerAbbr","title","slotNames","column","$srLabel","$cells","$trs","topRowMixin","BTable","alphabet","prev","seed","encode","encoded","floor","yeast","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","Blob","withNativeArrayBuffer","ArrayBuffer","isView","encodePacket","callback","encodeBlobAsBase64","fileReader","FileReader","readAsDataURL","toArray","byteOffset","TEXT_ENCODER","encodePacketToBinary","arrayBuffer","TextEncoder","chars","decode","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","bytes","decodePacket","encodedPacket","mapBinary","charAt","decodeBase64Packet","substring","packetType","decoded","SEPARATOR","fromCharCode","encodePayload","encodedPackets","decodePayload","encodedPayload","decodedPacket","createPacketEncoderStream","TransformStream","controller","payloadLength","header","DataView","setUint8","view","setUint16","setBigUint64","BigInt","enqueue","TEXT_DECODER","totalLength","chunks","acc","chunk","concatChunks","createPacketDecoderStream","maxPayload","TextDecoder","expectedLength","isBinary","headerArray","getUint16","getUint32","pow","TransportError","reason","Transport","doOpen","doClose","write","onPacket","details","onPause","_hostname","_port","path","_query","hostname","port","Number","encodedQuery","_arrayWithHoles","_iterableToArrayLimit","r","l","t","u","next","done","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","ariaInvalid","autocomplete","debounce","lazy","lazyFormatter","placeholder","plaintext","readonly","formTextMixin","localValue","vModelValue","modifyValue","computedClass","isRange","isColor","sizeFormClass","stateClass","computedDebounce","hasFormatter","stringifyValue","modifiedValue","clearDebounce","$_inputDebounceTimer","formatValue","force","updateValue","doUpdate","$input","onInput","composing","formattedValue","onChange","onBlur","focus","blur","TYPES","list","noWheel","step","BFormInput","localType","computedAttrs","form","required","computedAriaInvalid","computedListeners","change","setWheelStopper","deactivated","activated","onWheelFocus","onWheelBlur","stopWheel","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","arrayLike","O","C","argumentsLength","mapfn","mapping","iteratorMethod","nextTick","isPromiseAvailable","resolve","cb","WebSocket","MozWebSocket","usingBrowserWebSocket","defaultBinaryType","read","isLE","mLen","nBytes","m","eLen","eMax","eBias","nBits","d","s","NaN","c","rt","log","LN2","hasOwnProperty","encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent","POSITION_COVER","top","left","bottom","right","bgColor","noCenter","noFade","noWrap","opacity","overlayTag","rounded","show","spinnerSmall","spinnerType","spinnerVariant","wrapTag","zIndex","BOverlay","computedRounded","computedVariant","defaultOverlayFn","$overlay","$background","backgroundColor","backdropFilter","transform","appear","iteratorClose","ENTRIES","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","stat","pick","attr","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","clearTimeoutFn","BASE64_OVERHEAD","utf8Length","Emitter","_callbacks","removeListener","removeAllListeners","callbacks","emit","hasListeners","ieee754","typedArraySupport","__proto__","foo","subarray","kMaxLength","TYPED_ARRAY_SUPPORT","that","arg","encodingOrOffset","allocUnsafe","fromArrayBuffer","fromString","fromObject","assertSize","alloc","encoding","checked","string","isEncoding","actual","fromArrayLike","isBuffer","copy","isnan","SlowBuffer","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","MAX_ARGUMENTS_LENGTH","codePoints","ret","out","toHex","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","units","leadSurrogate","byteArray","hi","lo","dst","_vm","_h","_c","_self","isConnected","_v","_s","staticStyle","listQuery","alerts","isLoading","mapa","setLocation","handleChangeDates","alertDetailsRef","getById","staticRenderFns","resource","fetchList","take","order","search","date_created","Api","params","post","update","patch","fetchAllActivesWithDriverDevice","UseAlertsWS","refMapa","URL_SOCKET","process","manager","Manager","toast","useToast","alertDetails","alert_id","alert_address","device_name","typeDevice_name","unit_plate","driver_name","driver_last_name","driver_license","driver_cellphone","driver_photo","model_name","brand_name","created_at","showSidebar","reactive","pageCount","itemCount","require","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_response$data","meta","wrap","_context","AlertService","sent","t0","component","ToastificationContentVue","icon","_ref2","_callee2","resp","_context2","assign","_x","reload","addListeners","alert","isNew","rest","_objectWithoutProperties","_excluded","unshift","dateStringToFormatYMDH","dateString","dateArray","year","month","padStart","day","dateFormat","selectedDates","dateStr","arrayDates","f1","f2","onMounted","$store","appConfig","isRTL","perPageOptions","model","$$v","expression","mode","dates","_t","headerColumns","rowClass","_u","dateTimeFormat","createdAt","address","device","unit","plate","$event","proxy","components","BAvatar","BCard","BRow","BCol","vSelect","flatPickr","setup","__","_useCustomFunctions","useCustomFunctions","today","todaytString","getDate","getMonth","getFullYear","datesToday","colorClass","zoom","center","marker","iconAwsome","_e","time","capitalizeFirstLetter","toUpperCase","propsBinder","vueElement","leafletElement","setMethodName","deepValue","custom","$watch","newVal","oldVal","collectionCleaner","optionsMerger","instance","defaultProps","$options","def","findRealParent","firstVueParent","mapObject","Layer","pane","attribution","layerType","visible","layerOptions","unbindPopup","unbindTooltip","parentContainer","removeLayer","setAttribution","old","attributionControl","removeAttribution","addAttribution","setName","addLayer","setLayerType","setVisible","isVisible","hideLayer","tooltip","getTooltip","popup","getPopup","updateVisibleProp","Options","script","draggable","latLng","Default","zIndexOffset","ready","this$1","latLngSync","setDraggable","dragging","enable","disable","setLatLng","oldLatLng","getLatLng","newLatLng","lat","lng","latlng","display","normalizeComponent","template","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","shadowRoot","originalRender","existing","beforeCreate","__vue_script__","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","Popper","popperOptions","setContent","bindPopup","svg","LMap","LTileLayer","LIconDefault","LMarker","LPopup","mapLeaflet","apiKey","customicon","L","divIcon","className","iconAnchor","iconSize","popupAnchor","bounds","maxBounds","_location$coordinates","coordinates","flyTo","miPin","querySelector","UseAlertDetails","BSidebar","BCardText","BListGroup","BListGroupItem","CardUnitDetails","CardDeviceDetails","_useAlertDetails","useAlertDetails","AlertsTable","LeafletBasic","BBadge","AlertDetails","commit","destroyed","_UseAlertsWS","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn","hasCORS","XHR","xdomain","createCookieJar","empty","hasXHR2","polling","isSSL","xd","cookieJar","poll","total","doPoll","doWrite","sid","req","request","xhrStatus","pollXhr","_a","setDisableHeaderCheck","addCookies","requestTimeout","onreadystatechange","parseCookies","onLoad","requestsCount","requests","cleanup","fromError","abort","responseText","attachEvent","unloadHandler","terminationEvent","WebTransport","transport","transportOptions","closed","createBidirectionalStream","stream","decoderStream","MAX_SAFE_INTEGER","reader","readable","pipeThrough","getReader","encoderStream","pipeTo","writer","getWriter","transports","websocket","webtransport","parse","host","authority","ipv6uri","pathNames","queryKey","regx","names","$0","$1","$2","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","offlineEventListener","EIO","priorWebsocketSuccess","createTransport","setTransport","onDrain","failed","onTransportOpen","upgrading","flush","freezeTransport","onTransportClose","onupgrade","probe","resetPingTimeout","onHandshake","JSON","sendPacket","filterUpgrades","getWritablePackets","shouldCheckPayloadSize","payloadSize","cleanupAndClose","waitForUpgrade","filteredUpgrades","loc","ipv6","href","withNativeFile","File","hasBinary","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","_placeholder","newData","reconstructPacket","_reconstructPacket","isIndexValid","RESERVED_EVENTS","PacketType","replacer","EVENT","ACK","encodeAsString","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","stringify","deconstruction","reviver","reconstructor","decodeString","isBinaryEvent","takeBinaryData","payload","tryParse","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","freeze","connect_error","disconnecting","newListener","io","connected","recovered","receiveBuffer","sendBuffer","_queueSeq","acks","auth","_opts","_autoConnect","subs","onpacket","subEvents","_readyState","retries","fromQueue","volatile","_addToQueue","ack","_registerAckCallback","isTransportWritable","engine","discardPacket","notifyOutgoingListeners","ackTimeout","timer","withErr","reject","arg1","arg2","tryCount","pending","responseArgs","hasError","_drainQueue","_packet","_sendConnectPacket","_pid","pid","_lastOffset","sameNamespace","onconnect","onevent","onack","ondisconnect","destroy","emitEvent","_anyListeners","emitBuffered","subDestroy","_anyOutgoingListeners","Backoff","factor","jitter","attempts","rand","random","deviation","setMin","setMax","setJitter","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","Encoder","decoder","Decoder","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","_reconnecting","reconnect","skipReconnect","openSubDestroy","maybeReconnectOnOpen","errorSub","onping","ondata","ondecoded","_close","delay","onreconnect","attempt","newConnection","forceNew","multiplex","Socket"],"mappings":"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","file":"js/chunk-09866d83.bf179a63.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar nativeTest = /./.test;\n\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    if (typeof this.exec !== 'function') {\n      return nativeTest.call(this, str);\n    }\n    var result = this.exec(str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_SPINNER } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_LABEL } from '../../constants/slots';\nimport { normalizeSlot } from '../../utils/normalize-slot';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  label: makeProp(PROP_TYPE_STRING),\n  role: makeProp(PROP_TYPE_STRING, 'status'),\n  small: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'span'),\n  type: makeProp(PROP_TYPE_STRING, 'border'),\n  variant: makeProp(PROP_TYPE_STRING)\n}, NAME_SPINNER); // --- Main component ---\n// @vue/component\n\nexport var BSpinner = /*#__PURE__*/Vue.extend({\n  name: NAME_SPINNER,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data,\n        slots = _ref.slots,\n        scopedSlots = _ref.scopedSlots;\n    var $slots = slots();\n    var $scopedSlots = scopedSlots || {};\n    var $label = normalizeSlot(SLOT_NAME_LABEL, {}, $scopedSlots, $slots) || props.label;\n\n    if ($label) {\n      $label = h('span', {\n        staticClass: 'sr-only'\n      }, $label);\n    }\n\n    return h(props.tag, mergeData(data, {\n      attrs: {\n        role: $label ? props.role || 'status' : null,\n        'aria-hidden': $label ? null : 'true'\n      },\n      class: (_class = {}, _defineProperty(_class, \"spinner-\".concat(props.type), props.type), _defineProperty(_class, \"spinner-\".concat(props.type, \"-sm\"), props.small), _defineProperty(_class, \"text-\".concat(props.variant), props.variant), _class)\n    }), [$label || h()]);\n  }\n});","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import { Vue } from '../vue'; // @vue/component\n\nexport var formSelectionMixin = Vue.extend({\n  computed: {\n    selectionStart: {\n      // Expose selectionStart for formatters, etc\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.selectionStart;\n      },\n\n      /* istanbul ignore next */\n      set: function set(val) {\n        this.$refs.input.selectionStart = val;\n      }\n    },\n    selectionEnd: {\n      // Expose selectionEnd for formatters, etc\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.selectionEnd;\n      },\n\n      /* istanbul ignore next */\n      set: function set(val) {\n        this.$refs.input.selectionEnd = val;\n      }\n    },\n    selectionDirection: {\n      // Expose selectionDirection for formatters, etc\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.selectionDirection;\n      },\n\n      /* istanbul ignore next */\n      set: function set(val) {\n        this.$refs.input.selectionDirection = val;\n      }\n    }\n  },\n  methods: {\n    /* istanbul ignore next */\n    select: function select() {\n      var _this$$refs$input;\n\n      // For external handler that may want a select() method\n      (_this$$refs$input = this.$refs.input).select.apply(_this$$refs$input, arguments);\n    },\n\n    /* istanbul ignore next */\n    setSelectionRange: function setSelectionRange() {\n      var _this$$refs$input2;\n\n      // For external handler that may want a setSelectionRange(a,b,c) method\n      (_this$$refs$input2 = this.$refs.input).setSelectionRange.apply(_this$$refs$input2, arguments);\n    },\n\n    /* istanbul ignore next */\n    setRangeText: function setRangeText() {\n      var _this$$refs$input3;\n\n      // For external handler that may want a setRangeText(a,b,c) method\n      (_this$$refs$input3 = this.$refs.input).setRangeText.apply(_this$$refs$input3, arguments);\n    }\n  }\n});","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","/*!\n *  howler.js v2.2.4\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 1000;\n\n      // Pool of unlocked HTML5 Audio objects.\n      self._html5AudioPool = [];\n      self.html5PoolSize = 10;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto audio unlocker.\n      self.autoUnlock = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Handle stopping all sounds globally.\n     */\n    stop: function() {\n      var self = this || Howler;\n\n      // Loop through all Howls and stop them.\n      for (var i=0; i<self._howls.length; i++) {\n        self._howls[i].stop();\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var ua = self._navigator ? self._navigator.userAgent : '';\n      var checkOpera = ua.match(/OPR\\/(\\d+)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n      var checkSafari = ua.indexOf('Safari') !== -1 && ua.indexOf('Chrome') === -1;\n      var safariVersion = ua.match(/Version\\/(.*?) /);\n      var isOldSafari = (checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!(audioTest.canPlayType('audio/wav; codecs=\"1\"') || audioTest.canPlayType('audio/wav')).replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        m4b: !!(audioTest.canPlayType('audio/x-m4b;') || audioTest.canPlayType('audio/m4b;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Some browsers/devices will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _unlockAudio: function() {\n      var self = this || Howler;\n\n      // Only run this if Web Audio is supported and it hasn't already been unlocked.\n      if (self._audioUnlocked || !self.ctx) {\n        return;\n      }\n\n      self._audioUnlocked = false;\n      self.autoUnlock = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function(e) {\n        // Create a pool of unlocked HTML5 Audio objects that can\n        // be used for playing sounds without user interaction. HTML5\n        // Audio objects must be individually unlocked, as opposed\n        // to the WebAudio API which only needs a single activation.\n        // This must occur before WebAudio setup or the source.onended\n        // event will not fire.\n        while (self._html5AudioPool.length < self.html5PoolSize) {\n          try {\n            var audioNode = new Audio();\n\n            // Mark this Audio object as unlocked to ensure it can get returned\n            // to the unlocked pool when released.\n            audioNode._unlocked = true;\n\n            // Add the audio node to the pool.\n            self._releaseHtml5Audio(audioNode);\n          } catch (e) {\n            self.noAudio = true;\n            break;\n          }\n        }\n\n        // Loop through any assigned audio nodes and unlock them.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and unlock the audio nodes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node && !sound._node._unlocked) {\n                sound._node._unlocked = true;\n                sound._node.load();\n              }\n            }\n          }\n        }\n\n        // Fix Android can not play in suspend state.\n        self._autoResume();\n\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.\n        if (typeof self.ctx.resume === 'function') {\n          self.ctx.resume();\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._audioUnlocked = true;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchstart', unlock, true);\n          document.removeEventListener('touchend', unlock, true);\n          document.removeEventListener('click', unlock, true);\n          document.removeEventListener('keydown', unlock, true);\n\n          // Let all sounds know that audio has been unlocked.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('unlock');\n          }\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchstart', unlock, true);\n      document.addEventListener('touchend', unlock, true);\n      document.addEventListener('click', unlock, true);\n      document.addEventListener('keydown', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Get an unlocked HTML5 Audio object from the pool. If none are left,\n     * return a new Audio object and throw a warning.\n     * @return {Audio} HTML5 Audio object.\n     */\n    _obtainHtml5Audio: function() {\n      var self = this || Howler;\n\n      // Return the next object from the pool if one exists.\n      if (self._html5AudioPool.length) {\n        return self._html5AudioPool.pop();\n      }\n\n      //.Check if the audio is locked and throw a warning.\n      var testPlay = new Audio().play();\n      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {\n        testPlay.catch(function() {\n          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');\n        });\n      }\n\n      return new Audio();\n    },\n\n    /**\n     * Return an activated HTML5 Audio object to the pool.\n     * @return {Howler}\n     */\n    _releaseHtml5Audio: function(audio) {\n      var self = this || Howler;\n\n      // Don't add audio to the pool if we don't know if it has been unlocked.\n      if (audio._unlocked) {\n        self._html5AudioPool.push(audio);\n      }\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n\n        // Handle updating the state of the audio context after suspending.\n        var handleSuspension = function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        };\n\n        // Either the state gets suspended or it is interrupted.\n        // Either way, we need to update the state to suspended.\n        self.ctx.suspend().then(handleSuspension, handleSuspension);\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self.ctx.state !== 'interrupted' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended' || self.state === 'running' && self.ctx.state === 'interrupted') {\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean' || o.preload === 'metadata') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n      self._xhr = {\n        method: o.xhr && o.xhr.method ? o.xhr.method : 'GET',\n        headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,\n        withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false,\n      };\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n      self._playLock = false;\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {\n        Howler._unlockAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload && self._preload !== 'none') {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        if (!self._playLock) {\n          var num = 0;\n          for (var i=0; i<self._sounds.length; i++) {\n            if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n              num++;\n              id = self._sounds[i]._id;\n            }\n          }\n\n          if (num === 1) {\n            sprite = null;\n          } else {\n            id = null;\n          }\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If the sound hasn't loaded, we must wait to get the audio's duration.\n      // We also need to wait to make sure we don't run into race conditions with\n      // the order of function calls.\n      if (self._state !== 'loaded') {\n        // Set the sprite value on this sound.\n        sound._sprite = sprite;\n\n        // Mark this sound as not ended in case another sound is played before this one loads.\n        sound._ended = false;\n\n        // Add the sound to the queue to be played on load.\n        var soundId = sound._id;\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(soundId);\n          }\n        });\n\n        return soundId;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          self._loadQueue('play');\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n      var start = self._sprite[sprite][0] / 1000;\n      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._sprite = sprite;\n\n      // Mark the sound as ended instantly so that this async playback\n      // doesn't get grabbed by another call to play while this one waits to start.\n      sound._ended = false;\n\n      // Update the parameters of the sound.\n      var setParams = function() {\n        sound._paused = false;\n        sound._seek = seek;\n        sound._start = start;\n        sound._stop = stop;\n        sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n      };\n\n      // End the sound instantly if seek is at the end.\n      if (seek >= stop) {\n        self._ended(sound);\n        return;\n      }\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._playLock = false;\n          setParams();\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }, 0);\n          }\n        };\n\n        if (Howler.state === 'running' && Howler.ctx.state !== 'interrupted') {\n          playWebAudio();\n        } else {\n          self._playLock = true;\n\n          // Wait for the audio context to resume before playing.\n          self.once('resume', playWebAudio);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          // Some browsers will throw an error if this is called without user interaction.\n          try {\n            var play = node.play();\n\n            // Support older browsers that don't support promises, and thus don't have this issue.\n            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {\n              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().\n              self._playLock = true;\n\n              // Set param values immediately.\n              setParams();\n\n              // Releases the lock and executes queued actions.\n              play\n                .then(function() {\n                  self._playLock = false;\n                  node._unlocked = true;\n                  if (!internal) {\n                    self._emit('play', sound._id);\n                  } else {\n                    self._loadQueue();\n                  }\n                })\n                .catch(function() {\n                  self._playLock = false;\n                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                    'on mobile devices and Chrome where playback was not within a user interaction.');\n\n                  // Reset the ended and paused values.\n                  sound._ended = true;\n                  sound._paused = true;\n                });\n            } else if (!internal) {\n              self._playLock = false;\n              setParams();\n              self._emit('play', sound._id);\n            }\n\n            // Setting rate before playing won't work in IE, so we set it again here.\n            node.playbackRate = sound._rate;\n\n            // If the node is still paused, then we can assume there was a playback issue.\n            if (node.paused) {\n              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                'on mobile devices and Chrome where playback was not within a user interaction.');\n              return;\n            }\n\n            // Setup the end timer on sprites or listen for the ended event.\n            if (sprite !== '__default' || sound._loop) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            } else {\n              self._endTimers[sound._id] = function() {\n                // Fire ended on this audio node.\n                self._ended(sound);\n\n                // Clear this listener.\n                node.removeEventListener('ended', self._endTimers[sound._id], false);\n              };\n              node.addEventListener('ended', self._endTimers[sound._id], false);\n            }\n          } catch (err) {\n            self._emit('playerror', sound._id, err);\n          }\n        };\n\n        // If this is streaming audio, make sure the src is set and load again.\n        if (node.src === 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA') {\n          node.src = self._src;\n          node.load();\n        }\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n        if (node.readyState >= 3 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          self._playLock = true;\n          self._state = 'loading';\n\n          var listener = function() {\n            self._state = 'loaded';\n            \n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound has been created.\n              if (!sound._node.bufferSource) {\n                continue;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound's AudioBufferSourceNode has been created.\n              if (sound._node.bufferSource) {\n                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                  sound._node.bufferSource.noteOff(0);\n                } else {\n                  sound._node.bufferSource.stop(0);\n                }\n\n                // Clean up the buffer source.\n                self._cleanBuffer(sound._node);\n              }\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n\n              // If this is a live stream, stop download once the audio is stopped.\n              if (sound._node.duration === Infinity) {\n                self._clearSound(sound._node);\n              }\n            }\n          }\n\n          if (!internal) {\n            self._emit('stop', sound._id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded'|| self._playLock) {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          // Cancel active fade and set the volume to the end value.\n          if (sound._interval) {\n            self._stopFade(sound._id);\n          }\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded'|| self._playLock) {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Make sure the to/from/len values are numbers.\n      from = Math.min(Math.max(0, parseFloat(from)), 1);\n      to = Math.min(Math.max(0, parseFloat(to)), 1);\n      len = parseFloat(len);\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Starts the internal interval to fade a sound.\n     * @param  {Object} sound Reference to sound to fade.\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id to fade.\n     * @param  {Boolean} isGroup   If true, set the volume on the group.\n     */\n    _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n      var self = this;\n      var vol = from;\n      var diff = to - from;\n      var steps = Math.abs(diff / 0.01);\n      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n      var lastTick = Date.now();\n\n      // Store the value being faded to.\n      sound._fadeTo = to;\n\n      // Update the volume value on each interval tick.\n      sound._interval = setInterval(function() {\n        // Update the volume based on the time since the last tick.\n        var tick = (Date.now() - lastTick) / len;\n        lastTick = Date.now();\n        vol += diff * tick;\n\n        // Round to within 2 decimal points.\n        vol = Math.round(vol * 100) / 100;\n\n        // Make sure the volume is in the right bounds.\n        if (diff < 0) {\n          vol = Math.max(to, vol);\n        } else {\n          vol = Math.min(to, vol);\n        }\n\n        // Change the volume.\n        if (self._webAudio) {\n          sound._volume = vol;\n        } else {\n          self.volume(vol, sound._id, true);\n        }\n\n        // Set the group's volume.\n        if (isGroup) {\n          self._volume = vol;\n        }\n\n        // When the fade is complete, stop it and fire event.\n        if ((to < from && vol <= to) || (to > from && vol >= to)) {\n          clearInterval(sound._interval);\n          sound._interval = null;\n          sound._fadeTo = null;\n          self.volume(to, sound._id);\n          self._emit('fade', sound._id);\n        }\n      }, stepLen);\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self.volume(sound._fadeTo, id);\n        sound._fadeTo = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n\n              // If playing, restart playback to ensure looping updates.\n              if (self.playing(ids[i])) {\n                self.pause(ids[i], true);\n                self.play(ids[i], true);\n              }\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded' || self._playLock) {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            if (self.playing(id[i])) {\n              sound._rateSeek = self.seek(id[i]);\n              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            }\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        if (self._sounds.length) {\n          id = self._sounds[0]._id;\n        }\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else if (self._sounds.length) {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return 0;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (typeof seek === 'number' && (self._state !== 'loaded' || self._playLock)) {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {\n            sound._node.currentTime = seek;\n          }\n\n          // Seek and emit when ready.\n          var seekAndEmit = function() {\n            // Restart the playback if the sound was playing.\n            if (playing) {\n              self.play(id, true);\n            }\n\n            self._emit('seek', id);\n          };\n\n          // Wait for the play lock to be unset before emitting (HTML5 Audio).\n          if (playing && !self._webAudio) {\n            var emitSeek = function() {\n              if (!self._playLock) {\n                seekAndEmit();\n              } else {\n                setTimeout(emitSeek, 0);\n              }\n            };\n            setTimeout(emitSeek, 0);\n          } else {\n            seekAndEmit();\n          }\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading (except in IE).\n          self._clearSound(sounds[i]._node);\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n          sounds[i]._node.removeEventListener('ended', sounds[i]._endFn, false);\n\n          // Release the Audio object back to the pool.\n          Howler._releaseHtml5Audio(sounds[i]._node);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n      }\n\n      // Remove the references in the global Howler object.\n      var index = Howler._howls.indexOf(self);\n      if (index >= 0) {\n        Howler._howls.splice(index, 1);\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      // Allow passing just an event and ID.\n      if (typeof fn === 'number') {\n        id = fn;\n        fn = null;\n      }\n\n      if (fn || id) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          var isId = (id === events[i].id);\n          if (fn === events[i].fn && isId || !fn && isId) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        // Only fire the listener if the correct ID is used.\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      // Pass the event type into load queue so that it can continue stepping.\n      self._loadQueue(event);\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function(event) {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // Remove this task if a matching event was passed.\n        if (task.event === event) {\n          self._queue.shift();\n          self._loadQueue();\n        }\n\n        // Run the task if no event type is passed.\n        if (!event) {\n          task.action();\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // If we are using IE and there was network latency we may be clipping\n      // audio before it completes playing. Lets check the node to make sure it\n      // believes it has completed, before ending the playback.\n      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n        setTimeout(self._ended.bind(self, sound), 100);\n        return self;\n      }\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id, true);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        // Clear the timeout or remove the ended listener.\n        if (typeof self._endTimers[id] !== 'function') {\n          clearTimeout(self._endTimers[id]);\n        } else {\n          var sound = self._soundById(id);\n          if (sound && sound._node) {\n            sound._node.removeEventListener('ended', self._endTimers[id], false);\n          }\n        }\n\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop || 0;\n      }\n      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;\n\n      if (!node.bufferSource) {\n        return self;\n      }\n\n      if (Howler._scratchBuffer && node.bufferSource) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        if (isIOS) {\n          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}\n        }\n      }\n      node.bufferSource = null;\n\n      return self;\n    },\n\n    /**\n     * Set the source to a 0-second silence to stop any downloading (except in IE).\n     * @param  {Object} node Audio node to clear.\n     */\n    _clearSound: function(node) {\n      var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n      if (!checkIE) {\n        node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n      }\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else if (!Howler.noAudio) {\n        // Get an unlocked Audio object from the pool.\n        self._node = Howler._obtainHtml5Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Listen for the 'ended' event on the sound to account for edge-case where\n        // a finite sound has a duration of Infinity.\n        self._endFn = self._endListener.bind(self);\n        self._node.addEventListener('ended', self._endFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = parent._preload === true ? 'auto' : parent._preload;\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorFn, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    },\n\n    /**\n     * HTML5 Audio ended listener callback.\n     */\n    _endListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Only handle the `ended`` event if the duration is Infinity.\n      if (parent._duration === Infinity) {\n        // Update the parent duration to match the real audio duration.\n        // Round up the duration to account for the lower precision in HTML5 Audio.\n        parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n        // Update the sprite that corresponds to the real duration.\n        if (parent._sprite.__default[1] === Infinity) {\n          parent._sprite.__default[1] = parent._duration * 1000;\n        }\n\n        // Run the regular ended method.\n        parent._ended(self);\n      }\n\n      // Clear the event listener since the duration is now correct.\n      self._node.removeEventListener('ended', self._endFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open(self._xhr.method, url, true);\n      xhr.withCredentials = self._xhr.withCredentials;\n      xhr.responseType = 'arraybuffer';\n\n      // Apply any custom headers to the request.\n      if (self._xhr.headers) {\n        Object.keys(self._xhr.headers).forEach(function(key) {\n          xhr.setRequestHeader(key, self._xhr.headers[key]);\n        });\n      }\n\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Fire a load error if something broke.\n    var error = function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    };\n\n    // Load the sound on success.\n    var success = function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      } else {\n        error();\n      }\n    };\n\n    // Decode the buffer into an audio source.\n    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {\n      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);\n    } else {\n      Howler.ctx.decodeAudioData(arraybuffer, success, error);\n    }\n  }\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // If we have already detected that Web Audio isn't supported, don't run this step again.\n    if (!Howler.usingWebAudio) {\n      return;\n    }\n\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // If the audio context creation still failed, set using web audio to false.\n    if (!Howler.ctx) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : Howler._volume, Howler.ctx.currentTime);\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Add to global in Node.js (for testing, etc).\n  if (typeof global !== 'undefined') {\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  } else if (typeof window !== 'undefined') {  // Define globally in case AMD is not available or unused.\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.4\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n\n      if (typeof self.ctx.listener.positionX !== 'undefined') {\n        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n      }\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n\n      if (typeof self.ctx.listener.forwardX !== 'undefined') {\n        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n      }\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              if (typeof sound._panner.positionX !== 'undefined') {\n                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);\n                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);\n                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);\n              } else {\n                sound._panner.setPosition(pan, 0, 0);\n              }\n            } else {\n              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.\n   * @param  {Number} x  The x-position of the audio source.\n   * @param  {Number} y  The y-position of the audio source.\n   * @param  {Number} z  The z-position of the audio source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.positionX !== 'undefined') {\n              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setPosition(x, y, z);\n            }\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.orientationX !== 'undefined') {\n              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setOrientation(x, y, z);\n            }\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      inside of which there will be no volume reduction.\n   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.\n   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the\n   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.\n   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from\n   *                     listener. Can be `linear`, `inverse` or `exponential.\n   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume\n   *                   will not be reduced any further.\n   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.\n   *                   This is simply a variable of the distance model and has a different effect depending on which model\n   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a\n   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, ∞]`\n   *                     with `inverse` and `exponential`.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *\n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          if (!o.pannerAttr) {\n            o.pannerAttr = {\n              coneInnerAngle: o.coneInnerAngle,\n              coneOuterAngle: o.coneOuterAngle,\n              coneOuterGain: o.coneOuterGain,\n              distanceModel: o.distanceModel,\n              maxDistance: o.maxDistance,\n              refDistance: o.refDistance,\n              rolloffFactor: o.rolloffFactor,\n              panningModel: o.panningModel\n            };\n          }\n\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,\n            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,\n            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,\n            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,\n            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel\n        };\n\n        // Create a new panner node if one doesn't already exist.\n        var panner = sound._panner;\n        if (!panner) {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n          panner = sound._panner\n        }\n\n        // Update the panner values or create a new panner if none exists.\n        panner.coneInnerAngle = pa.coneInnerAngle;\n        panner.coneOuterAngle = pa.coneOuterAngle;\n        panner.coneOuterGain = pa.coneOuterGain;\n        panner.distanceModel = pa.distanceModel;\n        panner.maxDistance = pa.maxDistance;\n        panner.refDistance = pa.refDistance;\n        panner.rolloffFactor = pa.rolloffFactor;\n        panner.panningModel = pa.panningModel;\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      } else if (self._panner) {\n        // Disconnect the panner.\n        self._panner.disconnect(0);\n        self._panner = undefined;\n        parent._refreshBuffer(self);\n      }\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n\n      if (typeof sound._panner.positionX !== 'undefined') {\n        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);\n        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);\n        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      }\n\n      if (typeof sound._panner.orientationX !== 'undefined') {\n        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);\n        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);\n        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n      }\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id, true);\n    }\n  };\n})();\n","import { Vue } from '../vue'; // @vue/component\n\nexport var formValidityMixin = Vue.extend({\n  computed: {\n    validity: {\n      // Expose validity property\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.validity;\n      }\n    },\n    validationMessage: {\n      // Expose validationMessage property\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.validationMessage;\n      }\n    },\n    willValidate: {\n      // Expose willValidate property\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.willValidate;\n      }\n    }\n  },\n  methods: {\n    /* istanbul ignore next */\n    setCustomValidity: function setCustomValidity() {\n      var _this$$refs$input;\n\n      // For external handler that may want a setCustomValidity(...) method\n      return (_this$$refs$input = this.$refs.input).setCustomValidity.apply(_this$$refs$input, arguments);\n    },\n\n    /* istanbul ignore next */\n    checkValidity: function checkValidity() {\n      var _this$$refs$input2;\n\n      // For external handler that may want a checkValidity(...) method\n      return (_this$$refs$input2 = this.$refs.input).checkValidity.apply(_this$$refs$input2, arguments);\n    },\n\n    /* istanbul ignore next */\n    reportValidity: function reportValidity() {\n      var _this$$refs$input3;\n\n      // For external handler that may want a reportValidity(...) method\n      return (_this$$refs$input3 = this.$refs.input).reportValidity.apply(_this$$refs$input3, arguments);\n    }\n  }\n});","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","export const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { NAME_PAGINATION } from '../constants/components';\nimport { CODE_DOWN, CODE_LEFT, CODE_RIGHT, CODE_SPACE, CODE_UP } from '../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_NUMBER_STRING, PROP_TYPE_FUNCTION_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { SLOT_NAME_ELLIPSIS_TEXT, SLOT_NAME_FIRST_TEXT, SLOT_NAME_LAST_TEXT, SLOT_NAME_NEXT_TEXT, SLOT_NAME_PAGE, SLOT_NAME_PREV_TEXT } from '../constants/slots';\nimport { createArray } from '../utils/array';\nimport { attemptFocus, getActiveElement, getAttr, isDisabled, isVisible, selectAll } from '../utils/dom';\nimport { stopEvent } from '../utils/events';\nimport { isFunction, isNull } from '../utils/inspect';\nimport { mathFloor, mathMax, mathMin } from '../utils/math';\nimport { makeModelMixin } from '../utils/model';\nimport { toInteger } from '../utils/number';\nimport { sortKeys } from '../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../utils/props';\nimport { toString } from '../utils/string';\nimport { warn } from '../utils/warn';\nimport { normalizeSlotMixin } from '../mixins/normalize-slot';\nimport { BLink } from '../components/link/link'; // Common props, computed, data, render function, and methods\n// for `<b-pagination>` and `<b-pagination-nav>`\n// --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_BOOLEAN_NUMBER_STRING,\n  defaultValue: null,\n\n  /* istanbul ignore next */\n  validator: function validator(value) {\n    if (!isNull(value) && toInteger(value, 0) < 1) {\n      warn('\"v-model\" value must be a number greater than \"0\"', NAME_PAGINATION);\n      return false;\n    }\n\n    return true;\n  }\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // Threshold of limit size when we start/stop showing ellipsis\n\nvar ELLIPSIS_THRESHOLD = 3; // Default # of buttons limit\n\nvar DEFAULT_LIMIT = 5; // --- Helper methods ---\n// Make an array of N to N+X\n\nvar makePageArray = function makePageArray(startNumber, numberOfPages) {\n  return createArray(numberOfPages, function (_, i) {\n    return {\n      number: startNumber + i,\n      classes: null\n    };\n  });\n}; // Sanitize the provided limit value (converting to a number)\n\n\nvar sanitizeLimit = function sanitizeLimit(value) {\n  var limit = toInteger(value) || 1;\n  return limit < 1 ? DEFAULT_LIMIT : limit;\n}; // Sanitize the provided current page number (converting to a number)\n\n\nvar sanitizeCurrentPage = function sanitizeCurrentPage(val, numberOfPages) {\n  var page = toInteger(val) || 1;\n  return page > numberOfPages ? numberOfPages : page < 1 ? 1 : page;\n}; // Links don't normally respond to SPACE, so we add that\n// functionality via this handler\n\n\nvar onSpaceKey = function onSpaceKey(event) {\n  if (event.keyCode === CODE_SPACE) {\n    // Stop page from scrolling\n    stopEvent(event, {\n      immediatePropagation: true\n    }); // Trigger the click event on the link\n\n    event.currentTarget.click();\n    return false;\n  }\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, modelProps), {}, {\n  align: makeProp(PROP_TYPE_STRING, 'left'),\n  ariaLabel: makeProp(PROP_TYPE_STRING, 'Pagination'),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  ellipsisClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  ellipsisText: makeProp(PROP_TYPE_STRING, \"\\u2026\"),\n  // '…'\n  firstClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  firstNumber: makeProp(PROP_TYPE_BOOLEAN, false),\n  firstText: makeProp(PROP_TYPE_STRING, \"\\xAB\"),\n  // '«'\n  hideEllipsis: makeProp(PROP_TYPE_BOOLEAN, false),\n  hideGotoEndButtons: makeProp(PROP_TYPE_BOOLEAN, false),\n  labelFirstPage: makeProp(PROP_TYPE_STRING, 'Go to first page'),\n  labelLastPage: makeProp(PROP_TYPE_STRING, 'Go to last page'),\n  labelNextPage: makeProp(PROP_TYPE_STRING, 'Go to next page'),\n  labelPage: makeProp(PROP_TYPE_FUNCTION_STRING, 'Go to page'),\n  labelPrevPage: makeProp(PROP_TYPE_STRING, 'Go to previous page'),\n  lastClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  lastNumber: makeProp(PROP_TYPE_BOOLEAN, false),\n  lastText: makeProp(PROP_TYPE_STRING, \"\\xBB\"),\n  // '»'\n  limit: makeProp(PROP_TYPE_NUMBER_STRING, DEFAULT_LIMIT,\n  /* istanbul ignore next */\n  function (value) {\n    if (toInteger(value, 0) < 1) {\n      warn('Prop \"limit\" must be a number greater than \"0\"', NAME_PAGINATION);\n      return false;\n    }\n\n    return true;\n  }),\n  nextClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  nextText: makeProp(PROP_TYPE_STRING, \"\\u203A\"),\n  // '›'\n  pageClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  pills: makeProp(PROP_TYPE_BOOLEAN, false),\n  prevClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  prevText: makeProp(PROP_TYPE_STRING, \"\\u2039\"),\n  // '‹'\n  size: makeProp(PROP_TYPE_STRING)\n})), 'pagination'); // --- Mixin ---\n// @vue/component\n\nexport var paginationMixin = Vue.extend({\n  mixins: [modelMixin, normalizeSlotMixin],\n  props: props,\n  data: function data() {\n    // `-1` signifies no page initially selected\n    var currentPage = toInteger(this[MODEL_PROP_NAME], 0);\n    currentPage = currentPage > 0 ? currentPage : -1;\n    return {\n      currentPage: currentPage,\n      localNumberOfPages: 1,\n      localLimit: DEFAULT_LIMIT\n    };\n  },\n  computed: {\n    btnSize: function btnSize() {\n      var size = this.size;\n      return size ? \"pagination-\".concat(size) : '';\n    },\n    alignment: function alignment() {\n      var align = this.align;\n\n      if (align === 'center') {\n        return 'justify-content-center';\n      } else if (align === 'end' || align === 'right') {\n        return 'justify-content-end';\n      } else if (align === 'fill') {\n        // The page-items will also have 'flex-fill' added\n        // We add text centering to make the button appearance better in fill mode\n        return 'text-center';\n      }\n\n      return '';\n    },\n    styleClass: function styleClass() {\n      return this.pills ? 'b-pagination-pills' : '';\n    },\n    computedCurrentPage: function computedCurrentPage() {\n      return sanitizeCurrentPage(this.currentPage, this.localNumberOfPages);\n    },\n    paginationParams: function paginationParams() {\n      // Determine if we should show the the ellipsis\n      var limit = this.localLimit,\n          numberOfPages = this.localNumberOfPages,\n          currentPage = this.computedCurrentPage,\n          hideEllipsis = this.hideEllipsis,\n          firstNumber = this.firstNumber,\n          lastNumber = this.lastNumber;\n      var showFirstDots = false;\n      var showLastDots = false;\n      var numberOfLinks = limit;\n      var startNumber = 1;\n\n      if (numberOfPages <= limit) {\n        // Special case: Less pages available than the limit of displayed pages\n        numberOfLinks = numberOfPages;\n      } else if (currentPage < limit - 1 && limit > ELLIPSIS_THRESHOLD) {\n        if (!hideEllipsis || lastNumber) {\n          showLastDots = true;\n          numberOfLinks = limit - (firstNumber ? 0 : 1);\n        }\n\n        numberOfLinks = mathMin(numberOfLinks, limit);\n      } else if (numberOfPages - currentPage + 2 < limit && limit > ELLIPSIS_THRESHOLD) {\n        if (!hideEllipsis || firstNumber) {\n          showFirstDots = true;\n          numberOfLinks = limit - (lastNumber ? 0 : 1);\n        }\n\n        startNumber = numberOfPages - numberOfLinks + 1;\n      } else {\n        // We are somewhere in the middle of the page list\n        if (limit > ELLIPSIS_THRESHOLD) {\n          numberOfLinks = limit - (hideEllipsis ? 0 : 2);\n          showFirstDots = !!(!hideEllipsis || firstNumber);\n          showLastDots = !!(!hideEllipsis || lastNumber);\n        }\n\n        startNumber = currentPage - mathFloor(numberOfLinks / 2);\n      } // Sanity checks\n\n      /* istanbul ignore if */\n\n\n      if (startNumber < 1) {\n        startNumber = 1;\n        showFirstDots = false;\n      } else if (startNumber > numberOfPages - numberOfLinks) {\n        startNumber = numberOfPages - numberOfLinks + 1;\n        showLastDots = false;\n      }\n\n      if (showFirstDots && firstNumber && startNumber < 4) {\n        numberOfLinks = numberOfLinks + 2;\n        startNumber = 1;\n        showFirstDots = false;\n      }\n\n      var lastPageNumber = startNumber + numberOfLinks - 1;\n\n      if (showLastDots && lastNumber && lastPageNumber > numberOfPages - 3) {\n        numberOfLinks = numberOfLinks + (lastPageNumber === numberOfPages - 2 ? 2 : 3);\n        showLastDots = false;\n      } // Special handling for lower limits (where ellipsis are never shown)\n\n\n      if (limit <= ELLIPSIS_THRESHOLD) {\n        if (firstNumber && startNumber === 1) {\n          numberOfLinks = mathMin(numberOfLinks + 1, numberOfPages, limit + 1);\n        } else if (lastNumber && numberOfPages === startNumber + numberOfLinks - 1) {\n          startNumber = mathMax(startNumber - 1, 1);\n          numberOfLinks = mathMin(numberOfPages - startNumber + 1, numberOfPages, limit + 1);\n        }\n      }\n\n      numberOfLinks = mathMin(numberOfLinks, numberOfPages - startNumber + 1);\n      return {\n        showFirstDots: showFirstDots,\n        showLastDots: showLastDots,\n        numberOfLinks: numberOfLinks,\n        startNumber: startNumber\n      };\n    },\n    pageList: function pageList() {\n      // Generates the pageList array\n      var _this$paginationParam = this.paginationParams,\n          numberOfLinks = _this$paginationParam.numberOfLinks,\n          startNumber = _this$paginationParam.startNumber;\n      var currentPage = this.computedCurrentPage; // Generate list of page numbers\n\n      var pages = makePageArray(startNumber, numberOfLinks); // We limit to a total of 3 page buttons on XS screens\n      // So add classes to page links to hide them for XS breakpoint\n      // Note: Ellipsis will also be hidden on XS screens\n      // TODO: Make this visual limit configurable based on breakpoint(s)\n\n      if (pages.length > 3) {\n        var idx = currentPage - startNumber; // THe following is a bootstrap-vue custom utility class\n\n        var classes = 'bv-d-xs-down-none';\n\n        if (idx === 0) {\n          // Keep leftmost 3 buttons visible when current page is first page\n          for (var i = 3; i < pages.length; i++) {\n            pages[i].classes = classes;\n          }\n        } else if (idx === pages.length - 1) {\n          // Keep rightmost 3 buttons visible when current page is last page\n          for (var _i = 0; _i < pages.length - 3; _i++) {\n            pages[_i].classes = classes;\n          }\n        } else {\n          // Hide all except current page, current page - 1 and current page + 1\n          for (var _i2 = 0; _i2 < idx - 1; _i2++) {\n            // hide some left button(s)\n            pages[_i2].classes = classes;\n          }\n\n          for (var _i3 = pages.length - 1; _i3 > idx + 1; _i3--) {\n            // hide some right button(s)\n            pages[_i3].classes = classes;\n          }\n        }\n      }\n\n      return pages;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.currentPage = sanitizeCurrentPage(newValue, this.localNumberOfPages);\n    }\n  }), _defineProperty(_watch, \"currentPage\", function currentPage(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      // Emit `null` if no page selected\n      this.$emit(MODEL_EVENT_NAME, newValue > 0 ? newValue : null);\n    }\n  }), _defineProperty(_watch, \"limit\", function limit(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.localLimit = sanitizeLimit(newValue);\n    }\n  }), _watch),\n  created: function created() {\n    var _this = this;\n\n    // Set our default values in data\n    this.localLimit = sanitizeLimit(this.limit);\n    this.$nextTick(function () {\n      // Sanity check\n      _this.currentPage = _this.currentPage > _this.localNumberOfPages ? _this.localNumberOfPages : _this.currentPage;\n    });\n  },\n  methods: {\n    handleKeyNav: function handleKeyNav(event) {\n      var keyCode = event.keyCode,\n          shiftKey = event.shiftKey;\n      /* istanbul ignore if */\n\n      if (this.isNav) {\n        // We disable left/right keyboard navigation in `<b-pagination-nav>`\n        return;\n      }\n\n      if (keyCode === CODE_LEFT || keyCode === CODE_UP) {\n        stopEvent(event, {\n          propagation: false\n        });\n        shiftKey ? this.focusFirst() : this.focusPrev();\n      } else if (keyCode === CODE_RIGHT || keyCode === CODE_DOWN) {\n        stopEvent(event, {\n          propagation: false\n        });\n        shiftKey ? this.focusLast() : this.focusNext();\n      }\n    },\n    getButtons: function getButtons() {\n      // Return only buttons that are visible\n      return selectAll('button.page-link, a.page-link', this.$el).filter(function (btn) {\n        return isVisible(btn);\n      });\n    },\n    focusCurrent: function focusCurrent() {\n      var _this2 = this;\n\n      // We do this in `$nextTick()` to ensure buttons have finished rendering\n      this.$nextTick(function () {\n        var btn = _this2.getButtons().find(function (el) {\n          return toInteger(getAttr(el, 'aria-posinset'), 0) === _this2.computedCurrentPage;\n        });\n\n        if (!attemptFocus(btn)) {\n          // Fallback if current page is not in button list\n          _this2.focusFirst();\n        }\n      });\n    },\n    focusFirst: function focusFirst() {\n      var _this3 = this;\n\n      // We do this in `$nextTick()` to ensure buttons have finished rendering\n      this.$nextTick(function () {\n        var btn = _this3.getButtons().find(function (el) {\n          return !isDisabled(el);\n        });\n\n        attemptFocus(btn);\n      });\n    },\n    focusLast: function focusLast() {\n      var _this4 = this;\n\n      // We do this in `$nextTick()` to ensure buttons have finished rendering\n      this.$nextTick(function () {\n        var btn = _this4.getButtons().reverse().find(function (el) {\n          return !isDisabled(el);\n        });\n\n        attemptFocus(btn);\n      });\n    },\n    focusPrev: function focusPrev() {\n      var _this5 = this;\n\n      // We do this in `$nextTick()` to ensure buttons have finished rendering\n      this.$nextTick(function () {\n        var buttons = _this5.getButtons();\n\n        var index = buttons.indexOf(getActiveElement());\n\n        if (index > 0 && !isDisabled(buttons[index - 1])) {\n          attemptFocus(buttons[index - 1]);\n        }\n      });\n    },\n    focusNext: function focusNext() {\n      var _this6 = this;\n\n      // We do this in `$nextTick()` to ensure buttons have finished rendering\n      this.$nextTick(function () {\n        var buttons = _this6.getButtons();\n\n        var index = buttons.indexOf(getActiveElement());\n\n        if (index < buttons.length - 1 && !isDisabled(buttons[index + 1])) {\n          attemptFocus(buttons[index + 1]);\n        }\n      });\n    }\n  },\n  render: function render(h) {\n    var _this7 = this;\n\n    var disabled = this.disabled,\n        labelPage = this.labelPage,\n        ariaLabel = this.ariaLabel,\n        isNav = this.isNav,\n        numberOfPages = this.localNumberOfPages,\n        currentPage = this.computedCurrentPage;\n    var pageNumbers = this.pageList.map(function (p) {\n      return p.number;\n    });\n    var _this$paginationParam2 = this.paginationParams,\n        showFirstDots = _this$paginationParam2.showFirstDots,\n        showLastDots = _this$paginationParam2.showLastDots;\n    var fill = this.align === 'fill';\n    var $buttons = []; // Helper function and flag\n\n    var isActivePage = function isActivePage(pageNumber) {\n      return pageNumber === currentPage;\n    };\n\n    var noCurrentPage = this.currentPage < 1; // Factory function for prev/next/first/last buttons\n\n    var makeEndBtn = function makeEndBtn(linkTo, ariaLabel, btnSlot, btnText, btnClass, pageTest, key) {\n      var isDisabled = disabled || isActivePage(pageTest) || noCurrentPage || linkTo < 1 || linkTo > numberOfPages;\n      var pageNumber = linkTo < 1 ? 1 : linkTo > numberOfPages ? numberOfPages : linkTo;\n      var scope = {\n        disabled: isDisabled,\n        page: pageNumber,\n        index: pageNumber - 1\n      };\n      var $btnContent = _this7.normalizeSlot(btnSlot, scope) || toString(btnText) || h();\n      var $inner = h(isDisabled ? 'span' : isNav ? BLink : 'button', {\n        staticClass: 'page-link',\n        class: {\n          'flex-grow-1': !isNav && !isDisabled && fill\n        },\n        props: isDisabled || !isNav ? {} : _this7.linkProps(linkTo),\n        attrs: {\n          role: isNav ? null : 'menuitem',\n          type: isNav || isDisabled ? null : 'button',\n          tabindex: isDisabled || isNav ? null : '-1',\n          'aria-label': ariaLabel,\n          'aria-controls': _this7.ariaControls || null,\n          'aria-disabled': isDisabled ? 'true' : null\n        },\n        on: isDisabled ? {} : {\n          '!click': function click(event) {\n            _this7.onClick(event, linkTo);\n          },\n          keydown: onSpaceKey\n        }\n      }, [$btnContent]);\n      return h('li', {\n        key: key,\n        staticClass: 'page-item',\n        class: [{\n          disabled: isDisabled,\n          'flex-fill': fill,\n          'd-flex': fill && !isNav && !isDisabled\n        }, btnClass],\n        attrs: {\n          role: isNav ? null : 'presentation',\n          'aria-hidden': isDisabled ? 'true' : null\n        }\n      }, [$inner]);\n    }; // Ellipsis factory\n\n\n    var makeEllipsis = function makeEllipsis(isLast) {\n      return h('li', {\n        staticClass: 'page-item',\n        class: ['disabled', 'bv-d-xs-down-none', fill ? 'flex-fill' : '', _this7.ellipsisClass],\n        attrs: {\n          role: 'separator'\n        },\n        key: \"ellipsis-\".concat(isLast ? 'last' : 'first')\n      }, [h('span', {\n        staticClass: 'page-link'\n      }, [_this7.normalizeSlot(SLOT_NAME_ELLIPSIS_TEXT) || toString(_this7.ellipsisText) || h()])]);\n    }; // Page button factory\n\n\n    var makePageButton = function makePageButton(page, idx) {\n      var pageNumber = page.number;\n      var active = isActivePage(pageNumber) && !noCurrentPage; // Active page will have tabindex of 0, or if no current page and first page button\n\n      var tabIndex = disabled ? null : active || noCurrentPage && idx === 0 ? '0' : '-1';\n      var attrs = {\n        role: isNav ? null : 'menuitemradio',\n        type: isNav || disabled ? null : 'button',\n        'aria-disabled': disabled ? 'true' : null,\n        'aria-controls': _this7.ariaControls || null,\n        'aria-label': hasPropFunction(labelPage) ?\n        /* istanbul ignore next */\n        labelPage(pageNumber) : \"\".concat(isFunction(labelPage) ? labelPage() : labelPage, \" \").concat(pageNumber),\n        'aria-checked': isNav ? null : active ? 'true' : 'false',\n        'aria-current': isNav && active ? 'page' : null,\n        'aria-posinset': isNav ? null : pageNumber,\n        'aria-setsize': isNav ? null : numberOfPages,\n        // ARIA \"roving tabindex\" method (except in `isNav` mode)\n        tabindex: isNav ? null : tabIndex\n      };\n      var btnContent = toString(_this7.makePage(pageNumber));\n      var scope = {\n        page: pageNumber,\n        index: pageNumber - 1,\n        content: btnContent,\n        active: active,\n        disabled: disabled\n      };\n      var $inner = h(disabled ? 'span' : isNav ? BLink : 'button', {\n        props: disabled || !isNav ? {} : _this7.linkProps(pageNumber),\n        staticClass: 'page-link',\n        class: {\n          'flex-grow-1': !isNav && !disabled && fill\n        },\n        attrs: attrs,\n        on: disabled ? {} : {\n          '!click': function click(event) {\n            _this7.onClick(event, pageNumber);\n          },\n          keydown: onSpaceKey\n        }\n      }, [_this7.normalizeSlot(SLOT_NAME_PAGE, scope) || btnContent]);\n      return h('li', {\n        staticClass: 'page-item',\n        class: [{\n          disabled: disabled,\n          active: active,\n          'flex-fill': fill,\n          'd-flex': fill && !isNav && !disabled\n        }, page.classes, _this7.pageClass],\n        attrs: {\n          role: isNav ? null : 'presentation'\n        },\n        key: \"page-\".concat(pageNumber)\n      }, [$inner]);\n    }; // Goto first page button\n    // Don't render button when `hideGotoEndButtons` or `firstNumber` is set\n\n\n    var $firstPageBtn = h();\n\n    if (!this.firstNumber && !this.hideGotoEndButtons) {\n      $firstPageBtn = makeEndBtn(1, this.labelFirstPage, SLOT_NAME_FIRST_TEXT, this.firstText, this.firstClass, 1, 'pagination-goto-first');\n    }\n\n    $buttons.push($firstPageBtn); // Goto previous page button\n\n    $buttons.push(makeEndBtn(currentPage - 1, this.labelPrevPage, SLOT_NAME_PREV_TEXT, this.prevText, this.prevClass, 1, 'pagination-goto-prev')); // Show first (1) button?\n\n    $buttons.push(this.firstNumber && pageNumbers[0] !== 1 ? makePageButton({\n      number: 1\n    }, 0) : h()); // First ellipsis\n\n    $buttons.push(showFirstDots ? makeEllipsis(false) : h()); // Individual page links\n\n    this.pageList.forEach(function (page, idx) {\n      var offset = showFirstDots && _this7.firstNumber && pageNumbers[0] !== 1 ? 1 : 0;\n      $buttons.push(makePageButton(page, idx + offset));\n    }); // Last ellipsis\n\n    $buttons.push(showLastDots ? makeEllipsis(true) : h()); // Show last page button?\n\n    $buttons.push(this.lastNumber && pageNumbers[pageNumbers.length - 1] !== numberOfPages ? makePageButton({\n      number: numberOfPages\n    }, -1) : h()); // Goto next page button\n\n    $buttons.push(makeEndBtn(currentPage + 1, this.labelNextPage, SLOT_NAME_NEXT_TEXT, this.nextText, this.nextClass, numberOfPages, 'pagination-goto-next')); // Goto last page button\n    // Don't render button when `hideGotoEndButtons` or `lastNumber` is set\n\n    var $lastPageBtn = h();\n\n    if (!this.lastNumber && !this.hideGotoEndButtons) {\n      $lastPageBtn = makeEndBtn(numberOfPages, this.labelLastPage, SLOT_NAME_LAST_TEXT, this.lastText, this.lastClass, numberOfPages, 'pagination-goto-last');\n    }\n\n    $buttons.push($lastPageBtn); // Assemble the pagination buttons\n\n    var $pagination = h('ul', {\n      staticClass: 'pagination',\n      class: ['b-pagination', this.btnSize, this.alignment, this.styleClass],\n      attrs: {\n        role: isNav ? null : 'menubar',\n        'aria-disabled': disabled ? 'true' : 'false',\n        'aria-label': isNav ? null : ariaLabel || null\n      },\n      // We disable keyboard left/right nav when `<b-pagination-nav>`\n      on: isNav ? {} : {\n        keydown: this.handleKeyNav\n      },\n      ref: 'ul'\n    }, $buttons); // If we are `<b-pagination-nav>`, wrap in `<nav>` wrapper\n\n    if (isNav) {\n      return h('nav', {\n        attrs: {\n          'aria-disabled': disabled ? 'true' : null,\n          'aria-hidden': disabled ? 'true' : 'false',\n          'aria-label': isNav ? ariaLabel || null : null\n        }\n      }, [$pagination]);\n    }\n\n    return $pagination;\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_PAGINATION } from '../../constants/components';\nimport { EVENT_NAME_CHANGE, EVENT_NAME_PAGE_CLICK } from '../../constants/events';\nimport { PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { BvEvent } from '../../utils/bv-event.class';\nimport { attemptFocus, isVisible } from '../../utils/dom';\nimport { isUndefinedOrNull } from '../../utils/inspect';\nimport { mathCeil, mathMax } from '../../utils/math';\nimport { toInteger } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_PROP_NAME, paginationMixin, props as paginationProps } from '../../mixins/pagination'; // --- Constants ---\n\nvar DEFAULT_PER_PAGE = 20;\nvar DEFAULT_TOTAL_ROWS = 0; // --- Helper methods ---\n// Sanitize the provided per page number (converting to a number)\n\nvar sanitizePerPage = function sanitizePerPage(value) {\n  return mathMax(toInteger(value) || DEFAULT_PER_PAGE, 1);\n}; // Sanitize the provided total rows number (converting to a number)\n\n\nvar sanitizeTotalRows = function sanitizeTotalRows(value) {\n  return mathMax(toInteger(value) || DEFAULT_TOTAL_ROWS, 0);\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, paginationProps), {}, {\n  ariaControls: makeProp(PROP_TYPE_STRING),\n  perPage: makeProp(PROP_TYPE_NUMBER_STRING, DEFAULT_PER_PAGE),\n  totalRows: makeProp(PROP_TYPE_NUMBER_STRING, DEFAULT_TOTAL_ROWS)\n})), NAME_PAGINATION); // --- Main component ---\n// @vue/component\n\nexport var BPagination = /*#__PURE__*/Vue.extend({\n  name: NAME_PAGINATION,\n  // The render function is brought in via the `paginationMixin`\n  mixins: [paginationMixin],\n  props: props,\n  computed: {\n    numberOfPages: function numberOfPages() {\n      var result = mathCeil(sanitizeTotalRows(this.totalRows) / sanitizePerPage(this.perPage));\n      return result < 1 ? 1 : result;\n    },\n    // Used for watching changes to `perPage` and `numberOfPages`\n    pageSizeNumberOfPages: function pageSizeNumberOfPages() {\n      return {\n        perPage: sanitizePerPage(this.perPage),\n        totalRows: sanitizeTotalRows(this.totalRows),\n        numberOfPages: this.numberOfPages\n      };\n    }\n  },\n  watch: {\n    pageSizeNumberOfPages: function pageSizeNumberOfPages(newValue, oldValue) {\n      if (!isUndefinedOrNull(oldValue)) {\n        if (newValue.perPage !== oldValue.perPage && newValue.totalRows === oldValue.totalRows) {\n          // If the page size changes, reset to page 1\n          this.currentPage = 1;\n        } else if (newValue.numberOfPages !== oldValue.numberOfPages && this.currentPage > newValue.numberOfPages) {\n          // If `numberOfPages` changes and is less than\n          // the `currentPage` number, reset to page 1\n          this.currentPage = 1;\n        }\n      }\n\n      this.localNumberOfPages = newValue.numberOfPages;\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    // Set the initial page count\n    this.localNumberOfPages = this.numberOfPages; // Set the initial page value\n\n    var currentPage = toInteger(this[MODEL_PROP_NAME], 0);\n\n    if (currentPage > 0) {\n      this.currentPage = currentPage;\n    } else {\n      this.$nextTick(function () {\n        // If this value parses to `NaN` or a value less than `1`\n        // trigger an initial emit of `null` if no page specified\n        _this.currentPage = 0;\n      });\n    }\n  },\n  methods: {\n    // These methods are used by the render function\n    onClick: function onClick(event, pageNumber) {\n      var _this2 = this;\n\n      // Dont do anything if clicking the current active page\n      if (pageNumber === this.currentPage) {\n        return;\n      }\n\n      var target = event.target; // Emit a user-cancelable `page-click` event\n\n      var clickEvt = new BvEvent(EVENT_NAME_PAGE_CLICK, {\n        cancelable: true,\n        vueTarget: this,\n        target: target\n      });\n      this.$emit(clickEvt.type, clickEvt, pageNumber);\n\n      if (clickEvt.defaultPrevented) {\n        return;\n      } // Update the `v-model`\n\n\n      this.currentPage = pageNumber; // Emit event triggered by user interaction\n\n      this.$emit(EVENT_NAME_CHANGE, this.currentPage); // Keep the current button focused if possible\n\n      this.$nextTick(function () {\n        if (isVisible(target) && _this2.$el.contains(target)) {\n          attemptFocus(target);\n        } else {\n          _this2.focusCurrent();\n        }\n      });\n    },\n    makePage: function makePage(pageNum) {\n      return pageNum;\n    },\n\n    /* istanbul ignore next */\n    linkProps: function linkProps() {\n      // No props, since we render a plain button\n      return {};\n    }\n  }\n});","// Mixin to determine if an event listener has been registered\n// either via `v-on:name` (in the parent) or programmatically\n// via `vm.$on('name', ...)`\n// See: https://github.com/vuejs/vue/issues/10825\nimport { Vue } from '../vue';\nimport { isArray, isUndefined } from '../utils/inspect'; // @vue/component\n\nexport var hasListenerMixin = Vue.extend({\n  methods: {\n    hasListener: function hasListener(name) {\n      // Only includes listeners registered via `v-on:name`\n      var $listeners = this.$listeners || {}; // Includes `v-on:name` and `this.$on('name')` registered listeners\n      // Note this property is not part of the public Vue API, but it is\n      // the only way to determine if a listener was added via `vm.$on`\n\n      var $events = this._events || {}; // Registered listeners in `this._events` are always an array,\n      // but might be zero length\n\n      return !isUndefined($listeners[name]) || isArray($events[name]) && $events[name].length > 0;\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_TR } from '../../constants/components';\nimport { PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Constants ---\n\nvar LIGHT = 'light';\nvar DARK = 'dark'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  variant: makeProp(PROP_TYPE_STRING)\n}, NAME_TR); // --- Main component ---\n// TODO:\n//   In Bootstrap v5, we won't need \"sniffing\" as table element variants properly inherit\n//   to the child elements, so this can be converted to a functional component\n// @vue/component\n\nexport var BTr = /*#__PURE__*/Vue.extend({\n  name: NAME_TR,\n  mixins: [attrsMixin, listenersMixin, normalizeSlotMixin],\n  provide: function provide() {\n    return {\n      bvTableTr: this\n    };\n  },\n  inject: {\n    bvTableRowGroup: {\n      default:\n      /* istanbul ignore next */\n      function _default() {\n        return {};\n      }\n    }\n  },\n  inheritAttrs: false,\n  props: props,\n  computed: {\n    // Sniffed by `<b-td>` / `<b-th>`\n    inTbody: function inTbody() {\n      return this.bvTableRowGroup.isTbody;\n    },\n    // Sniffed by `<b-td>` / `<b-th>`\n    inThead: function inThead() {\n      return this.bvTableRowGroup.isThead;\n    },\n    // Sniffed by `<b-td>` / `<b-th>`\n    inTfoot: function inTfoot() {\n      return this.bvTableRowGroup.isTfoot;\n    },\n    // Sniffed by `<b-td>` / `<b-th>`\n    isDark: function isDark() {\n      return this.bvTableRowGroup.isDark;\n    },\n    // Sniffed by `<b-td>` / `<b-th>`\n    isStacked: function isStacked() {\n      return this.bvTableRowGroup.isStacked;\n    },\n    // Sniffed by `<b-td>` / `<b-th>`\n    isResponsive: function isResponsive() {\n      return this.bvTableRowGroup.isResponsive;\n    },\n    // Sniffed by `<b-td>` / `<b-th>`\n    // Sticky headers are only supported in thead\n    isStickyHeader: function isStickyHeader() {\n      return this.bvTableRowGroup.isStickyHeader;\n    },\n    // Sniffed by <b-tr> / `<b-td>` / `<b-th>`\n    // Needed to handle header background classes, due to lack of\n    // background color inheritance with Bootstrap v4 table CSS\n    hasStickyHeader: function hasStickyHeader() {\n      return !this.isStacked && this.bvTableRowGroup.hasStickyHeader;\n    },\n    // Sniffed by `<b-td>` / `<b-th>`\n    tableVariant: function tableVariant() {\n      return this.bvTableRowGroup.tableVariant;\n    },\n    // Sniffed by `<b-td>` / `<b-th>`\n    headVariant: function headVariant() {\n      return this.inThead ? this.bvTableRowGroup.headVariant : null;\n    },\n    // Sniffed by `<b-td>` / `<b-th>`\n    footVariant: function footVariant() {\n      return this.inTfoot ? this.bvTableRowGroup.footVariant : null;\n    },\n    isRowDark: function isRowDark() {\n      return this.headVariant === LIGHT || this.footVariant === LIGHT ?\n      /* istanbul ignore next */\n      false : this.headVariant === DARK || this.footVariant === DARK ?\n      /* istanbul ignore next */\n      true : this.isDark;\n    },\n    trClasses: function trClasses() {\n      var variant = this.variant;\n      return [variant ? \"\".concat(this.isRowDark ? 'bg' : 'table', \"-\").concat(variant) : null];\n    },\n    trAttrs: function trAttrs() {\n      return _objectSpread({\n        role: 'row'\n      }, this.bvAttrs);\n    }\n  },\n  render: function render(h) {\n    return h('tr', {\n      class: this.trClasses,\n      attrs: this.trAttrs,\n      // Pass native listeners to child\n      on: this.bvListeners\n    }, this.normalizeSlot());\n  }\n});","import { Vue } from '../../../vue';\nimport { SLOT_NAME_BOTTOM_ROW } from '../../../constants/slots';\nimport { isFunction } from '../../../utils/inspect';\nimport { BTr } from '../tr'; // --- Props ---\n\nexport var props = {}; // --- Mixin ---\n// @vue/component\n\nexport var bottomRowMixin = Vue.extend({\n  props: props,\n  methods: {\n    renderBottomRow: function renderBottomRow() {\n      var fields = this.computedFields,\n          stacked = this.stacked,\n          tbodyTrClass = this.tbodyTrClass,\n          tbodyTrAttr = this.tbodyTrAttr;\n      var h = this.$createElement; // Static bottom row slot (hidden in visibly stacked mode as we can't control the data-label)\n      // If in *always* stacked mode, we don't bother rendering the row\n\n      if (!this.hasNormalizedSlot(SLOT_NAME_BOTTOM_ROW) || stacked === true || stacked === '') {\n        return h();\n      }\n\n      return h(BTr, {\n        staticClass: 'b-table-bottom-row',\n        class: [isFunction(tbodyTrClass) ?\n        /* istanbul ignore next */\n        tbodyTrClass(null, 'row-bottom') : tbodyTrClass],\n        attrs: isFunction(tbodyTrAttr) ?\n        /* istanbul ignore next */\n        tbodyTrAttr(null, 'row-bottom') : tbodyTrAttr,\n        key: 'b-bottom-row'\n      }, this.normalizeSlot(SLOT_NAME_BOTTOM_ROW, {\n        columns: fields.length,\n        fields: fields\n      }));\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_TABLE_CELL } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { isTag } from '../../utils/dom';\nimport { isUndefinedOrNull } from '../../utils/inspect';\nimport { toInteger } from '../../utils/number';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Helper methods ---\n// Parse a rowspan or colspan into a digit (or `null` if < `1` )\n\nvar parseSpan = function parseSpan(value) {\n  value = toInteger(value, 0);\n  return value > 0 ? value : null;\n};\n/* istanbul ignore next */\n\n\nvar spanValidator = function spanValidator(value) {\n  return isUndefinedOrNull(value) || parseSpan(value) > 0;\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable({\n  colspan: makeProp(PROP_TYPE_NUMBER_STRING, null, spanValidator),\n  rowspan: makeProp(PROP_TYPE_NUMBER_STRING, null, spanValidator),\n  stackedHeading: makeProp(PROP_TYPE_STRING),\n  stickyColumn: makeProp(PROP_TYPE_BOOLEAN, false),\n  variant: makeProp(PROP_TYPE_STRING)\n}, NAME_TABLE_CELL); // --- Main component ---\n// TODO:\n//   In Bootstrap v5, we won't need \"sniffing\" as table element variants properly inherit\n//   to the child elements, so this can be converted to a functional component\n// @vue/component\n\nexport var BTd = /*#__PURE__*/Vue.extend({\n  name: NAME_TABLE_CELL,\n  // Mixin order is important!\n  mixins: [attrsMixin, listenersMixin, normalizeSlotMixin],\n  inject: {\n    bvTableTr: {\n      default:\n      /* istanbul ignore next */\n      function _default() {\n        return {};\n      }\n    }\n  },\n  inheritAttrs: false,\n  props: props,\n  computed: {\n    // Overridden by `<b-th>`\n    tag: function tag() {\n      return 'td';\n    },\n    inTbody: function inTbody() {\n      return this.bvTableTr.inTbody;\n    },\n    inThead: function inThead() {\n      return this.bvTableTr.inThead;\n    },\n    inTfoot: function inTfoot() {\n      return this.bvTableTr.inTfoot;\n    },\n    isDark: function isDark() {\n      return this.bvTableTr.isDark;\n    },\n    isStacked: function isStacked() {\n      return this.bvTableTr.isStacked;\n    },\n    // We only support stacked-heading in tbody in stacked mode\n    isStackedCell: function isStackedCell() {\n      return this.inTbody && this.isStacked;\n    },\n    isResponsive: function isResponsive() {\n      return this.bvTableTr.isResponsive;\n    },\n    // Needed to handle header background classes, due to lack of\n    // background color inheritance with Bootstrap v4 table CSS\n    // Sticky headers only apply to cells in table `thead`\n    isStickyHeader: function isStickyHeader() {\n      return this.bvTableTr.isStickyHeader;\n    },\n    // Needed to handle header background classes, due to lack of\n    // background color inheritance with Bootstrap v4 table CSS\n    hasStickyHeader: function hasStickyHeader() {\n      return this.bvTableTr.hasStickyHeader;\n    },\n    // Needed to handle background classes, due to lack of\n    // background color inheritance with Bootstrap v4 table CSS\n    // Sticky column cells are only available in responsive\n    // mode (horizontal scrolling) or when sticky header mode\n    // Applies to cells in `thead`, `tbody` and `tfoot`\n    isStickyColumn: function isStickyColumn() {\n      return !this.isStacked && (this.isResponsive || this.hasStickyHeader) && this.stickyColumn;\n    },\n    rowVariant: function rowVariant() {\n      return this.bvTableTr.variant;\n    },\n    headVariant: function headVariant() {\n      return this.bvTableTr.headVariant;\n    },\n    footVariant: function footVariant() {\n      return this.bvTableTr.footVariant;\n    },\n    tableVariant: function tableVariant() {\n      return this.bvTableTr.tableVariant;\n    },\n    computedColspan: function computedColspan() {\n      return parseSpan(this.colspan);\n    },\n    computedRowspan: function computedRowspan() {\n      return parseSpan(this.rowspan);\n    },\n    // We use computed props here for improved performance by caching\n    // the results of the string interpolation\n    cellClasses: function cellClasses() {\n      var variant = this.variant,\n          headVariant = this.headVariant,\n          isStickyColumn = this.isStickyColumn;\n\n      if (!variant && this.isStickyHeader && !headVariant || !variant && isStickyColumn && this.inTfoot && !this.footVariant || !variant && isStickyColumn && this.inThead && !headVariant || !variant && isStickyColumn && this.inTbody) {\n        // Needed for sticky-header mode as Bootstrap v4 table cells do\n        // not inherit parent's `background-color`\n        variant = this.rowVariant || this.tableVariant || 'b-table-default';\n      }\n\n      return [variant ? \"\".concat(this.isDark ? 'bg' : 'table', \"-\").concat(variant) : null, isStickyColumn ? 'b-table-sticky-column' : null];\n    },\n    cellAttrs: function cellAttrs() {\n      var stackedHeading = this.stackedHeading; // We use computed props here for improved performance by caching\n      // the results of the object spread (Object.assign)\n\n      var headOrFoot = this.inThead || this.inTfoot; // Make sure col/rowspan's are > 0 or null\n\n      var colspan = this.computedColspan;\n      var rowspan = this.computedRowspan; // Default role and scope\n\n      var role = 'cell';\n      var scope = null; // Compute role and scope\n      // We only add scopes with an explicit span of 1 or greater\n\n      if (headOrFoot) {\n        // Header or footer cells\n        role = 'columnheader';\n        scope = colspan > 0 ? 'colspan' : 'col';\n      } else if (isTag(this.tag, 'th')) {\n        // th's in tbody\n        role = 'rowheader';\n        scope = rowspan > 0 ? 'rowgroup' : 'row';\n      }\n\n      return _objectSpread(_objectSpread({\n        colspan: colspan,\n        rowspan: rowspan,\n        role: role,\n        scope: scope\n      }, this.bvAttrs), {}, {\n        // Add in the stacked cell label data-attribute if in\n        // stacked mode (if a stacked heading label is provided)\n        'data-label': this.isStackedCell && !isUndefinedOrNull(stackedHeading) ?\n        /* istanbul ignore next */\n        toString(stackedHeading) : null\n      });\n    }\n  },\n  render: function render(h) {\n    var $content = [this.normalizeSlot()];\n    return h(this.tag, {\n      class: this.cellClasses,\n      attrs: this.cellAttrs,\n      // Transfer any native listeners\n      on: this.bvListeners\n    }, [this.isStackedCell ? h('div', [$content]) : $content]);\n  }\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { MODEL_EVENT_NAME_PREFIX } from '../../../constants/events';\nimport { PROP_TYPE_BOOLEAN } from '../../../constants/props';\nimport { SLOT_NAME_TABLE_BUSY } from '../../../constants/slots';\nimport { stopEvent } from '../../../utils/events';\nimport { isFunction } from '../../../utils/inspect';\nimport { makeProp } from '../../../utils/props';\nimport { BTr } from '../tr';\nimport { BTd } from '../td'; // --- Constants ---\n\nvar MODEL_PROP_NAME_BUSY = 'busy';\nvar MODEL_EVENT_NAME_BUSY = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_BUSY; // --- Props ---\n\nexport var props = _defineProperty({}, MODEL_PROP_NAME_BUSY, makeProp(PROP_TYPE_BOOLEAN, false)); // --- Mixin ---\n// @vue/component\n\nexport var busyMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      localBusy: false\n    };\n  },\n  computed: {\n    computedBusy: function computedBusy() {\n      return this[MODEL_PROP_NAME_BUSY] || this.localBusy;\n    }\n  },\n  watch: {\n    localBusy: function localBusy(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.$emit(MODEL_EVENT_NAME_BUSY, newValue);\n      }\n    }\n  },\n  methods: {\n    // Event handler helper\n    stopIfBusy: function stopIfBusy(event) {\n      // If table is busy (via provider) then don't propagate\n      if (this.computedBusy) {\n        stopEvent(event);\n        return true;\n      }\n\n      return false;\n    },\n    // Render the busy indicator or return `null` if not busy\n    renderBusy: function renderBusy() {\n      var tbodyTrClass = this.tbodyTrClass,\n          tbodyTrAttr = this.tbodyTrAttr;\n      var h = this.$createElement; // Return a busy indicator row, or `null` if not busy\n\n      if (this.computedBusy && this.hasNormalizedSlot(SLOT_NAME_TABLE_BUSY)) {\n        return h(BTr, {\n          staticClass: 'b-table-busy-slot',\n          class: [isFunction(tbodyTrClass) ?\n          /* istanbul ignore next */\n          tbodyTrClass(null, SLOT_NAME_TABLE_BUSY) : tbodyTrClass],\n          attrs: isFunction(tbodyTrAttr) ?\n          /* istanbul ignore next */\n          tbodyTrAttr(null, SLOT_NAME_TABLE_BUSY) : tbodyTrAttr,\n          key: 'table-busy-slot'\n        }, [h(BTd, {\n          props: {\n            colspan: this.computedFields.length || null\n          }\n        }, [this.normalizeSlot(SLOT_NAME_TABLE_BUSY)])]);\n      } // We return `null` here so that we can determine if we need to\n      // render the table items rows or not\n\n\n      return null;\n    }\n  }\n});","import { Vue } from '../../../vue';\nimport { PROP_TYPE_STRING } from '../../../constants/props';\nimport { SLOT_NAME_TABLE_CAPTION } from '../../../constants/slots';\nimport { htmlOrText } from '../../../utils/html';\nimport { makeProp } from '../../../utils/props'; // --- Props ---\n\nexport var props = {\n  caption: makeProp(PROP_TYPE_STRING),\n  captionHtml: makeProp(PROP_TYPE_STRING) // `caption-top` is part of table-render mixin (styling)\n  // captionTop: makeProp(PROP_TYPE_BOOLEAN, false)\n\n}; // --- Mixin ---\n// @vue/component\n\nexport var captionMixin = Vue.extend({\n  props: props,\n  computed: {\n    captionId: function captionId() {\n      // Even though `this.safeId` looks like a method, it is a computed prop\n      // that returns a new function if the underlying ID changes\n      return this.isStacked ? this.safeId('_caption_') : null;\n    }\n  },\n  methods: {\n    renderCaption: function renderCaption() {\n      var caption = this.caption,\n          captionHtml = this.captionHtml;\n      var h = this.$createElement;\n      var $caption = h();\n      var hasCaptionSlot = this.hasNormalizedSlot(SLOT_NAME_TABLE_CAPTION);\n\n      if (hasCaptionSlot || caption || captionHtml) {\n        $caption = h('caption', {\n          attrs: {\n            id: this.captionId\n          },\n          domProps: hasCaptionSlot ? {} : htmlOrText(captionHtml, caption),\n          key: 'caption'\n        }, this.normalizeSlot(SLOT_NAME_TABLE_CAPTION));\n      }\n\n      return $caption;\n    }\n  }\n});","import { Vue } from '../../../vue';\nimport { SLOT_NAME_TABLE_COLGROUP } from '../../../constants/slots'; // --- Props ---\n\nexport var props = {}; // --- Mixin ---\n// @vue/component\n\nexport var colgroupMixin = Vue.extend({\n  methods: {\n    renderColgroup: function renderColgroup() {\n      var fields = this.computedFields;\n      var h = this.$createElement;\n      var $colgroup = h();\n\n      if (this.hasNormalizedSlot(SLOT_NAME_TABLE_COLGROUP)) {\n        $colgroup = h('colgroup', {\n          key: 'colgroup'\n        }, [this.normalizeSlot(SLOT_NAME_TABLE_COLGROUP, {\n          columns: fields.length,\n          fields: fields\n        })]);\n      }\n\n      return $colgroup;\n    }\n  }\n});","import { Vue } from '../../../vue';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../../constants/props';\nimport { SLOT_NAME_EMPTY, SLOT_NAME_EMPTYFILTERED, SLOT_NAME_TABLE_BUSY } from '../../../constants/slots';\nimport { htmlOrText } from '../../../utils/html';\nimport { isFunction } from '../../../utils/inspect';\nimport { makeProp } from '../../../utils/props';\nimport { BTr } from '../tr';\nimport { BTd } from '../td'; // --- Props ---\n\nexport var props = {\n  emptyFilteredHtml: makeProp(PROP_TYPE_STRING),\n  emptyFilteredText: makeProp(PROP_TYPE_STRING, 'There are no records matching your request'),\n  emptyHtml: makeProp(PROP_TYPE_STRING),\n  emptyText: makeProp(PROP_TYPE_STRING, 'There are no records to show'),\n  showEmpty: makeProp(PROP_TYPE_BOOLEAN, false)\n}; // --- Mixin ---\n// @vue/component\n\nexport var emptyMixin = Vue.extend({\n  props: props,\n  methods: {\n    renderEmpty: function renderEmpty() {\n      var items = this.computedItems;\n      var h = this.$createElement;\n      var $empty = h();\n\n      if (this.showEmpty && (!items || items.length === 0) && !(this.computedBusy && this.hasNormalizedSlot(SLOT_NAME_TABLE_BUSY))) {\n        var fields = this.computedFields,\n            isFiltered = this.isFiltered,\n            emptyText = this.emptyText,\n            emptyHtml = this.emptyHtml,\n            emptyFilteredText = this.emptyFilteredText,\n            emptyFilteredHtml = this.emptyFilteredHtml,\n            tbodyTrClass = this.tbodyTrClass,\n            tbodyTrAttr = this.tbodyTrAttr;\n        $empty = this.normalizeSlot(isFiltered ? SLOT_NAME_EMPTYFILTERED : SLOT_NAME_EMPTY, {\n          emptyFilteredHtml: emptyFilteredHtml,\n          emptyFilteredText: emptyFilteredText,\n          emptyHtml: emptyHtml,\n          emptyText: emptyText,\n          fields: fields,\n          // Not sure why this is included, as it will always be an empty array\n          items: items\n        });\n\n        if (!$empty) {\n          $empty = h('div', {\n            class: ['text-center', 'my-2'],\n            domProps: isFiltered ? htmlOrText(emptyFilteredHtml, emptyFilteredText) : htmlOrText(emptyHtml, emptyText)\n          });\n        }\n\n        $empty = h(BTd, {\n          props: {\n            colspan: fields.length || null\n          }\n        }, [h('div', {\n          attrs: {\n            role: 'alert',\n            'aria-live': 'polite'\n          }\n        }, [$empty])]);\n        $empty = h(BTr, {\n          staticClass: 'b-table-empty-row',\n          class: [isFunction(tbodyTrClass) ?\n          /* istanbul ignore next */\n          tbodyTrClass(null, 'row-empty') : tbodyTrClass],\n          attrs: isFunction(tbodyTrAttr) ?\n          /* istanbul ignore next */\n          tbodyTrAttr(null, 'row-empty') : tbodyTrAttr,\n          key: isFiltered ? 'b-empty-filtered-row' : 'b-empty-row'\n        }, [$empty]);\n      }\n\n      return $empty;\n    }\n  }\n});","import { isDate, isObject, isUndefinedOrNull } from './inspect';\nimport { keys } from './object';\nimport { toString } from './string'; // Recursively stringifies the values of an object, space separated, in an\n// SSR safe deterministic way (keys are sorted before stringification)\n//\n//   ex:\n//     { b: 3, c: { z: 'zzz', d: null, e: 2 }, d: [10, 12, 11], a: 'one' }\n//   becomes\n//     'one 3 2 zzz 10 12 11'\n//\n// Strings are returned as-is\n// Numbers get converted to string\n// `null` and `undefined` values are filtered out\n// Dates are converted to their native string format\n\nexport var stringifyObjectValues = function stringifyObjectValues(value) {\n  if (isUndefinedOrNull(value)) {\n    return '';\n  } // Arrays are also object, and keys just returns the array indexes\n  // Date objects we convert to strings\n\n\n  if (isObject(value) && !isDate(value)) {\n    return keys(value).sort() // Sort to prevent SSR issues on pre-rendered sorted tables\n    .map(function (k) {\n      return stringifyObjectValues(value[k]);\n    }).filter(function (v) {\n      return !!v;\n    }) // Ignore empty strings\n    .join(' ');\n  }\n\n  return toString(value);\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Constants used by table helpers\nexport var FIELD_KEY_CELL_VARIANT = '_cellVariants';\nexport var FIELD_KEY_ROW_VARIANT = '_rowVariant';\nexport var FIELD_KEY_SHOW_DETAILS = '_showDetails'; // Object of item keys that should be ignored for headers and\n// stringification and filter events\n\nexport var IGNORED_FIELD_KEYS = [FIELD_KEY_CELL_VARIANT, FIELD_KEY_ROW_VARIANT, FIELD_KEY_SHOW_DETAILS].reduce(function (result, key) {\n  return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, key, true));\n}, {}); // Filter CSS selector for click/dblclick/etc. events\n// If any of these selectors match the clicked element, we ignore the event\n\nexport var EVENT_FILTER = ['a', 'a *', // Include content inside links\n'button', 'button *', // Include content inside buttons\n'input:not(.disabled):not([disabled])', 'select:not(.disabled):not([disabled])', 'textarea:not(.disabled):not([disabled])', '[role=\"link\"]', '[role=\"link\"] *', '[role=\"button\"]', '[role=\"button\"] *', '[tabindex]:not(.disabled):not([disabled])'].join(',');","import { arrayIncludes } from '../../../utils/array';\nimport { isArray, isFunction } from '../../../utils/inspect';\nimport { clone, keys, pick } from '../../../utils/object';\nimport { IGNORED_FIELD_KEYS } from './constants'; // Return a copy of a row after all reserved fields have been filtered out\n\nexport var sanitizeRow = function sanitizeRow(row, ignoreFields, includeFields) {\n  var fieldsObj = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  // We first need to format the row based on the field configurations\n  // This ensures that we add formatted values for keys that may not\n  // exist in the row itself\n  var formattedRow = keys(fieldsObj).reduce(function (result, key) {\n    var field = fieldsObj[key];\n    var filterByFormatted = field.filterByFormatted;\n    var formatter = isFunction(filterByFormatted) ?\n    /* istanbul ignore next */\n    filterByFormatted : filterByFormatted ?\n    /* istanbul ignore next */\n    field.formatter : null;\n\n    if (isFunction(formatter)) {\n      result[key] = formatter(row[key], key, row);\n    }\n\n    return result;\n  }, clone(row)); // Determine the allowed keys:\n  //   - Ignore special fields that start with `_`\n  //   - Ignore fields in the `ignoreFields` array\n  //   - Include only fields in the `includeFields` array\n\n  var allowedKeys = keys(formattedRow).filter(function (key) {\n    return !IGNORED_FIELD_KEYS[key] && !(isArray(ignoreFields) && ignoreFields.length > 0 && arrayIncludes(ignoreFields, key)) && !(isArray(includeFields) && includeFields.length > 0 && !arrayIncludes(includeFields, key));\n  });\n  return pick(formattedRow, allowedKeys);\n};","import { isObject } from '../../../utils/inspect';\nimport { stringifyObjectValues } from '../../../utils/stringify-object-values';\nimport { sanitizeRow } from './sanitize-row'; // Stringifies the values of a record, ignoring any special top level field keys\n// TODO: Add option to stringify `scopedSlot` items\n\nexport var stringifyRecordValues = function stringifyRecordValues(row, ignoreFields, includeFields, fieldsObj) {\n  return isObject(row) ? stringifyObjectValues(sanitizeRow(row, ignoreFields, includeFields, fieldsObj)) :\n  /* istanbul ignore next */\n  '';\n};","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { Vue } from '../../../vue';\nimport { NAME_TABLE } from '../../../constants/components';\nimport { EVENT_NAME_FILTERED } from '../../../constants/events';\nimport { PROP_TYPE_REG_EXP, PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_FUNCTION, PROP_TYPE_ARRAY, PROP_TYPE_NUMBER_STRING } from '../../../constants/props';\nimport { RX_DIGITS, RX_SPACES } from '../../../constants/regex';\nimport { concat } from '../../../utils/array';\nimport { cloneDeep } from '../../../utils/clone-deep';\nimport { identity } from '../../../utils/identity';\nimport { isFunction, isString, isRegExp } from '../../../utils/inspect';\nimport { looseEqual } from '../../../utils/loose-equal';\nimport { toInteger } from '../../../utils/number';\nimport { hasPropFunction, makeProp } from '../../../utils/props';\nimport { escapeRegExp } from '../../../utils/string';\nimport { warn } from '../../../utils/warn';\nimport { stringifyRecordValues } from './stringify-record-values'; // --- Constants ---\n\nvar DEBOUNCE_DEPRECATED_MSG = 'Prop \"filter-debounce\" is deprecated. Use the debounce feature of \"<b-form-input>\" instead.'; // --- Props ---\n\nexport var props = {\n  filter: makeProp([].concat(_toConsumableArray(PROP_TYPE_ARRAY_OBJECT_STRING), [PROP_TYPE_REG_EXP])),\n  filterDebounce: makeProp(PROP_TYPE_NUMBER_STRING, 0, function (value) {\n    return RX_DIGITS.test(String(value));\n  }),\n  filterFunction: makeProp(PROP_TYPE_FUNCTION),\n  filterIgnoredFields: makeProp(PROP_TYPE_ARRAY, []),\n  filterIncludedFields: makeProp(PROP_TYPE_ARRAY, [])\n}; // --- Mixin ---\n// @vue/component\n\nexport var filteringMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      // Flag for displaying which empty slot to show and some event triggering\n      isFiltered: false,\n      // Where we store the copy of the filter criteria after debouncing\n      // We pre-set it with the sanitized filter value\n      localFilter: this.filterSanitize(this.filter)\n    };\n  },\n  computed: {\n    computedFilterIgnored: function computedFilterIgnored() {\n      return concat(this.filterIgnoredFields || []).filter(identity);\n    },\n    computedFilterIncluded: function computedFilterIncluded() {\n      return concat(this.filterIncludedFields || []).filter(identity);\n    },\n    computedFilterDebounce: function computedFilterDebounce() {\n      var ms = toInteger(this.filterDebounce, 0);\n      /* istanbul ignore next */\n\n      if (ms > 0) {\n        warn(DEBOUNCE_DEPRECATED_MSG, NAME_TABLE);\n      }\n\n      return ms;\n    },\n    localFiltering: function localFiltering() {\n      return this.hasProvider ? !!this.noProviderFiltering : true;\n    },\n    // For watching changes to `filteredItems` vs `localItems`\n    filteredCheck: function filteredCheck() {\n      var filteredItems = this.filteredItems,\n          localItems = this.localItems,\n          localFilter = this.localFilter;\n      return {\n        filteredItems: filteredItems,\n        localItems: localItems,\n        localFilter: localFilter\n      };\n    },\n    // Sanitized/normalize filter-function prop\n    localFilterFn: function localFilterFn() {\n      // Return `null` to signal to use internal filter function\n      var filterFunction = this.filterFunction;\n      return hasPropFunction(filterFunction) ? filterFunction : null;\n    },\n    // Returns the records in `localItems` that match the filter criteria\n    // Returns the original `localItems` array if not sorting\n    filteredItems: function filteredItems() {\n      // Note the criteria is debounced and sanitized\n      var items = this.localItems,\n          criteria = this.localFilter; // Resolve the filtering function, when requested\n      // We prefer the provided filtering function and fallback to the internal one\n      // When no filtering criteria is specified the filtering factories will return `null`\n\n      var filterFn = this.localFiltering ? this.filterFnFactory(this.localFilterFn, criteria) || this.defaultFilterFnFactory(criteria) : null; // We only do local filtering when requested and there are records to filter\n\n      return filterFn && items.length > 0 ? items.filter(filterFn) : items;\n    }\n  },\n  watch: {\n    // Watch for debounce being set to 0\n    computedFilterDebounce: function computedFilterDebounce(newValue) {\n      if (!newValue && this.$_filterTimer) {\n        this.clearFilterTimer();\n        this.localFilter = this.filterSanitize(this.filter);\n      }\n    },\n    // Watch for changes to the filter criteria, and debounce if necessary\n    filter: {\n      // We need a deep watcher in case the user passes\n      // an object when using `filter-function`\n      deep: true,\n      handler: function handler(newCriteria) {\n        var _this = this;\n\n        var timeout = this.computedFilterDebounce;\n        this.clearFilterTimer();\n\n        if (timeout && timeout > 0) {\n          // If we have a debounce time, delay the update of `localFilter`\n          this.$_filterTimer = setTimeout(function () {\n            _this.localFilter = _this.filterSanitize(newCriteria);\n          }, timeout);\n        } else {\n          // Otherwise, immediately update `localFilter` with `newFilter` value\n          this.localFilter = this.filterSanitize(newCriteria);\n        }\n      }\n    },\n    // Watch for changes to the filter criteria and filtered items vs `localItems`\n    // Set visual state and emit events as required\n    filteredCheck: function filteredCheck(_ref) {\n      var filteredItems = _ref.filteredItems,\n          localFilter = _ref.localFilter;\n      // Determine if the dataset is filtered or not\n      var isFiltered = false;\n\n      if (!localFilter) {\n        // If filter criteria is falsey\n        isFiltered = false;\n      } else if (looseEqual(localFilter, []) || looseEqual(localFilter, {})) {\n        // If filter criteria is an empty array or object\n        isFiltered = false;\n      } else if (localFilter) {\n        // If filter criteria is truthy\n        isFiltered = true;\n      }\n\n      if (isFiltered) {\n        this.$emit(EVENT_NAME_FILTERED, filteredItems, filteredItems.length);\n      }\n\n      this.isFiltered = isFiltered;\n    },\n    isFiltered: function isFiltered(newValue, oldValue) {\n      if (newValue === false && oldValue === true) {\n        // We need to emit a filtered event if `isFiltered` transitions from `true` to\n        // `false` so that users can update their pagination controls\n        var localItems = this.localItems;\n        this.$emit(EVENT_NAME_FILTERED, localItems, localItems.length);\n      }\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    // Create private non-reactive props\n    this.$_filterTimer = null; // If filter is \"pre-set\", set the criteria\n    // This will trigger any watchers/dependents\n    // this.localFilter = this.filterSanitize(this.filter)\n    // Set the initial filtered state in a `$nextTick()` so that\n    // we trigger a filtered event if needed\n\n    this.$nextTick(function () {\n      _this2.isFiltered = Boolean(_this2.localFilter);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearFilterTimer();\n  },\n  methods: {\n    clearFilterTimer: function clearFilterTimer() {\n      clearTimeout(this.$_filterTimer);\n      this.$_filterTimer = null;\n    },\n    filterSanitize: function filterSanitize(criteria) {\n      // Sanitizes filter criteria based on internal or external filtering\n      if (this.localFiltering && !this.localFilterFn && !(isString(criteria) || isRegExp(criteria))) {\n        // If using internal filter function, which only accepts string or RegExp,\n        // return '' to signify no filter\n        return '';\n      } // Could be a string, object or array, as needed by external filter function\n      // We use `cloneDeep` to ensure we have a new copy of an object or array\n      // without Vue's reactive observers\n\n\n      return cloneDeep(criteria);\n    },\n    // Filter Function factories\n    filterFnFactory: function filterFnFactory(filterFn, criteria) {\n      // Wrapper factory for external filter functions\n      // Wrap the provided filter-function and return a new function\n      // Returns `null` if no filter-function defined or if criteria is falsey\n      // Rather than directly grabbing `this.computedLocalFilterFn` or `this.filterFunction`\n      // we have it passed, so that the caller computed prop will be reactive to changes\n      // in the original filter-function (as this routine is a method)\n      if (!filterFn || !isFunction(filterFn) || !criteria || looseEqual(criteria, []) || looseEqual(criteria, {})) {\n        return null;\n      } // Build the wrapped filter test function, passing the criteria to the provided function\n\n\n      var fn = function fn(item) {\n        // Generated function returns true if the criteria matches part\n        // of the serialized data, otherwise false\n        return filterFn(item, criteria);\n      }; // Return the wrapped function\n\n\n      return fn;\n    },\n    defaultFilterFnFactory: function defaultFilterFnFactory(criteria) {\n      var _this3 = this;\n\n      // Generates the default filter function, using the given filter criteria\n      // Returns `null` if no criteria or criteria format not supported\n      if (!criteria || !(isString(criteria) || isRegExp(criteria))) {\n        // Built in filter can only support strings or RegExp criteria (at the moment)\n        return null;\n      } // Build the RegExp needed for filtering\n\n\n      var regExp = criteria;\n\n      if (isString(regExp)) {\n        // Escape special RegExp characters in the string and convert contiguous\n        // whitespace to \\s+ matches\n        var pattern = escapeRegExp(criteria).replace(RX_SPACES, '\\\\s+'); // Build the RegExp (no need for global flag, as we only need\n        // to find the value once in the string)\n\n        regExp = new RegExp(\".*\".concat(pattern, \".*\"), 'i');\n      } // Generate the wrapped filter test function to use\n\n\n      var fn = function fn(item) {\n        // This searches all row values (and sub property values) in the entire (excluding\n        // special `_` prefixed keys), because we convert the record to a space-separated\n        // string containing all the value properties (recursively), even ones that are\n        // not visible (not specified in this.fields)\n        // Users can ignore filtering on specific fields, or on only certain fields,\n        // and can optionall specify searching results of fields with formatter\n        //\n        // TODO: Enable searching on scoped slots (optional, as it will be SLOW)\n        //\n        // Generated function returns true if the criteria matches part of\n        // the serialized data, otherwise false\n        //\n        // We set `lastIndex = 0` on the `RegExp` in case someone specifies the `/g` global flag\n        regExp.lastIndex = 0;\n        return regExp.test(stringifyRecordValues(item, _this3.computedFilterIgnored, _this3.computedFilterIncluded, _this3.computedFieldsObj));\n      }; // Return the generated function\n\n\n      return fn;\n    }\n  }\n});","import { identity } from '../../../utils/identity';\nimport { isArray, isFunction, isObject, isString } from '../../../utils/inspect';\nimport { clone, keys } from '../../../utils/object';\nimport { startCase } from '../../../utils/string';\nimport { IGNORED_FIELD_KEYS } from './constants'; // Private function to massage field entry into common object format\n\nvar processField = function processField(key, value) {\n  var field = null;\n\n  if (isString(value)) {\n    // Label shortcut\n    field = {\n      key: key,\n      label: value\n    };\n  } else if (isFunction(value)) {\n    // Formatter shortcut\n    field = {\n      key: key,\n      formatter: value\n    };\n  } else if (isObject(value)) {\n    field = clone(value);\n    field.key = field.key || key;\n  } else if (value !== false) {\n    // Fallback to just key\n\n    /* istanbul ignore next */\n    field = {\n      key: key\n    };\n  }\n\n  return field;\n}; // We normalize fields into an array of objects\n// [ { key:..., label:..., ...}, {...}, ..., {..}]\n\n\nexport var normalizeFields = function normalizeFields(origFields, items) {\n  var fields = [];\n\n  if (isArray(origFields)) {\n    // Normalize array Form\n    origFields.filter(identity).forEach(function (f) {\n      if (isString(f)) {\n        fields.push({\n          key: f,\n          label: startCase(f)\n        });\n      } else if (isObject(f) && f.key && isString(f.key)) {\n        // Full object definition. We use assign so that we don't mutate the original\n        fields.push(clone(f));\n      } else if (isObject(f) && keys(f).length === 1) {\n        // Shortcut object (i.e. { 'foo_bar': 'This is Foo Bar' }\n        var key = keys(f)[0];\n        var field = processField(key, f[key]);\n\n        if (field) {\n          fields.push(field);\n        }\n      }\n    });\n  } // If no field provided, take a sample from first record (if exits)\n\n\n  if (fields.length === 0 && isArray(items) && items.length > 0) {\n    var sample = items[0];\n    keys(sample).forEach(function (k) {\n      if (!IGNORED_FIELD_KEYS[k]) {\n        fields.push({\n          key: k,\n          label: startCase(k)\n        });\n      }\n    });\n  } // Ensure we have a unique array of fields and that they have String labels\n\n\n  var memo = {};\n  return fields.filter(function (f) {\n    if (!memo[f.key]) {\n      memo[f.key] = true;\n      f.label = isString(f.label) ? f.label : startCase(f.key);\n      return true;\n    }\n\n    return false;\n  });\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { EVENT_NAME_CONTEXT_CHANGED } from '../../../constants/events';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_STRING } from '../../../constants/props';\nimport { isArray, isFunction, isString } from '../../../utils/inspect';\nimport { looseEqual } from '../../../utils/loose-equal';\nimport { mathMax } from '../../../utils/math';\nimport { makeModelMixin } from '../../../utils/model';\nimport { toInteger } from '../../../utils/number';\nimport { clone, sortKeys } from '../../../utils/object';\nimport { makeProp } from '../../../utils/props';\nimport { normalizeFields } from './normalize-fields'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_ARRAY,\n  defaultValue: []\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = sortKeys(_objectSpread(_objectSpread({}, modelProps), {}, _defineProperty({\n  fields: makeProp(PROP_TYPE_ARRAY, null),\n  // Provider mixin adds in `Function` type\n  items: makeProp(PROP_TYPE_ARRAY, []),\n  // Primary key for record\n  // If provided the value in each row must be unique!\n  primaryKey: makeProp(PROP_TYPE_STRING)\n}, MODEL_PROP_NAME, makeProp(PROP_TYPE_ARRAY, [])))); // --- Mixin ---\n// @vue/component\n\nexport var itemsMixin = Vue.extend({\n  mixins: [modelMixin],\n  props: props,\n  data: function data() {\n    var items = this.items;\n    return {\n      // Our local copy of the items\n      // Must be an array\n      localItems: isArray(items) ? items.slice() : []\n    };\n  },\n  computed: {\n    computedFields: function computedFields() {\n      // We normalize fields into an array of objects\n      // `[ { key:..., label:..., ...}, {...}, ..., {..}]`\n      return normalizeFields(this.fields, this.localItems);\n    },\n    computedFieldsObj: function computedFieldsObj() {\n      // Fields as a simple lookup hash object\n      // Mainly for formatter lookup and use in `scopedSlots` for convenience\n      // If the field has a formatter, it normalizes formatter to a\n      // function ref or `undefined` if no formatter\n      var $parent = this.$parent;\n      return this.computedFields.reduce(function (obj, f) {\n        // We use object spread here so we don't mutate the original field object\n        obj[f.key] = clone(f);\n\n        if (f.formatter) {\n          // Normalize formatter to a function ref or `undefined`\n          var formatter = f.formatter;\n\n          if (isString(formatter) && isFunction($parent[formatter])) {\n            formatter = $parent[formatter];\n          } else if (!isFunction(formatter)) {\n            /* istanbul ignore next */\n            formatter = undefined;\n          } // Return formatter function or `undefined` if none\n\n\n          obj[f.key].formatter = formatter;\n        }\n\n        return obj;\n      }, {});\n    },\n    computedItems: function computedItems() {\n      // Fallback if various mixins not provided\n      return (this.paginatedItems || this.sortedItems || this.filteredItems || this.localItems ||\n      /* istanbul ignore next */\n      []).slice();\n    },\n    context: function context() {\n      // Current state of sorting, filtering and pagination props/values\n      return {\n        filter: this.localFilter,\n        sortBy: this.localSortBy,\n        sortDesc: this.localSortDesc,\n        perPage: mathMax(toInteger(this.perPage, 0), 0),\n        currentPage: mathMax(toInteger(this.currentPage, 0), 1),\n        apiUrl: this.apiUrl\n      };\n    }\n  },\n  watch: {\n    items: function items(newValue) {\n      // Set `localItems`/`filteredItems` to a copy of the provided array\n      this.localItems = isArray(newValue) ? newValue.slice() : [];\n    },\n    // Watch for changes on `computedItems` and update the `v-model`\n    computedItems: function computedItems(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n      }\n    },\n    // Watch for context changes\n    context: function context(newValue, oldValue) {\n      // Emit context information for external paging/filtering/sorting handling\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(EVENT_NAME_CONTEXT_CHANGED, newValue);\n      }\n    }\n  },\n  mounted: function mounted() {\n    // Initially update the `v-model` of displayed items\n    this.$emit(MODEL_EVENT_NAME, this.computedItems);\n  },\n  methods: {\n    // Method to get the formatter method for a given field key\n    getFieldFormatter: function getFieldFormatter(key) {\n      var field = this.computedFieldsObj[key]; // `this.computedFieldsObj` has pre-normalized the formatter to a\n      // function ref if present, otherwise `undefined`\n\n      return field ? field.formatter : undefined;\n    }\n  }\n});","import { Vue } from '../../../vue';\nimport { PROP_TYPE_NUMBER_STRING } from '../../../constants/props';\nimport { mathMax } from '../../../utils/math';\nimport { toInteger } from '../../../utils/number';\nimport { makeProp } from '../../../utils/props'; // --- Props ---\n\nexport var props = {\n  currentPage: makeProp(PROP_TYPE_NUMBER_STRING, 1),\n  perPage: makeProp(PROP_TYPE_NUMBER_STRING, 0)\n}; // --- Mixin ---\n// @vue/component\n\nexport var paginationMixin = Vue.extend({\n  props: props,\n  computed: {\n    localPaging: function localPaging() {\n      return this.hasProvider ? !!this.noProviderPaging : true;\n    },\n    paginatedItems: function paginatedItems() {\n      var items = this.sortedItems || this.filteredItems || this.localItems || [];\n      var currentPage = mathMax(toInteger(this.currentPage, 1), 1);\n      var perPage = mathMax(toInteger(this.perPage, 0), 0); // Apply local pagination\n\n      if (this.localPaging && perPage) {\n        // Grab the current page of data (which may be past filtered items limit)\n        items = items.slice((currentPage - 1) * perPage, currentPage * perPage);\n      } // Return the items to display in the table\n\n\n      return items;\n    }\n  }\n});","import { Vue } from '../../../vue';\nimport { NAME_TABLE } from '../../../constants/components';\nimport { EVENT_NAME_REFRESH, EVENT_NAME_REFRESHED } from '../../../constants/events';\nimport { PROP_TYPE_ARRAY_FUNCTION, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../../constants/props';\nimport { getRootActionEventName, getRootEventName } from '../../../utils/events';\nimport { isArray, isFunction, isPromise } from '../../../utils/inspect';\nimport { looseEqual } from '../../../utils/loose-equal';\nimport { clone } from '../../../utils/object';\nimport { makeProp } from '../../../utils/props';\nimport { warn } from '../../../utils/warn';\nimport { listenOnRootMixin } from '../../../mixins/listen-on-root'; // --- Constants ---\n\nvar ROOT_EVENT_NAME_REFRESHED = getRootEventName(NAME_TABLE, EVENT_NAME_REFRESHED);\nvar ROOT_ACTION_EVENT_NAME_REFRESH = getRootActionEventName(NAME_TABLE, EVENT_NAME_REFRESH); // --- Props ---\n\nexport var props = {\n  // Passed to the context object\n  // Not used by `<b-table>` directly\n  apiUrl: makeProp(PROP_TYPE_STRING),\n  // Adds in 'Function' support\n  items: makeProp(PROP_TYPE_ARRAY_FUNCTION, []),\n  noProviderFiltering: makeProp(PROP_TYPE_BOOLEAN, false),\n  noProviderPaging: makeProp(PROP_TYPE_BOOLEAN, false),\n  noProviderSorting: makeProp(PROP_TYPE_BOOLEAN, false)\n}; // --- Mixin ---\n// @vue/component\n\nexport var providerMixin = Vue.extend({\n  mixins: [listenOnRootMixin],\n  props: props,\n  computed: {\n    hasProvider: function hasProvider() {\n      return isFunction(this.items);\n    },\n    providerTriggerContext: function providerTriggerContext() {\n      // Used to trigger the provider function via a watcher. Only the fields that\n      // are needed for triggering a provider update are included. Note that the\n      // regular this.context is sent to the provider during fetches though, as they\n      // may need all the prop info.\n      var ctx = {\n        apiUrl: this.apiUrl,\n        filter: null,\n        sortBy: null,\n        sortDesc: null,\n        perPage: null,\n        currentPage: null\n      };\n\n      if (!this.noProviderFiltering) {\n        // Either a string, or could be an object or array.\n        ctx.filter = this.localFilter;\n      }\n\n      if (!this.noProviderSorting) {\n        ctx.sortBy = this.localSortBy;\n        ctx.sortDesc = this.localSortDesc;\n      }\n\n      if (!this.noProviderPaging) {\n        ctx.perPage = this.perPage;\n        ctx.currentPage = this.currentPage;\n      }\n\n      return clone(ctx);\n    }\n  },\n  watch: {\n    // Provider update triggering\n    items: function items(newValue) {\n      // If a new provider has been specified, trigger an update\n      if (this.hasProvider || isFunction(newValue)) {\n        this.$nextTick(this._providerUpdate);\n      }\n    },\n    providerTriggerContext: function providerTriggerContext(newValue, oldValue) {\n      // Trigger the provider to update as the relevant context values have changed.\n      if (!looseEqual(newValue, oldValue)) {\n        this.$nextTick(this._providerUpdate);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // Call the items provider if necessary\n    if (this.hasProvider && (!this.localItems || this.localItems.length === 0)) {\n      // Fetch on mount if localItems is empty\n      this._providerUpdate();\n    } // Listen for global messages to tell us to force refresh the table\n\n\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_REFRESH, function (id) {\n      if (id === _this.id || id === _this) {\n        _this.refresh();\n      }\n    });\n  },\n  methods: {\n    refresh: function refresh() {\n      var items = this.items,\n          refresh = this.refresh; // Public Method: Force a refresh of the provider function\n\n      this.$off(EVENT_NAME_REFRESHED, refresh);\n\n      if (this.computedBusy) {\n        // Can't force an update when forced busy by user (busy prop === true)\n        if (this.localBusy && this.hasProvider) {\n          // But if provider running (localBusy), re-schedule refresh once `refreshed` emitted\n          this.$on(EVENT_NAME_REFRESHED, refresh);\n        }\n      } else {\n        this.clearSelected();\n\n        if (this.hasProvider) {\n          this.$nextTick(this._providerUpdate);\n        } else {\n          /* istanbul ignore next */\n          this.localItems = isArray(items) ? items.slice() : [];\n        }\n      }\n    },\n    // Provider related methods\n    _providerSetLocal: function _providerSetLocal(items) {\n      this.localItems = isArray(items) ? items.slice() : [];\n      this.localBusy = false;\n      this.$emit(EVENT_NAME_REFRESHED); // New root emit\n\n      if (this.id) {\n        this.emitOnRoot(ROOT_EVENT_NAME_REFRESHED, this.id);\n      }\n    },\n    _providerUpdate: function _providerUpdate() {\n      var _this2 = this;\n\n      // Refresh the provider function items.\n      if (!this.hasProvider) {\n        // Do nothing if no provider\n        return;\n      } // If table is busy, wait until refreshed before calling again\n\n\n      if (this.computedBusy) {\n        // Schedule a new refresh once `refreshed` is emitted\n        this.$nextTick(this.refresh);\n        return;\n      } // Set internal busy state\n\n\n      this.localBusy = true; // Call provider function with context and optional callback after DOM is fully updated\n\n      this.$nextTick(function () {\n        try {\n          // Call provider function passing it the context and optional callback\n          var data = _this2.items(_this2.context, _this2._providerSetLocal);\n\n          if (isPromise(data)) {\n            // Provider returned Promise\n            data.then(function (items) {\n              // Provider resolved with items\n              _this2._providerSetLocal(items);\n            });\n          } else if (isArray(data)) {\n            // Provider returned Array data\n            _this2._providerSetLocal(data);\n          } else {\n            /* istanbul ignore if */\n            if (_this2.items.length !== 2) {\n              // Check number of arguments provider function requested\n              // Provider not using callback (didn't request second argument), so we clear\n              // busy state as most likely there was an error in the provider function\n\n              /* istanbul ignore next */\n              warn(\"Provider function didn't request callback and did not return a promise or data.\", NAME_TABLE);\n              _this2.localBusy = false;\n            }\n          }\n        } catch (e)\n        /* istanbul ignore next */\n        {\n          // Provider function borked on us, so we spew out a warning\n          // and clear the busy state\n          warn(\"Provider function error [\".concat(e.name, \"] \").concat(e.message, \".\"), NAME_TABLE);\n          _this2.localBusy = false;\n\n          _this2.$off(EVENT_NAME_REFRESHED, _this2.refresh);\n        }\n      });\n    }\n  }\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { EVENT_NAME_CONTEXT_CHANGED, EVENT_NAME_FILTERED, EVENT_NAME_ROW_CLICKED, EVENT_NAME_ROW_SELECTED } from '../../../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../../constants/props';\nimport { arrayIncludes, createArray } from '../../../utils/array';\nimport { identity } from '../../../utils/identity';\nimport { isArray, isNumber } from '../../../utils/inspect';\nimport { looseEqual } from '../../../utils/loose-equal';\nimport { mathMax, mathMin } from '../../../utils/math';\nimport { makeProp } from '../../../utils/props';\nimport { sanitizeRow } from './sanitize-row'; // --- Constants ---\n\nvar SELECT_MODES = ['range', 'multi', 'single']; // --- Props ---\n\nexport var props = {\n  // Disable use of click handlers for row selection\n  noSelectOnClick: makeProp(PROP_TYPE_BOOLEAN, false),\n  selectMode: makeProp(PROP_TYPE_STRING, 'multi', function (value) {\n    return arrayIncludes(SELECT_MODES, value);\n  }),\n  selectable: makeProp(PROP_TYPE_BOOLEAN, false),\n  selectedVariant: makeProp(PROP_TYPE_STRING, 'active')\n}; // --- Mixin ---\n// @vue/component\n\nexport var selectableMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      selectedRows: [],\n      selectedLastRow: -1\n    };\n  },\n  computed: {\n    isSelectable: function isSelectable() {\n      return this.selectable && this.selectMode;\n    },\n    hasSelectableRowClick: function hasSelectableRowClick() {\n      return this.isSelectable && !this.noSelectOnClick;\n    },\n    supportsSelectableRows: function supportsSelectableRows() {\n      return true;\n    },\n    selectableHasSelection: function selectableHasSelection() {\n      var selectedRows = this.selectedRows;\n      return this.isSelectable && selectedRows && selectedRows.length > 0 && selectedRows.some(identity);\n    },\n    selectableIsMultiSelect: function selectableIsMultiSelect() {\n      return this.isSelectable && arrayIncludes(['range', 'multi'], this.selectMode);\n    },\n    selectableTableClasses: function selectableTableClasses() {\n      var _ref;\n\n      var isSelectable = this.isSelectable;\n      return _ref = {\n        'b-table-selectable': isSelectable\n      }, _defineProperty(_ref, \"b-table-select-\".concat(this.selectMode), isSelectable), _defineProperty(_ref, 'b-table-selecting', this.selectableHasSelection), _defineProperty(_ref, 'b-table-selectable-no-click', isSelectable && !this.hasSelectableRowClick), _ref;\n    },\n    selectableTableAttrs: function selectableTableAttrs() {\n      return {\n        // TODO:\n        //   Should this attribute not be included when no-select-on-click is set\n        //   since this attribute implies keyboard navigation?\n        'aria-multiselectable': !this.isSelectable ? null : this.selectableIsMultiSelect ? 'true' : 'false'\n      };\n    }\n  },\n  watch: {\n    computedItems: function computedItems(newValue, oldValue) {\n      // Reset for selectable\n      var equal = false;\n\n      if (this.isSelectable && this.selectedRows.length > 0) {\n        // Quick check against array length\n        equal = isArray(newValue) && isArray(oldValue) && newValue.length === oldValue.length;\n\n        for (var i = 0; equal && i < newValue.length; i++) {\n          // Look for the first non-loosely equal row, after ignoring reserved fields\n          equal = looseEqual(sanitizeRow(newValue[i]), sanitizeRow(oldValue[i]));\n        }\n      }\n\n      if (!equal) {\n        this.clearSelected();\n      }\n    },\n    selectable: function selectable(newValue) {\n      this.clearSelected();\n      this.setSelectionHandlers(newValue);\n    },\n    selectMode: function selectMode() {\n      this.clearSelected();\n    },\n    hasSelectableRowClick: function hasSelectableRowClick(newValue) {\n      this.clearSelected();\n      this.setSelectionHandlers(!newValue);\n    },\n    selectedRows: function selectedRows(_selectedRows, oldValue) {\n      var _this = this;\n\n      if (this.isSelectable && !looseEqual(_selectedRows, oldValue)) {\n        var items = []; // `.forEach()` skips over non-existent indices (on sparse arrays)\n\n        _selectedRows.forEach(function (v, idx) {\n          if (v) {\n            items.push(_this.computedItems[idx]);\n          }\n        });\n\n        this.$emit(EVENT_NAME_ROW_SELECTED, items);\n      }\n    }\n  },\n  beforeMount: function beforeMount() {\n    // Set up handlers if needed\n    if (this.isSelectable) {\n      this.setSelectionHandlers(true);\n    }\n  },\n  methods: {\n    // Public methods\n    selectRow: function selectRow(index) {\n      // Select a particular row (indexed based on computedItems)\n      if (this.isSelectable && isNumber(index) && index >= 0 && index < this.computedItems.length && !this.isRowSelected(index)) {\n        var selectedRows = this.selectableIsMultiSelect ? this.selectedRows.slice() : [];\n        selectedRows[index] = true;\n        this.selectedLastClicked = -1;\n        this.selectedRows = selectedRows;\n      }\n    },\n    unselectRow: function unselectRow(index) {\n      // Un-select a particular row (indexed based on `computedItems`)\n      if (this.isSelectable && isNumber(index) && this.isRowSelected(index)) {\n        var selectedRows = this.selectedRows.slice();\n        selectedRows[index] = false;\n        this.selectedLastClicked = -1;\n        this.selectedRows = selectedRows;\n      }\n    },\n    selectAllRows: function selectAllRows() {\n      var length = this.computedItems.length;\n\n      if (this.isSelectable && length > 0) {\n        this.selectedLastClicked = -1;\n        this.selectedRows = this.selectableIsMultiSelect ? createArray(length, true) : [true];\n      }\n    },\n    isRowSelected: function isRowSelected(index) {\n      // Determine if a row is selected (indexed based on `computedItems`)\n      return !!(isNumber(index) && this.selectedRows[index]);\n    },\n    clearSelected: function clearSelected() {\n      // Clear any active selected row(s)\n      this.selectedLastClicked = -1;\n      this.selectedRows = [];\n    },\n    // Internal private methods\n    selectableRowClasses: function selectableRowClasses(index) {\n      if (this.isSelectable && this.isRowSelected(index)) {\n        var variant = this.selectedVariant;\n        return _defineProperty({\n          'b-table-row-selected': true\n        }, \"\".concat(this.dark ? 'bg' : 'table', \"-\").concat(variant), variant);\n      }\n\n      return {};\n    },\n    selectableRowAttrs: function selectableRowAttrs(index) {\n      return {\n        'aria-selected': !this.isSelectable ? null : this.isRowSelected(index) ? 'true' : 'false'\n      };\n    },\n    setSelectionHandlers: function setSelectionHandlers(on) {\n      var method = on && !this.noSelectOnClick ? '$on' : '$off'; // Handle row-clicked event\n\n      this[method](EVENT_NAME_ROW_CLICKED, this.selectionHandler); // Clear selection on filter, pagination, and sort changes\n\n      this[method](EVENT_NAME_FILTERED, this.clearSelected);\n      this[method](EVENT_NAME_CONTEXT_CHANGED, this.clearSelected);\n    },\n    selectionHandler: function selectionHandler(item, index, event) {\n      /* istanbul ignore if: should never happen */\n      if (!this.isSelectable || this.noSelectOnClick) {\n        // Don't do anything if table is not in selectable mode\n        this.clearSelected();\n        return;\n      }\n\n      var selectMode = this.selectMode,\n          selectedLastRow = this.selectedLastRow;\n      var selectedRows = this.selectedRows.slice();\n      var selected = !selectedRows[index]; // Note 'multi' mode needs no special event handling\n\n      if (selectMode === 'single') {\n        selectedRows = [];\n      } else if (selectMode === 'range') {\n        if (selectedLastRow > -1 && event.shiftKey) {\n          // range\n          for (var idx = mathMin(selectedLastRow, index); idx <= mathMax(selectedLastRow, index); idx++) {\n            selectedRows[idx] = true;\n          }\n\n          selected = true;\n        } else {\n          if (!(event.ctrlKey || event.metaKey)) {\n            // Clear range selection if any\n            selectedRows = [];\n            selected = true;\n          }\n\n          this.selectedLastRow = selected ? index : -1;\n        }\n      }\n\n      selectedRows[index] = selected;\n      this.selectedRows = selectedRows;\n    }\n  }\n});","var _props, _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { EVENT_NAME_HEAD_CLICKED, EVENT_NAME_SORT_CHANGED, MODEL_EVENT_NAME_PREFIX } from '../../../constants/events';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_FUNCTION, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../../constants/props';\nimport { arrayIncludes } from '../../../utils/array';\nimport { isFunction, isUndefinedOrNull } from '../../../utils/inspect';\nimport { makeProp } from '../../../utils/props';\nimport { stableSort } from '../../../utils/stable-sort';\nimport { trim } from '../../../utils/string';\nimport { defaultSortCompare } from './default-sort-compare'; // --- Constants ---\n\nvar MODEL_PROP_NAME_SORT_BY = 'sortBy';\nvar MODEL_EVENT_NAME_SORT_BY = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_SORT_BY;\nvar MODEL_PROP_NAME_SORT_DESC = 'sortDesc';\nvar MODEL_EVENT_NAME_SORT_DESC = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_SORT_DESC;\nvar SORT_DIRECTION_ASC = 'asc';\nvar SORT_DIRECTION_DESC = 'desc';\nvar SORT_DIRECTION_LAST = 'last';\nvar SORT_DIRECTIONS = [SORT_DIRECTION_ASC, SORT_DIRECTION_DESC, SORT_DIRECTION_LAST]; // --- Props ---\n\nexport var props = (_props = {\n  labelSortAsc: makeProp(PROP_TYPE_STRING, 'Click to sort Ascending'),\n  labelSortClear: makeProp(PROP_TYPE_STRING, 'Click to clear sorting'),\n  labelSortDesc: makeProp(PROP_TYPE_STRING, 'Click to sort Descending'),\n  noFooterSorting: makeProp(PROP_TYPE_BOOLEAN, false),\n  noLocalSorting: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Another prop that should have had a better name\n  // It should be `noSortClear` (on non-sortable headers)\n  // We will need to make sure the documentation is clear on what\n  // this prop does (as well as in the code for future reference)\n  noSortReset: makeProp(PROP_TYPE_BOOLEAN, false)\n}, _defineProperty(_props, MODEL_PROP_NAME_SORT_BY, makeProp(PROP_TYPE_STRING)), _defineProperty(_props, \"sortCompare\", makeProp(PROP_TYPE_FUNCTION)), _defineProperty(_props, \"sortCompareLocale\", makeProp(PROP_TYPE_ARRAY_STRING)), _defineProperty(_props, \"sortCompareOptions\", makeProp(PROP_TYPE_OBJECT, {\n  numeric: true\n})), _defineProperty(_props, MODEL_PROP_NAME_SORT_DESC, makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_props, \"sortDirection\", makeProp(PROP_TYPE_STRING, SORT_DIRECTION_ASC, function (value) {\n  return arrayIncludes(SORT_DIRECTIONS, value);\n})), _defineProperty(_props, \"sortIconLeft\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_props, \"sortNullLast\", makeProp(PROP_TYPE_BOOLEAN, false)), _props); // --- Mixin ---\n// @vue/component\n\nexport var sortingMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      localSortBy: this[MODEL_PROP_NAME_SORT_BY] || '',\n      localSortDesc: this[MODEL_PROP_NAME_SORT_DESC] || false\n    };\n  },\n  computed: {\n    localSorting: function localSorting() {\n      return this.hasProvider ? !!this.noProviderSorting : !this.noLocalSorting;\n    },\n    isSortable: function isSortable() {\n      return this.computedFields.some(function (f) {\n        return f.sortable;\n      });\n    },\n    // Sorts the filtered items and returns a new array of the sorted items\n    // When not sorted, the original items array will be returned\n    sortedItems: function sortedItems() {\n      var sortBy = this.localSortBy,\n          sortDesc = this.localSortDesc,\n          locale = this.sortCompareLocale,\n          nullLast = this.sortNullLast,\n          sortCompare = this.sortCompare,\n          localSorting = this.localSorting;\n      var items = (this.filteredItems || this.localItems || []).slice();\n\n      var localeOptions = _objectSpread(_objectSpread({}, this.sortCompareOptions), {}, {\n        usage: 'sort'\n      });\n\n      if (sortBy && localSorting) {\n        var field = this.computedFieldsObj[sortBy] || {};\n        var sortByFormatted = field.sortByFormatted;\n        var formatter = isFunction(sortByFormatted) ?\n        /* istanbul ignore next */\n        sortByFormatted : sortByFormatted ? this.getFieldFormatter(sortBy) : undefined; // `stableSort` returns a new array, and leaves the original array intact\n\n        return stableSort(items, function (a, b) {\n          var result = null; // Call user provided `sortCompare` routine first\n\n          if (isFunction(sortCompare)) {\n            // TODO:\n            //   Change the `sortCompare` signature to the one of `defaultSortCompare`\n            //   with the next major version bump\n            result = sortCompare(a, b, sortBy, sortDesc, formatter, localeOptions, locale);\n          } // Fallback to built-in `defaultSortCompare` if `sortCompare`\n          // is not defined or returns `null`/`false`\n\n\n          if (isUndefinedOrNull(result) || result === false) {\n            result = defaultSortCompare(a, b, {\n              sortBy: sortBy,\n              formatter: formatter,\n              locale: locale,\n              localeOptions: localeOptions,\n              nullLast: nullLast\n            });\n          } // Negate result if sorting in descending order\n\n\n          return (result || 0) * (sortDesc ? -1 : 1);\n        });\n      }\n\n      return items;\n    }\n  },\n  watch: (_watch = {\n    /* istanbul ignore next: pain in the butt to test */\n    isSortable: function isSortable(newValue) {\n      if (newValue) {\n        if (this.isSortable) {\n          this.$on(EVENT_NAME_HEAD_CLICKED, this.handleSort);\n        }\n      } else {\n        this.$off(EVENT_NAME_HEAD_CLICKED, this.handleSort);\n      }\n    }\n  }, _defineProperty(_watch, MODEL_PROP_NAME_SORT_DESC, function (newValue) {\n    /* istanbul ignore next */\n    if (newValue === this.localSortDesc) {\n      return;\n    }\n\n    this.localSortDesc = newValue || false;\n  }), _defineProperty(_watch, MODEL_PROP_NAME_SORT_BY, function (newValue) {\n    /* istanbul ignore next */\n    if (newValue === this.localSortBy) {\n      return;\n    }\n\n    this.localSortBy = newValue || '';\n  }), _defineProperty(_watch, \"localSortDesc\", function localSortDesc(newValue, oldValue) {\n    // Emit update to sort-desc.sync\n    if (newValue !== oldValue) {\n      this.$emit(MODEL_EVENT_NAME_SORT_DESC, newValue);\n    }\n  }), _defineProperty(_watch, \"localSortBy\", function localSortBy(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.$emit(MODEL_EVENT_NAME_SORT_BY, newValue);\n    }\n  }), _watch),\n  created: function created() {\n    if (this.isSortable) {\n      this.$on(EVENT_NAME_HEAD_CLICKED, this.handleSort);\n    }\n  },\n  methods: {\n    // Handlers\n    // Need to move from thead-mixin\n    handleSort: function handleSort(key, field, event, isFoot) {\n      var _this = this;\n\n      if (!this.isSortable) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      if (isFoot && this.noFooterSorting) {\n        return;\n      } // TODO: make this tri-state sorting\n      // cycle desc => asc => none => desc => ...\n\n\n      var sortChanged = false;\n\n      var toggleLocalSortDesc = function toggleLocalSortDesc() {\n        var sortDirection = field.sortDirection || _this.sortDirection;\n\n        if (sortDirection === SORT_DIRECTION_ASC) {\n          _this.localSortDesc = false;\n        } else if (sortDirection === SORT_DIRECTION_DESC) {\n          _this.localSortDesc = true;\n        } else {// sortDirection === 'last'\n          // Leave at last sort direction from previous column\n        }\n      };\n\n      if (field.sortable) {\n        var sortKey = !this.localSorting && field.sortKey ? field.sortKey : key;\n\n        if (this.localSortBy === sortKey) {\n          // Change sorting direction on current column\n          this.localSortDesc = !this.localSortDesc;\n        } else {\n          // Start sorting this column ascending\n          this.localSortBy = sortKey; // this.localSortDesc = false\n\n          toggleLocalSortDesc();\n        }\n\n        sortChanged = true;\n      } else if (this.localSortBy && !this.noSortReset) {\n        this.localSortBy = '';\n        toggleLocalSortDesc();\n        sortChanged = true;\n      }\n\n      if (sortChanged) {\n        // Sorting parameters changed\n        this.$emit(EVENT_NAME_SORT_CHANGED, this.context);\n      }\n    },\n    // methods to compute classes and attrs for thead>th cells\n    sortTheadThClasses: function sortTheadThClasses(key, field, isFoot) {\n      return {\n        // If sortable and sortIconLeft are true, then place sort icon on the left\n        'b-table-sort-icon-left': field.sortable && this.sortIconLeft && !(isFoot && this.noFooterSorting)\n      };\n    },\n    sortTheadThAttrs: function sortTheadThAttrs(key, field, isFoot) {\n      if (!this.isSortable || isFoot && this.noFooterSorting) {\n        // No attributes if not a sortable table\n        return {};\n      }\n\n      var sortable = field.sortable; // Assemble the aria-sort attribute value\n\n      var ariaSort = sortable && this.localSortBy === key ? this.localSortDesc ? 'descending' : 'ascending' : sortable ? 'none' : null; // Return the attribute\n\n      return {\n        'aria-sort': ariaSort\n      };\n    },\n    sortTheadThLabel: function sortTheadThLabel(key, field, isFoot) {\n      // A label to be placed in an `.sr-only` element in the header cell\n      if (!this.isSortable || isFoot && this.noFooterSorting) {\n        // No label if not a sortable table\n        return null;\n      }\n\n      var sortable = field.sortable; // The correctness of these labels is very important for screen-reader users.\n\n      var labelSorting = '';\n\n      if (sortable) {\n        if (this.localSortBy === key) {\n          // currently sorted sortable column.\n          labelSorting = this.localSortDesc ? this.labelSortAsc : this.labelSortDesc;\n        } else {\n          // Not currently sorted sortable column.\n          // Not using nested ternary's here for clarity/readability\n          // Default for ariaLabel\n          labelSorting = this.localSortDesc ? this.labelSortDesc : this.labelSortAsc; // Handle sortDirection setting\n\n          var sortDirection = this.sortDirection || field.sortDirection;\n\n          if (sortDirection === SORT_DIRECTION_ASC) {\n            labelSorting = this.labelSortAsc;\n          } else if (sortDirection === SORT_DIRECTION_DESC) {\n            labelSorting = this.labelSortDesc;\n          }\n        }\n      } else if (!this.noSortReset) {\n        // Non sortable column\n        labelSorting = this.localSortBy ? this.labelSortClear : '';\n      } // Return the sr-only sort label or null if no label\n\n\n      return trim(labelSorting) || null;\n    }\n  }\n});","/*\n * Consistent and stable sort function across JavaScript platforms\n *\n * Inconsistent sorts can cause SSR problems between client and server\n * such as in <b-table> if sortBy is applied to the data on server side render.\n * Chrome and V8 native sorts are inconsistent/unstable\n *\n * This function uses native sort with fallback to index compare when the a and b\n * compare returns 0\n *\n * Algorithm based on:\n * https://stackoverflow.com/questions/1427608/fast-stable-sorting-algorithm-implementation-in-javascript/45422645#45422645\n *\n * @param {array} array to sort\n * @param {function} sort compare function\n * @return {array}\n */\nexport var stableSort = function stableSort(array, compareFn) {\n  // Using `.bind(compareFn)` on the wrapped anonymous function improves\n  // performance by avoiding the function call setup. We don't use an arrow\n  // function here as it binds `this` to the `stableSort` context rather than\n  // the `compareFn` context, which wouldn't give us the performance increase.\n  return array.map(function (a, index) {\n    return [index, a];\n  }).sort(function (a, b) {\n    return this(a[1], b[1]) || a[0] - b[0];\n  }.bind(compareFn)).map(function (e) {\n    return e[1];\n  });\n};","import { get } from '../../../utils/get';\nimport { isDate, isFunction, isNumber, isNumeric, isUndefinedOrNull } from '../../../utils/inspect';\nimport { toFloat } from '../../../utils/number';\nimport { stringifyObjectValues } from '../../../utils/stringify-object-values';\n\nvar normalizeValue = function normalizeValue(value) {\n  if (isUndefinedOrNull(value)) {\n    return '';\n  }\n\n  if (isNumeric(value)) {\n    return toFloat(value, value);\n  }\n\n  return value;\n}; // Default sort compare routine\n//\n// TODO:\n//   Add option to sort by multiple columns (tri-state per column,\n//   plus order of columns in sort) where `sortBy` could be an array\n//   of objects `[ {key: 'foo', sortDir: 'asc'}, {key:'bar', sortDir: 'desc'} ...]`\n//   or an array of arrays `[ ['foo','asc'], ['bar','desc'] ]`\n//   Multisort will most likely be handled in `mixin-sort.js` by\n//   calling this method for each sortBy\n\n\nexport var defaultSortCompare = function defaultSortCompare(a, b) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$sortBy = _ref.sortBy,\n      sortBy = _ref$sortBy === void 0 ? null : _ref$sortBy,\n      _ref$formatter = _ref.formatter,\n      formatter = _ref$formatter === void 0 ? null : _ref$formatter,\n      _ref$locale = _ref.locale,\n      locale = _ref$locale === void 0 ? undefined : _ref$locale,\n      _ref$localeOptions = _ref.localeOptions,\n      localeOptions = _ref$localeOptions === void 0 ? {} : _ref$localeOptions,\n      _ref$nullLast = _ref.nullLast,\n      nullLast = _ref$nullLast === void 0 ? false : _ref$nullLast;\n\n  // Get the value by `sortBy`\n  var aa = get(a, sortBy, null);\n  var bb = get(b, sortBy, null); // Apply user-provided formatter\n\n  if (isFunction(formatter)) {\n    aa = formatter(aa, sortBy, a);\n    bb = formatter(bb, sortBy, b);\n  } // Internally normalize value\n  // `null` / `undefined` => ''\n  // `'0'` => `0`\n\n\n  aa = normalizeValue(aa);\n  bb = normalizeValue(bb);\n\n  if (isDate(aa) && isDate(bb) || isNumber(aa) && isNumber(bb)) {\n    // Special case for comparing dates and numbers\n    // Internally dates are compared via their epoch number values\n    return aa < bb ? -1 : aa > bb ? 1 : 0;\n  } else if (nullLast && aa === '' && bb !== '') {\n    // Special case when sorting `null` / `undefined` / '' last\n    return 1;\n  } else if (nullLast && aa !== '' && bb === '') {\n    // Special case when sorting `null` / `undefined` / '' last\n    return -1;\n  } // Do localized string comparison\n\n\n  return stringifyObjectValues(aa).localeCompare(stringifyObjectValues(bb), locale, localeOptions);\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { PROP_TYPE_BOOLEAN_STRING } from '../../../constants/props';\nimport { makeProp } from '../../../utils/props'; // --- Props ---\n\nexport var props = {\n  stacked: makeProp(PROP_TYPE_BOOLEAN_STRING, false)\n}; // --- Mixin ---\n// @vue/component\n\nexport var stackedMixin = Vue.extend({\n  props: props,\n  computed: {\n    isStacked: function isStacked() {\n      var stacked = this.stacked; // `true` when always stacked, or returns breakpoint specified\n\n      return stacked === '' ? true : stacked;\n    },\n    isStackedAlways: function isStackedAlways() {\n      return this.isStacked === true;\n    },\n    stackedTableClasses: function stackedTableClasses() {\n      var isStackedAlways = this.isStackedAlways;\n      return _defineProperty({\n        'b-table-stacked': isStackedAlways\n      }, \"b-table-stacked-\".concat(this.stacked), !isStackedAlways && this.isStacked);\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_STRING } from '../../../constants/props';\nimport { identity } from '../../../utils/identity';\nimport { isBoolean } from '../../../utils/inspect';\nimport { makeProp } from '../../../utils/props';\nimport { toString } from '../../../utils/string';\nimport { attrsMixin } from '../../../mixins/attrs'; // Main `<table>` render mixin\n// Includes all main table styling options\n// --- Props ---\n\nexport var props = {\n  bordered: makeProp(PROP_TYPE_BOOLEAN, false),\n  borderless: makeProp(PROP_TYPE_BOOLEAN, false),\n  captionTop: makeProp(PROP_TYPE_BOOLEAN, false),\n  dark: makeProp(PROP_TYPE_BOOLEAN, false),\n  fixed: makeProp(PROP_TYPE_BOOLEAN, false),\n  hover: makeProp(PROP_TYPE_BOOLEAN, false),\n  noBorderCollapse: makeProp(PROP_TYPE_BOOLEAN, false),\n  outlined: makeProp(PROP_TYPE_BOOLEAN, false),\n  responsive: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  small: makeProp(PROP_TYPE_BOOLEAN, false),\n  // If a string, it is assumed to be the table `max-height` value\n  stickyHeader: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  striped: makeProp(PROP_TYPE_BOOLEAN, false),\n  tableClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  tableVariant: makeProp(PROP_TYPE_STRING)\n}; // --- Mixin ---\n// @vue/component\n\nexport var tableRendererMixin = Vue.extend({\n  mixins: [attrsMixin],\n  provide: function provide() {\n    return {\n      bvTable: this\n    };\n  },\n  // Don't place attributes on root element automatically,\n  // as table could be wrapped in responsive `<div>`\n  inheritAttrs: false,\n  props: props,\n  computed: {\n    // Layout related computed props\n    isResponsive: function isResponsive() {\n      var responsive = this.responsive;\n      responsive = responsive === '' ? true : responsive;\n      return this.isStacked ? false : responsive;\n    },\n    isStickyHeader: function isStickyHeader() {\n      var stickyHeader = this.stickyHeader;\n      stickyHeader = stickyHeader === '' ? true : stickyHeader;\n      return this.isStacked ? false : stickyHeader;\n    },\n    wrapperClasses: function wrapperClasses() {\n      var isResponsive = this.isResponsive;\n      return [this.isStickyHeader ? 'b-table-sticky-header' : '', isResponsive === true ? 'table-responsive' : isResponsive ? \"table-responsive-\".concat(this.responsive) : ''].filter(identity);\n    },\n    wrapperStyles: function wrapperStyles() {\n      var isStickyHeader = this.isStickyHeader;\n      return isStickyHeader && !isBoolean(isStickyHeader) ? {\n        maxHeight: isStickyHeader\n      } : {};\n    },\n    tableClasses: function tableClasses() {\n      var hover = this.hover,\n          tableVariant = this.tableVariant;\n      hover = this.isTableSimple ? hover : hover && this.computedItems.length > 0 && !this.computedBusy;\n      return [// User supplied classes\n      this.tableClass, // Styling classes\n      {\n        'table-striped': this.striped,\n        'table-hover': hover,\n        'table-dark': this.dark,\n        'table-bordered': this.bordered,\n        'table-borderless': this.borderless,\n        'table-sm': this.small,\n        // The following are b-table custom styles\n        border: this.outlined,\n        'b-table-fixed': this.fixed,\n        'b-table-caption-top': this.captionTop,\n        'b-table-no-border-collapse': this.noBorderCollapse\n      }, tableVariant ? \"\".concat(this.dark ? 'bg' : 'table', \"-\").concat(tableVariant) : '', // Stacked table classes\n      this.stackedTableClasses, // Selectable classes\n      this.selectableTableClasses];\n    },\n    tableAttrs: function tableAttrs() {\n      var items = this.computedItems,\n          filteredItems = this.filteredItems,\n          fields = this.computedFields,\n          selectableTableAttrs = this.selectableTableAttrs; // Preserve user supplied aria-describedby, if provided in `$attrs`\n\n      var adb = [(this.bvAttrs || {})['aria-describedby'], this.captionId].filter(identity).join(' ') || null;\n      var ariaAttrs = this.isTableSimple ? {} : {\n        'aria-busy': this.computedBusy ? 'true' : 'false',\n        'aria-colcount': toString(fields.length),\n        'aria-describedby': adb\n      };\n      var rowCount = items && filteredItems && filteredItems.length > items.length ? toString(filteredItems.length) : null;\n      return _objectSpread(_objectSpread(_objectSpread({\n        // We set `aria-rowcount` before merging in `$attrs`,\n        // in case user has supplied their own\n        'aria-rowcount': rowCount\n      }, this.bvAttrs), {}, {\n        // Now we can override any `$attrs` here\n        id: this.safeId(),\n        role: 'table'\n      }, ariaAttrs), selectableTableAttrs);\n    }\n  },\n  render: function render(h) {\n    var wrapperClasses = this.wrapperClasses,\n        renderCaption = this.renderCaption,\n        renderColgroup = this.renderColgroup,\n        renderThead = this.renderThead,\n        renderTbody = this.renderTbody,\n        renderTfoot = this.renderTfoot;\n    var $content = [];\n\n    if (this.isTableSimple) {\n      $content.push(this.normalizeSlot());\n    } else {\n      // Build the `<caption>` (from caption mixin)\n      $content.push(renderCaption ? renderCaption() : null); // Build the `<colgroup>`\n\n      $content.push(renderColgroup ? renderColgroup() : null); // Build the `<thead>`\n\n      $content.push(renderThead ? renderThead() : null); // Build the `<tbody>`\n\n      $content.push(renderTbody ? renderTbody() : null); // Build the `<tfoot>`\n\n      $content.push(renderTfoot ? renderTfoot() : null);\n    } // Assemble `<table>`\n\n\n    var $table = h('table', {\n      staticClass: 'table b-table',\n      class: this.tableClasses,\n      attrs: this.tableAttrs,\n      key: 'b-table'\n    }, $content.filter(identity)); // Add responsive/sticky wrapper if needed and return table\n\n    return wrapperClasses.length > 0 ? h('div', {\n      class: wrapperClasses,\n      style: this.wrapperStyles,\n      key: 'wrap'\n    }, [$table]) : $table;\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_TBODY } from '../../constants/components';\nimport { PROP_TYPE_OBJECT } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  tbodyTransitionHandlers: makeProp(PROP_TYPE_OBJECT),\n  tbodyTransitionProps: makeProp(PROP_TYPE_OBJECT)\n}, NAME_TBODY); // --- Main component ---\n// TODO:\n//   In Bootstrap v5, we won't need \"sniffing\" as table element variants properly inherit\n//   to the child elements, so this can be converted to a functional component\n// @vue/component\n\nexport var BTbody = /*#__PURE__*/Vue.extend({\n  name: NAME_TBODY,\n  mixins: [attrsMixin, listenersMixin, normalizeSlotMixin],\n  provide: function provide() {\n    return {\n      bvTableRowGroup: this\n    };\n  },\n  inject: {\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    bvTable: {\n      default:\n      /* istanbul ignore next */\n      function _default() {\n        return {};\n      }\n    }\n  },\n  inheritAttrs: false,\n  props: props,\n  computed: {\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isTbody: function isTbody() {\n      return true;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isDark: function isDark() {\n      return this.bvTable.dark;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isStacked: function isStacked() {\n      return this.bvTable.isStacked;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isResponsive: function isResponsive() {\n      return this.bvTable.isResponsive;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    // Sticky headers are only supported in thead\n    isStickyHeader: function isStickyHeader() {\n      return false;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    // Needed to handle header background classes, due to lack of\n    // background color inheritance with Bootstrap v4 table CSS\n    hasStickyHeader: function hasStickyHeader() {\n      return !this.isStacked && this.bvTable.stickyHeader;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    tableVariant: function tableVariant() {\n      return this.bvTable.tableVariant;\n    },\n    isTransitionGroup: function isTransitionGroup() {\n      return this.tbodyTransitionProps || this.tbodyTransitionHandlers;\n    },\n    tbodyAttrs: function tbodyAttrs() {\n      return _objectSpread({\n        role: 'rowgroup'\n      }, this.bvAttrs);\n    },\n    tbodyProps: function tbodyProps() {\n      var tbodyTransitionProps = this.tbodyTransitionProps;\n      return tbodyTransitionProps ? _objectSpread(_objectSpread({}, tbodyTransitionProps), {}, {\n        tag: 'tbody'\n      }) : {};\n    }\n  },\n  render: function render(h) {\n    var data = {\n      props: this.tbodyProps,\n      attrs: this.tbodyAttrs\n    };\n\n    if (this.isTransitionGroup) {\n      // We use native listeners if a transition group for any delegated events\n      data.on = this.tbodyTransitionHandlers || {};\n      data.nativeOn = this.bvListeners;\n    } else {\n      // Otherwise we place any listeners on the tbody element\n      data.on = this.bvListeners;\n    }\n\n    return h(this.isTransitionGroup ? 'transition-group' : 'tbody', data, this.normalizeSlot());\n  }\n});","import { closest, getAttr, getById, matches, select } from '../../../utils/dom';\nimport { EVENT_FILTER } from './constants';\nvar TABLE_TAG_NAMES = ['TD', 'TH', 'TR']; // Returns `true` if we should ignore the click/double-click/keypress event\n// Avoids having the user need to use `@click.stop` on the form control\n\nexport var filterEvent = function filterEvent(event) {\n  // Exit early when we don't have a target element\n  if (!event || !event.target) {\n    /* istanbul ignore next */\n    return false;\n  }\n\n  var el = event.target; // Exit early when element is disabled or a table element\n\n  if (el.disabled || TABLE_TAG_NAMES.indexOf(el.tagName) !== -1) {\n    return false;\n  } // Ignore the click when it was inside a dropdown menu\n\n\n  if (closest('.dropdown-menu', el)) {\n    return true;\n  }\n\n  var label = el.tagName === 'LABEL' ? el : closest('label', el); // If the label's form control is not disabled then we don't propagate event\n  // Modern browsers have `label.control` that references the associated input, but IE 11\n  // does not have this property on the label element, so we resort to DOM lookups\n\n  if (label) {\n    var labelFor = getAttr(label, 'for');\n    var input = labelFor ? getById(labelFor) : select('input, select, textarea', label);\n\n    if (input && !input.disabled) {\n      return true;\n    }\n  } // Otherwise check if the event target matches one of the selectors in the\n  // event filter (i.e. anchors, non disabled inputs, etc.)\n  // Return `true` if we should ignore the event\n\n\n  return matches(el, EVENT_FILTER);\n};","import { getSel, isElement } from '../../../utils/dom'; // Helper to determine if a there is an active text selection on the document page\n// Used to filter out click events caused by the mouse up at end of selection\n//\n// Accepts an element as only argument to test to see if selection overlaps or is\n// contained within the element\n\nexport var textSelectionActive = function textSelectionActive() {\n  var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  var sel = getSel();\n  return sel && sel.toString().trim() !== '' && sel.containsNode && isElement(el) ?\n  /* istanbul ignore next */\n  sel.containsNode(el, true) : false;\n};","import { Vue } from '../../vue';\nimport { NAME_TH } from '../../constants/components';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { BTd, props as BTdProps } from './td'; // --- Props ---\n\nexport var props = makePropsConfigurable(BTdProps, NAME_TH); // --- Main component ---\n// TODO:\n//   In Bootstrap v5, we won't need \"sniffing\" as table element variants properly inherit\n//   to the child elements, so this can be converted to a functional component\n// @vue/component\n\nexport var BTh = /*#__PURE__*/Vue.extend({\n  name: NAME_TH,\n  extends: BTd,\n  props: props,\n  computed: {\n    tag: function tag() {\n      return 'th';\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { Vue } from '../../../vue';\nimport { EVENT_NAME_ROW_CLICKED, EVENT_NAME_ROW_HOVERED, EVENT_NAME_ROW_UNHOVERED } from '../../../constants/events';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_FUNCTION, PROP_TYPE_OBJECT_FUNCTION } from '../../../constants/props';\nimport { SLOT_NAME_ROW_DETAILS } from '../../../constants/slots';\nimport { get } from '../../../utils/get';\nimport { isFunction, isString, isUndefinedOrNull } from '../../../utils/inspect';\nimport { makeProp } from '../../../utils/props';\nimport { toString } from '../../../utils/string';\nimport { BTr } from '../tr';\nimport { BTd } from '../td';\nimport { BTh } from '../th';\nimport { FIELD_KEY_CELL_VARIANT, FIELD_KEY_ROW_VARIANT, FIELD_KEY_SHOW_DETAILS } from './constants'; // --- Props ---\n\nexport var props = {\n  detailsTdClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  tbodyTrAttr: makeProp(PROP_TYPE_OBJECT_FUNCTION),\n  tbodyTrClass: makeProp([].concat(_toConsumableArray(PROP_TYPE_ARRAY_OBJECT_STRING), [PROP_TYPE_FUNCTION]))\n}; // --- Mixin ---\n// @vue/component\n\nexport var tbodyRowMixin = Vue.extend({\n  props: props,\n  methods: {\n    // Methods for computing classes, attributes and styles for table cells\n    getTdValues: function getTdValues(item, key, tdValue, defaultValue) {\n      var $parent = this.$parent;\n\n      if (tdValue) {\n        var value = get(item, key, '');\n\n        if (isFunction(tdValue)) {\n          return tdValue(value, key, item);\n        } else if (isString(tdValue) && isFunction($parent[tdValue])) {\n          return $parent[tdValue](value, key, item);\n        }\n\n        return tdValue;\n      }\n\n      return defaultValue;\n    },\n    getThValues: function getThValues(item, key, thValue, type, defaultValue) {\n      var $parent = this.$parent;\n\n      if (thValue) {\n        var value = get(item, key, '');\n\n        if (isFunction(thValue)) {\n          return thValue(value, key, item, type);\n        } else if (isString(thValue) && isFunction($parent[thValue])) {\n          return $parent[thValue](value, key, item, type);\n        }\n\n        return thValue;\n      }\n\n      return defaultValue;\n    },\n    // Method to get the value for a field\n    getFormattedValue: function getFormattedValue(item, field) {\n      var key = field.key;\n      var formatter = this.getFieldFormatter(key);\n      var value = get(item, key, null);\n\n      if (isFunction(formatter)) {\n        value = formatter(value, key, item);\n      }\n\n      return isUndefinedOrNull(value) ? '' : value;\n    },\n    // Factory function methods\n    toggleDetailsFactory: function toggleDetailsFactory(hasDetailsSlot, item) {\n      var _this = this;\n\n      // Returns a function to toggle a row's details slot\n      return function () {\n        if (hasDetailsSlot) {\n          _this.$set(item, FIELD_KEY_SHOW_DETAILS, !item[FIELD_KEY_SHOW_DETAILS]);\n        }\n      };\n    },\n    // Row event handlers\n    rowHovered: function rowHovered(event) {\n      // `mouseenter` handler (non-bubbling)\n      // `this.tbodyRowEvtStopped` from tbody mixin\n      if (!this.tbodyRowEvtStopped(event)) {\n        // `this.emitTbodyRowEvent` from tbody mixin\n        this.emitTbodyRowEvent(EVENT_NAME_ROW_HOVERED, event);\n      }\n    },\n    rowUnhovered: function rowUnhovered(event) {\n      // `mouseleave` handler (non-bubbling)\n      // `this.tbodyRowEvtStopped` from tbody mixin\n      if (!this.tbodyRowEvtStopped(event)) {\n        // `this.emitTbodyRowEvent` from tbody mixin\n        this.emitTbodyRowEvent(EVENT_NAME_ROW_UNHOVERED, event);\n      }\n    },\n    // Renders a TD or TH for a row's field\n    renderTbodyRowCell: function renderTbodyRowCell(field, colIndex, item, rowIndex) {\n      var _this2 = this;\n\n      var isStacked = this.isStacked;\n      var key = field.key,\n          label = field.label,\n          isRowHeader = field.isRowHeader;\n      var h = this.$createElement;\n      var hasDetailsSlot = this.hasNormalizedSlot(SLOT_NAME_ROW_DETAILS);\n      var formatted = this.getFormattedValue(item, field);\n      var stickyColumn = !isStacked && (this.isResponsive || this.stickyHeader) && field.stickyColumn; // We only uses the helper components for sticky columns to\n      // improve performance of BTable/BTableLite by reducing the\n      // total number of vue instances created during render\n\n      var cellTag = stickyColumn ? isRowHeader ? BTh : BTd : isRowHeader ? 'th' : 'td';\n      var cellVariant = item[FIELD_KEY_CELL_VARIANT] && item[FIELD_KEY_CELL_VARIANT][key] ? item[FIELD_KEY_CELL_VARIANT][key] : field.variant || null;\n      var data = {\n        // For the Vue key, we concatenate the column index and\n        // field key (as field keys could be duplicated)\n        // TODO: Although we do prevent duplicate field keys...\n        //   So we could change this to: `row-${rowIndex}-cell-${key}`\n        class: [field.class ? field.class : '', this.getTdValues(item, key, field.tdClass, '')],\n        props: {},\n        attrs: _objectSpread({\n          'aria-colindex': String(colIndex + 1)\n        }, isRowHeader ? this.getThValues(item, key, field.thAttr, 'row', {}) : this.getTdValues(item, key, field.tdAttr, {})),\n        key: \"row-\".concat(rowIndex, \"-cell-\").concat(colIndex, \"-\").concat(key)\n      };\n\n      if (stickyColumn) {\n        // We are using the helper BTd or BTh\n        data.props = {\n          stackedHeading: isStacked ? label : null,\n          stickyColumn: true,\n          variant: cellVariant\n        };\n      } else {\n        // Using native TD or TH element, so we need to\n        // add in the attributes and variant class\n        data.attrs['data-label'] = isStacked && !isUndefinedOrNull(label) ? toString(label) : null;\n        data.attrs.role = isRowHeader ? 'rowheader' : 'cell';\n        data.attrs.scope = isRowHeader ? 'row' : null; // Add in the variant class\n\n        if (cellVariant) {\n          data.class.push(\"\".concat(this.dark ? 'bg' : 'table', \"-\").concat(cellVariant));\n        }\n      }\n\n      var slotScope = {\n        item: item,\n        index: rowIndex,\n        field: field,\n        unformatted: get(item, key, ''),\n        value: formatted,\n        toggleDetails: this.toggleDetailsFactory(hasDetailsSlot, item),\n        detailsShowing: Boolean(item[FIELD_KEY_SHOW_DETAILS])\n      }; // If table supports selectable mode, then add in the following scope\n      // this.supportsSelectableRows will be undefined if mixin isn't loaded\n\n      if (this.supportsSelectableRows) {\n        slotScope.rowSelected = this.isRowSelected(rowIndex);\n\n        slotScope.selectRow = function () {\n          return _this2.selectRow(rowIndex);\n        };\n\n        slotScope.unselectRow = function () {\n          return _this2.unselectRow(rowIndex);\n        };\n      } // The new `v-slot` syntax doesn't like a slot name starting with\n      // a square bracket and if using in-document HTML templates, the\n      // v-slot attributes are lower-cased by the browser.\n      // Switched to round bracket syntax to prevent confusion with\n      // dynamic slot name syntax.\n      // We look for slots in this order: `cell(${key})`, `cell(${key.toLowerCase()})`, 'cell()'\n      // Slot names are now cached by mixin tbody in `this.$_bodyFieldSlotNameCache`\n      // Will be `null` if no slot (or fallback slot) exists\n\n\n      var slotName = this.$_bodyFieldSlotNameCache[key];\n      var $childNodes = slotName ? this.normalizeSlot(slotName, slotScope) : toString(formatted);\n\n      if (this.isStacked) {\n        // We wrap in a DIV to ensure rendered as a single cell when visually stacked!\n        $childNodes = [h('div', [$childNodes])];\n      } // Render either a td or th cell\n\n\n      return h(cellTag, data, [$childNodes]);\n    },\n    // Renders an item's row (or rows if details supported)\n    renderTbodyRow: function renderTbodyRow(item, rowIndex) {\n      var _this3 = this;\n\n      var fields = this.computedFields,\n          striped = this.striped,\n          primaryKey = this.primaryKey,\n          currentPage = this.currentPage,\n          perPage = this.perPage,\n          tbodyTrClass = this.tbodyTrClass,\n          tbodyTrAttr = this.tbodyTrAttr;\n      var h = this.$createElement;\n      var hasDetailsSlot = this.hasNormalizedSlot(SLOT_NAME_ROW_DETAILS);\n      var rowShowDetails = item[FIELD_KEY_SHOW_DETAILS] && hasDetailsSlot;\n      var hasRowClickHandler = this.$listeners[EVENT_NAME_ROW_CLICKED] || this.hasSelectableRowClick; // We can return more than one TR if rowDetails enabled\n\n      var $rows = []; // Details ID needed for `aria-details` when details showing\n      // We set it to `null` when not showing so that attribute\n      // does not appear on the element\n\n      var detailsId = rowShowDetails ? this.safeId(\"_details_\".concat(rowIndex, \"_\")) : null; // For each item data field in row\n\n      var $tds = fields.map(function (field, colIndex) {\n        return _this3.renderTbodyRowCell(field, colIndex, item, rowIndex);\n      }); // Calculate the row number in the dataset (indexed from 1)\n\n      var ariaRowIndex = null;\n\n      if (currentPage && perPage && perPage > 0) {\n        ariaRowIndex = String((currentPage - 1) * perPage + rowIndex + 1);\n      } // Create a unique :key to help ensure that sub components are re-rendered rather than\n      // re-used, which can cause issues. If a primary key is not provided we use the rendered\n      // rows index within the tbody.\n      // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/2410\n\n\n      var primaryKeyValue = toString(get(item, primaryKey)) || null;\n      var rowKey = primaryKeyValue || toString(rowIndex); // If primary key is provided, use it to generate a unique ID on each tbody > tr\n      // In the format of '{tableId}__row_{primaryKeyValue}'\n\n      var rowId = primaryKeyValue ? this.safeId(\"_row_\".concat(primaryKeyValue)) : null; // Selectable classes and attributes\n\n      var selectableClasses = this.selectableRowClasses ? this.selectableRowClasses(rowIndex) : {};\n      var selectableAttrs = this.selectableRowAttrs ? this.selectableRowAttrs(rowIndex) : {}; // Additional classes and attributes\n\n      var userTrClasses = isFunction(tbodyTrClass) ? tbodyTrClass(item, 'row') : tbodyTrClass;\n      var userTrAttrs = isFunction(tbodyTrAttr) ?\n      /* istanbul ignore next */\n      tbodyTrAttr(item, 'row') : tbodyTrAttr; // Add the item row\n\n      $rows.push(h(BTr, {\n        class: [userTrClasses, selectableClasses, rowShowDetails ? 'b-table-has-details' : ''],\n        props: {\n          variant: item[FIELD_KEY_ROW_VARIANT] || null\n        },\n        attrs: _objectSpread(_objectSpread({\n          id: rowId\n        }, userTrAttrs), {}, {\n          // Users cannot override the following attributes\n          tabindex: hasRowClickHandler ? '0' : null,\n          'data-pk': primaryKeyValue || null,\n          'aria-details': detailsId,\n          'aria-owns': detailsId,\n          'aria-rowindex': ariaRowIndex\n        }, selectableAttrs),\n        on: {\n          // Note: These events are not A11Y friendly!\n          mouseenter: this.rowHovered,\n          mouseleave: this.rowUnhovered\n        },\n        key: \"__b-table-row-\".concat(rowKey, \"__\"),\n        ref: 'item-rows',\n        refInFor: true\n      }, $tds)); // Row Details slot\n\n      if (rowShowDetails) {\n        var detailsScope = {\n          item: item,\n          index: rowIndex,\n          fields: fields,\n          toggleDetails: this.toggleDetailsFactory(hasDetailsSlot, item)\n        }; // If table supports selectable mode, then add in the following scope\n        // this.supportsSelectableRows will be undefined if mixin isn't loaded\n\n        if (this.supportsSelectableRows) {\n          detailsScope.rowSelected = this.isRowSelected(rowIndex);\n\n          detailsScope.selectRow = function () {\n            return _this3.selectRow(rowIndex);\n          };\n\n          detailsScope.unselectRow = function () {\n            return _this3.unselectRow(rowIndex);\n          };\n        } // Render the details slot in a TD\n\n\n        var $details = h(BTd, {\n          props: {\n            colspan: fields.length\n          },\n          class: this.detailsTdClass\n        }, [this.normalizeSlot(SLOT_NAME_ROW_DETAILS, detailsScope)]); // Add a hidden row to keep table row striping consistent when details showing\n        // Only added if the table is striped\n\n        if (striped) {\n          $rows.push( // We don't use `BTr` here as we don't need the extra functionality\n          h('tr', {\n            staticClass: 'd-none',\n            attrs: {\n              'aria-hidden': 'true',\n              role: 'presentation'\n            },\n            key: \"__b-table-details-stripe__\".concat(rowKey)\n          }));\n        } // Add the actual details row\n\n\n        var userDetailsTrClasses = isFunction(this.tbodyTrClass) ?\n        /* istanbul ignore next */\n        this.tbodyTrClass(item, SLOT_NAME_ROW_DETAILS) : this.tbodyTrClass;\n        var userDetailsTrAttrs = isFunction(this.tbodyTrAttr) ?\n        /* istanbul ignore next */\n        this.tbodyTrAttr(item, SLOT_NAME_ROW_DETAILS) : this.tbodyTrAttr;\n        $rows.push(h(BTr, {\n          staticClass: 'b-table-details',\n          class: [userDetailsTrClasses],\n          props: {\n            variant: item[FIELD_KEY_ROW_VARIANT] || null\n          },\n          attrs: _objectSpread(_objectSpread({}, userDetailsTrAttrs), {}, {\n            // Users cannot override the following attributes\n            id: detailsId,\n            tabindex: '-1'\n          }),\n          key: \"__b-table-details__\".concat(rowKey)\n        }, [$details]));\n      } else if (hasDetailsSlot) {\n        // Only add the placeholder if a the table has a row-details slot defined (but not shown)\n        $rows.push(h());\n\n        if (striped) {\n          // Add extra placeholder if table is striped\n          $rows.push(h());\n        }\n      } // Return the row(s)\n\n\n      return $rows;\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { EVENT_NAME_ROW_CLICKED, EVENT_NAME_ROW_CONTEXTMENU, EVENT_NAME_ROW_DBLCLICKED, EVENT_NAME_ROW_MIDDLE_CLICKED } from '../../../constants/events';\nimport { CODE_DOWN, CODE_END, CODE_ENTER, CODE_HOME, CODE_SPACE, CODE_UP } from '../../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING } from '../../../constants/props';\nimport { arrayIncludes, from as arrayFrom } from '../../../utils/array';\nimport { attemptFocus, closest, isActiveElement, isElement } from '../../../utils/dom';\nimport { stopEvent } from '../../../utils/events';\nimport { sortKeys } from '../../../utils/object';\nimport { makeProp, pluckProps } from '../../../utils/props';\nimport { BTbody, props as BTbodyProps } from '../tbody';\nimport { filterEvent } from './filter-event';\nimport { textSelectionActive } from './text-selection-active';\nimport { tbodyRowMixin, props as tbodyRowProps } from './mixin-tbody-row'; // --- Helper methods ---\n\nvar getCellSlotName = function getCellSlotName(value) {\n  return \"cell(\".concat(value || '', \")\");\n}; // --- Props ---\n\n\nexport var props = sortKeys(_objectSpread(_objectSpread(_objectSpread({}, BTbodyProps), tbodyRowProps), {}, {\n  tbodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING)\n})); // --- Mixin ---\n// @vue/component\n\nexport var tbodyMixin = Vue.extend({\n  mixins: [tbodyRowMixin],\n  props: props,\n  beforeDestroy: function beforeDestroy() {\n    this.$_bodyFieldSlotNameCache = null;\n  },\n  methods: {\n    // Returns all the item TR elements (excludes detail and spacer rows)\n    // `this.$refs['item-rows']` is an array of item TR components/elements\n    // Rows should all be `<b-tr>` components, but we map to TR elements\n    // Also note that `this.$refs['item-rows']` may not always be in document order\n    getTbodyTrs: function getTbodyTrs() {\n      var $refs = this.$refs;\n      var tbody = $refs.tbody ? $refs.tbody.$el || $refs.tbody : null;\n      var trs = ($refs['item-rows'] || []).map(function (tr) {\n        return tr.$el || tr;\n      });\n      return tbody && tbody.children && tbody.children.length > 0 && trs && trs.length > 0 ? arrayFrom(tbody.children).filter(function (tr) {\n        return arrayIncludes(trs, tr);\n      }) :\n      /* istanbul ignore next */\n      [];\n    },\n    // Returns index of a particular TBODY item TR\n    // We set `true` on closest to include self in result\n    getTbodyTrIndex: function getTbodyTrIndex(el) {\n      /* istanbul ignore next: should not normally happen */\n      if (!isElement(el)) {\n        return -1;\n      }\n\n      var tr = el.tagName === 'TR' ? el : closest('tr', el, true);\n      return tr ? this.getTbodyTrs().indexOf(tr) : -1;\n    },\n    // Emits a row event, with the item object, row index and original event\n    emitTbodyRowEvent: function emitTbodyRowEvent(type, event) {\n      if (type && this.hasListener(type) && event && event.target) {\n        var rowIndex = this.getTbodyTrIndex(event.target);\n\n        if (rowIndex > -1) {\n          // The array of TRs correlate to the `computedItems` array\n          var item = this.computedItems[rowIndex];\n          this.$emit(type, item, rowIndex, event);\n        }\n      }\n    },\n    tbodyRowEvtStopped: function tbodyRowEvtStopped(event) {\n      return this.stopIfBusy && this.stopIfBusy(event);\n    },\n    // Delegated row event handlers\n    onTbodyRowKeydown: function onTbodyRowKeydown(event) {\n      // Keyboard navigation and row click emulation\n      var target = event.target,\n          keyCode = event.keyCode;\n\n      if (this.tbodyRowEvtStopped(event) || target.tagName !== 'TR' || !isActiveElement(target) || target.tabIndex !== 0) {\n        // Early exit if not an item row TR\n        return;\n      }\n\n      if (arrayIncludes([CODE_ENTER, CODE_SPACE], keyCode)) {\n        // Emulated click for keyboard users, transfer to click handler\n        stopEvent(event);\n        this.onTBodyRowClicked(event);\n      } else if (arrayIncludes([CODE_UP, CODE_DOWN, CODE_HOME, CODE_END], keyCode)) {\n        // Keyboard navigation\n        var rowIndex = this.getTbodyTrIndex(target);\n\n        if (rowIndex > -1) {\n          stopEvent(event);\n          var trs = this.getTbodyTrs();\n          var shift = event.shiftKey;\n\n          if (keyCode === CODE_HOME || shift && keyCode === CODE_UP) {\n            // Focus first row\n            attemptFocus(trs[0]);\n          } else if (keyCode === CODE_END || shift && keyCode === CODE_DOWN) {\n            // Focus last row\n            attemptFocus(trs[trs.length - 1]);\n          } else if (keyCode === CODE_UP && rowIndex > 0) {\n            // Focus previous row\n            attemptFocus(trs[rowIndex - 1]);\n          } else if (keyCode === CODE_DOWN && rowIndex < trs.length - 1) {\n            // Focus next row\n            attemptFocus(trs[rowIndex + 1]);\n          }\n        }\n      }\n    },\n    onTBodyRowClicked: function onTBodyRowClicked(event) {\n      // Don't emit event when the table is busy, the user clicked\n      // on a non-disabled control or is selecting text\n      if (this.tbodyRowEvtStopped(event) || filterEvent(event) || textSelectionActive(this.$el)) {\n        return;\n      }\n\n      this.emitTbodyRowEvent(EVENT_NAME_ROW_CLICKED, event);\n    },\n    onTbodyRowMiddleMouseRowClicked: function onTbodyRowMiddleMouseRowClicked(event) {\n      if (!this.tbodyRowEvtStopped(event) && event.which === 2) {\n        this.emitTbodyRowEvent(EVENT_NAME_ROW_MIDDLE_CLICKED, event);\n      }\n    },\n    onTbodyRowContextmenu: function onTbodyRowContextmenu(event) {\n      if (!this.tbodyRowEvtStopped(event)) {\n        this.emitTbodyRowEvent(EVENT_NAME_ROW_CONTEXTMENU, event);\n      }\n    },\n    onTbodyRowDblClicked: function onTbodyRowDblClicked(event) {\n      if (!this.tbodyRowEvtStopped(event) && !filterEvent(event)) {\n        this.emitTbodyRowEvent(EVENT_NAME_ROW_DBLCLICKED, event);\n      }\n    },\n    // Render the tbody element and children\n    // Note:\n    //   Row hover handlers are handled by the tbody-row mixin\n    //   As mouseenter/mouseleave events do not bubble\n    renderTbody: function renderTbody() {\n      var _this = this;\n\n      var items = this.computedItems,\n          renderBusy = this.renderBusy,\n          renderTopRow = this.renderTopRow,\n          renderEmpty = this.renderEmpty,\n          renderBottomRow = this.renderBottomRow;\n      var h = this.$createElement;\n      var hasRowClickHandler = this.hasListener(EVENT_NAME_ROW_CLICKED) || this.hasSelectableRowClick; // Prepare the tbody rows\n\n      var $rows = []; // Add the item data rows or the busy slot\n\n      var $busy = renderBusy ? renderBusy() : null;\n\n      if ($busy) {\n        // If table is busy and a busy slot, then return only the busy \"row\" indicator\n        $rows.push($busy);\n      } else {\n        // Table isn't busy, or we don't have a busy slot\n        // Create a slot cache for improved performance when looking up cell slot names\n        // Values will be keyed by the field's `key` and will store the slot's name\n        // Slots could be dynamic (i.e. `v-if`), so we must compute on each render\n        // Used by tbody-row mixin render helper\n        var cache = {};\n        var defaultSlotName = getCellSlotName();\n        defaultSlotName = this.hasNormalizedSlot(defaultSlotName) ? defaultSlotName : null;\n        this.computedFields.forEach(function (field) {\n          var key = field.key;\n          var slotName = getCellSlotName(key);\n          var lowercaseSlotName = getCellSlotName(key.toLowerCase());\n          cache[key] = _this.hasNormalizedSlot(slotName) ? slotName : _this.hasNormalizedSlot(lowercaseSlotName) ?\n          /* istanbul ignore next */\n          lowercaseSlotName : defaultSlotName;\n        }); // Created as a non-reactive property so to not trigger component updates\n        // Must be a fresh object each render\n\n        this.$_bodyFieldSlotNameCache = cache; // Add static top row slot (hidden in visibly stacked mode\n        // as we can't control `data-label` attr)\n\n        $rows.push(renderTopRow ? renderTopRow() : h()); // Render the rows\n\n        items.forEach(function (item, rowIndex) {\n          // Render the individual item row (rows if details slot)\n          $rows.push(_this.renderTbodyRow(item, rowIndex));\n        }); // Empty items / empty filtered row slot (only shows if `items.length < 1`)\n\n        $rows.push(renderEmpty ? renderEmpty() : h()); // Static bottom row slot (hidden in visibly stacked mode\n        // as we can't control `data-label` attr)\n\n        $rows.push(renderBottomRow ? renderBottomRow() : h());\n      } // Note: these events will only emit if a listener is registered\n\n\n      var handlers = {\n        auxclick: this.onTbodyRowMiddleMouseRowClicked,\n        // TODO:\n        //   Perhaps we do want to automatically prevent the\n        //   default context menu from showing if there is a\n        //   `row-contextmenu` listener registered\n        contextmenu: this.onTbodyRowContextmenu,\n        // The following event(s) is not considered A11Y friendly\n        dblclick: this.onTbodyRowDblClicked // Hover events (`mouseenter`/`mouseleave`) are handled by `tbody-row` mixin\n\n      }; // Add in click/keydown listeners if needed\n\n      if (hasRowClickHandler) {\n        handlers.click = this.onTBodyRowClicked;\n        handlers.keydown = this.onTbodyRowKeydown;\n      } // Assemble rows into the tbody\n\n\n      var $tbody = h(BTbody, {\n        class: this.tbodyClass || null,\n        props: pluckProps(BTbodyProps, this.$props),\n        // BTbody transfers all native event listeners to the root element\n        // TODO: Only set the handlers if the table is not busy\n        on: handlers,\n        ref: 'tbody'\n      }, $rows); // Return the assembled tbody\n\n      return $tbody;\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_TFOOT } from '../../constants/components';\nimport { PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  // Supported values: 'lite', 'dark', or null\n  footVariant: makeProp(PROP_TYPE_STRING)\n}, NAME_TFOOT); // --- Main component ---\n// TODO:\n//   In Bootstrap v5, we won't need \"sniffing\" as table element variants properly inherit\n//   to the child elements, so this can be converted to a functional component\n// @vue/component\n\nexport var BTfoot = /*#__PURE__*/Vue.extend({\n  name: NAME_TFOOT,\n  mixins: [attrsMixin, listenersMixin, normalizeSlotMixin],\n  provide: function provide() {\n    return {\n      bvTableRowGroup: this\n    };\n  },\n  inject: {\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    bvTable: {\n      default:\n      /* istanbul ignore next */\n      function _default() {\n        return {};\n      }\n    }\n  },\n  inheritAttrs: false,\n  props: props,\n  computed: {\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isTfoot: function isTfoot() {\n      return true;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isDark: function isDark() {\n      return this.bvTable.dark;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isStacked: function isStacked() {\n      return this.bvTable.isStacked;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isResponsive: function isResponsive() {\n      return this.bvTable.isResponsive;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    // Sticky headers are only supported in thead\n    isStickyHeader: function isStickyHeader() {\n      return false;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    // Needed to handle header background classes, due to lack of\n    // background color inheritance with Bootstrap v4 table CSS\n    hasStickyHeader: function hasStickyHeader() {\n      return !this.isStacked && this.bvTable.stickyHeader;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    tableVariant: function tableVariant() {\n      return this.bvTable.tableVariant;\n    },\n    tfootClasses: function tfootClasses() {\n      return [this.footVariant ? \"thead-\".concat(this.footVariant) : null];\n    },\n    tfootAttrs: function tfootAttrs() {\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        role: 'rowgroup'\n      });\n    }\n  },\n  render: function render(h) {\n    return h('tfoot', {\n      class: this.tfootClasses,\n      attrs: this.tfootAttrs,\n      // Pass down any native listeners\n      on: this.bvListeners\n    }, this.normalizeSlot());\n  }\n});","import { Vue } from '../../../vue';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../../constants/props';\nimport { SLOT_NAME_CUSTOM_FOOT } from '../../../constants/slots';\nimport { makeProp } from '../../../utils/props';\nimport { BTfoot } from '../tfoot'; // --- Props ---\n\nexport var props = {\n  footClone: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Any Bootstrap theme variant (or custom)\n  // Falls back to `headRowVariant`\n  footRowVariant: makeProp(PROP_TYPE_STRING),\n  // 'dark', 'light', or `null` (or custom)\n  footVariant: makeProp(PROP_TYPE_STRING),\n  tfootClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  tfootTrClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING)\n}; // --- Mixin ---\n// @vue/component\n\nexport var tfootMixin = Vue.extend({\n  props: props,\n  methods: {\n    renderTFootCustom: function renderTFootCustom() {\n      var h = this.$createElement;\n\n      if (this.hasNormalizedSlot(SLOT_NAME_CUSTOM_FOOT)) {\n        return h(BTfoot, {\n          class: this.tfootClass || null,\n          props: {\n            footVariant: this.footVariant || this.headVariant || null\n          },\n          key: 'bv-tfoot-custom'\n        }, this.normalizeSlot(SLOT_NAME_CUSTOM_FOOT, {\n          items: this.computedItems.slice(),\n          fields: this.computedFields.slice(),\n          columns: this.computedFields.length\n        }));\n      }\n\n      return h();\n    },\n    renderTfoot: function renderTfoot() {\n      // Passing true to renderThead will make it render a tfoot\n      return this.footClone ? this.renderThead(true) : this.renderTFootCustom();\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_THEAD } from '../../constants/components';\nimport { PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  // Also sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n  // Supported values: 'lite', 'dark', or `null`\n  headVariant: makeProp(PROP_TYPE_STRING)\n}, NAME_THEAD); // --- Main component ---\n// TODO:\n//   In Bootstrap v5, we won't need \"sniffing\" as table element variants properly inherit\n//   to the child elements, so this can be converted to a functional component\n// @vue/component\n\nexport var BThead = /*#__PURE__*/Vue.extend({\n  name: NAME_THEAD,\n  mixins: [attrsMixin, listenersMixin, normalizeSlotMixin],\n  provide: function provide() {\n    return {\n      bvTableRowGroup: this\n    };\n  },\n  inject: {\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    bvTable: {\n      default:\n      /* istanbul ignore next */\n      function _default() {\n        return {};\n      }\n    }\n  },\n  inheritAttrs: false,\n  props: props,\n  computed: {\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isThead: function isThead() {\n      return true;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isDark: function isDark() {\n      return this.bvTable.dark;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isStacked: function isStacked() {\n      return this.bvTable.isStacked;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    isResponsive: function isResponsive() {\n      return this.bvTable.isResponsive;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    // Needed to handle header background classes, due to lack of\n    // background color inheritance with Bootstrap v4 table CSS\n    // Sticky headers only apply to cells in table `thead`\n    isStickyHeader: function isStickyHeader() {\n      return !this.isStacked && this.bvTable.stickyHeader;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    // Needed to handle header background classes, due to lack of\n    // background color inheritance with Bootstrap v4 table CSS\n    hasStickyHeader: function hasStickyHeader() {\n      return !this.isStacked && this.bvTable.stickyHeader;\n    },\n    // Sniffed by `<b-tr>` / `<b-td>` / `<b-th>`\n    tableVariant: function tableVariant() {\n      return this.bvTable.tableVariant;\n    },\n    theadClasses: function theadClasses() {\n      return [this.headVariant ? \"thead-\".concat(this.headVariant) : null];\n    },\n    theadAttrs: function theadAttrs() {\n      return _objectSpread({\n        role: 'rowgroup'\n      }, this.bvAttrs);\n    }\n  },\n  render: function render(h) {\n    return h('thead', {\n      class: this.theadClasses,\n      attrs: this.theadAttrs,\n      // Pass down any native listeners\n      on: this.bvListeners\n    }, this.normalizeSlot());\n  }\n});","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { EVENT_NAME_HEAD_CLICKED } from '../../../constants/events';\nimport { CODE_ENTER, CODE_SPACE } from '../../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_STRING } from '../../../constants/props';\nimport { SLOT_NAME_THEAD_TOP } from '../../../constants/slots';\nimport { stopEvent } from '../../../utils/events';\nimport { htmlOrText } from '../../../utils/html';\nimport { identity } from '../../../utils/identity';\nimport { isUndefinedOrNull } from '../../../utils/inspect';\nimport { noop } from '../../../utils/noop';\nimport { makeProp } from '../../../utils/props';\nimport { startCase } from '../../../utils/string';\nimport { BThead } from '../thead';\nimport { BTfoot } from '../tfoot';\nimport { BTr } from '../tr';\nimport { BTh } from '../th';\nimport { filterEvent } from './filter-event';\nimport { textSelectionActive } from './text-selection-active'; // --- Helper methods ---\n\nvar getHeadSlotName = function getHeadSlotName(value) {\n  return \"head(\".concat(value || '', \")\");\n};\n\nvar getFootSlotName = function getFootSlotName(value) {\n  return \"foot(\".concat(value || '', \")\");\n}; // --- Props ---\n\n\nexport var props = {\n  // Any Bootstrap theme variant (or custom)\n  headRowVariant: makeProp(PROP_TYPE_STRING),\n  // 'light', 'dark' or `null` (or custom)\n  headVariant: makeProp(PROP_TYPE_STRING),\n  theadClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  theadTrClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING)\n}; // --- Mixin ---\n// @vue/component\n\nexport var theadMixin = Vue.extend({\n  props: props,\n  methods: {\n    fieldClasses: function fieldClasses(field) {\n      // Header field (<th>) classes\n      return [field.class ? field.class : '', field.thClass ? field.thClass : ''];\n    },\n    headClicked: function headClicked(event, field, isFoot) {\n      if (this.stopIfBusy && this.stopIfBusy(event)) {\n        // If table is busy (via provider) then don't propagate\n        return;\n      } else if (filterEvent(event)) {\n        // Clicked on a non-disabled control so ignore\n        return;\n      } else if (textSelectionActive(this.$el)) {\n        // User is selecting text, so ignore\n\n        /* istanbul ignore next: JSDOM doesn't support getSelection() */\n        return;\n      }\n\n      stopEvent(event);\n      this.$emit(EVENT_NAME_HEAD_CLICKED, field.key, field, event, isFoot);\n    },\n    renderThead: function renderThead() {\n      var _this = this;\n\n      var isFoot = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var fields = this.computedFields,\n          isSortable = this.isSortable,\n          isSelectable = this.isSelectable,\n          headVariant = this.headVariant,\n          footVariant = this.footVariant,\n          headRowVariant = this.headRowVariant,\n          footRowVariant = this.footRowVariant;\n      var h = this.$createElement; // In always stacked mode, we don't bother rendering the head/foot\n      // Or if no field headings (empty table)\n\n      if (this.isStackedAlways || fields.length === 0) {\n        return h();\n      }\n\n      var hasHeadClickListener = isSortable || this.hasListener(EVENT_NAME_HEAD_CLICKED); // Reference to `selectAllRows` and `clearSelected()`, if table is selectable\n\n      var selectAllRows = isSelectable ? this.selectAllRows : noop;\n      var clearSelected = isSelectable ? this.clearSelected : noop; // Helper function to generate a field <th> cell\n\n      var makeCell = function makeCell(field, colIndex) {\n        var label = field.label,\n            labelHtml = field.labelHtml,\n            variant = field.variant,\n            stickyColumn = field.stickyColumn,\n            key = field.key;\n        var ariaLabel = null;\n\n        if (!field.label.trim() && !field.headerTitle) {\n          // In case field's label and title are empty/blank\n          // We need to add a hint about what the column is about for non-sighted users\n\n          /* istanbul ignore next */\n          ariaLabel = startCase(field.key);\n        }\n\n        var on = {};\n\n        if (hasHeadClickListener) {\n          on.click = function (event) {\n            _this.headClicked(event, field, isFoot);\n          };\n\n          on.keydown = function (event) {\n            var keyCode = event.keyCode;\n\n            if (keyCode === CODE_ENTER || keyCode === CODE_SPACE) {\n              _this.headClicked(event, field, isFoot);\n            }\n          };\n        }\n\n        var sortAttrs = isSortable ? _this.sortTheadThAttrs(key, field, isFoot) : {};\n        var sortClass = isSortable ? _this.sortTheadThClasses(key, field, isFoot) : null;\n        var sortLabel = isSortable ? _this.sortTheadThLabel(key, field, isFoot) : null;\n        var data = {\n          class: [_this.fieldClasses(field), sortClass],\n          props: {\n            variant: variant,\n            stickyColumn: stickyColumn\n          },\n          style: field.thStyle || {},\n          attrs: _objectSpread(_objectSpread({\n            // We only add a `tabindex` of `0` if there is a head-clicked listener\n            // and the current field is sortable\n            tabindex: hasHeadClickListener && field.sortable ? '0' : null,\n            abbr: field.headerAbbr || null,\n            title: field.headerTitle || null,\n            'aria-colindex': colIndex + 1,\n            'aria-label': ariaLabel\n          }, _this.getThValues(null, key, field.thAttr, isFoot ? 'foot' : 'head', {})), sortAttrs),\n          on: on,\n          key: key\n        }; // Handle edge case where in-document templates are used with new\n        // `v-slot:name` syntax where the browser lower-cases the v-slot's\n        // name (attributes become lower cased when parsed by the browser)\n        // We have replaced the square bracket syntax with round brackets\n        // to prevent confusion with dynamic slot names\n\n        var slotNames = [getHeadSlotName(key), getHeadSlotName(key.toLowerCase()), getHeadSlotName()]; // Footer will fallback to header slot names\n\n        if (isFoot) {\n          slotNames = [getFootSlotName(key), getFootSlotName(key.toLowerCase()), getFootSlotName()].concat(_toConsumableArray(slotNames));\n        }\n\n        var scope = {\n          label: label,\n          column: key,\n          field: field,\n          isFoot: isFoot,\n          // Add in row select methods\n          selectAllRows: selectAllRows,\n          clearSelected: clearSelected\n        };\n        var $content = _this.normalizeSlot(slotNames, scope) || h('div', {\n          domProps: htmlOrText(labelHtml, label)\n        });\n        var $srLabel = sortLabel ? h('span', {\n          staticClass: 'sr-only'\n        }, \" (\".concat(sortLabel, \")\")) : null; // Return the header cell\n\n        return h(BTh, data, [$content, $srLabel].filter(identity));\n      }; // Generate the array of <th> cells\n\n\n      var $cells = fields.map(makeCell).filter(identity); // Generate the row(s)\n\n      var $trs = [];\n\n      if (isFoot) {\n        $trs.push(h(BTr, {\n          class: this.tfootTrClass,\n          props: {\n            variant: isUndefinedOrNull(footRowVariant) ? headRowVariant :\n            /* istanbul ignore next */\n            footRowVariant\n          }\n        }, $cells));\n      } else {\n        var scope = {\n          columns: fields.length,\n          fields: fields,\n          // Add in row select methods\n          selectAllRows: selectAllRows,\n          clearSelected: clearSelected\n        };\n        $trs.push(this.normalizeSlot(SLOT_NAME_THEAD_TOP, scope) || h());\n        $trs.push(h(BTr, {\n          class: this.theadTrClass,\n          props: {\n            variant: headRowVariant\n          }\n        }, $cells));\n      }\n\n      return h(isFoot ? BTfoot : BThead, {\n        class: (isFoot ? this.tfootClass : this.theadClass) || null,\n        props: isFoot ? {\n          footVariant: footVariant || headVariant || null\n        } : {\n          headVariant: headVariant || null\n        },\n        key: isFoot ? 'bv-tfoot' : 'bv-thead'\n      }, $trs);\n    }\n  }\n});","import { Vue } from '../../../vue';\nimport { SLOT_NAME_TOP_ROW } from '../../../constants/slots';\nimport { isFunction } from '../../../utils/inspect';\nimport { BTr } from '../tr'; // --- Props ---\n\nexport var props = {}; // --- Mixin ---\n// @vue/component\n\nexport var topRowMixin = Vue.extend({\n  methods: {\n    renderTopRow: function renderTopRow() {\n      var fields = this.computedFields,\n          stacked = this.stacked,\n          tbodyTrClass = this.tbodyTrClass,\n          tbodyTrAttr = this.tbodyTrAttr;\n      var h = this.$createElement; // Add static Top Row slot (hidden in visibly stacked mode as we can't control the data-label)\n      // If in *always* stacked mode, we don't bother rendering the row\n\n      if (!this.hasNormalizedSlot(SLOT_NAME_TOP_ROW) || stacked === true || stacked === '') {\n        return h();\n      }\n\n      return h(BTr, {\n        staticClass: 'b-table-top-row',\n        class: [isFunction(tbodyTrClass) ? tbodyTrClass(null, 'row-top') : tbodyTrClass],\n        attrs: isFunction(tbodyTrAttr) ? tbodyTrAttr(null, 'row-top') : tbodyTrAttr,\n        key: 'b-top-row'\n      }, [this.normalizeSlot(SLOT_NAME_TOP_ROW, {\n        columns: fields.length,\n        fields: fields\n      })]);\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_TABLE } from '../../constants/components';\nimport { sortKeys } from '../../utils/object';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { hasListenerMixin } from '../../mixins/has-listener';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { bottomRowMixin, props as bottomRowProps } from './helpers/mixin-bottom-row';\nimport { busyMixin, props as busyProps } from './helpers/mixin-busy';\nimport { captionMixin, props as captionProps } from './helpers/mixin-caption';\nimport { colgroupMixin, props as colgroupProps } from './helpers/mixin-colgroup';\nimport { emptyMixin, props as emptyProps } from './helpers/mixin-empty';\nimport { filteringMixin, props as filteringProps } from './helpers/mixin-filtering';\nimport { itemsMixin, props as itemsProps } from './helpers/mixin-items';\nimport { paginationMixin, props as paginationProps } from './helpers/mixin-pagination';\nimport { providerMixin, props as providerProps } from './helpers/mixin-provider';\nimport { selectableMixin, props as selectableProps } from './helpers/mixin-selectable';\nimport { sortingMixin, props as sortingProps } from './helpers/mixin-sorting';\nimport { stackedMixin, props as stackedProps } from './helpers/mixin-stacked';\nimport { tableRendererMixin, props as tableRendererProps } from './helpers/mixin-table-renderer';\nimport { tbodyMixin, props as tbodyProps } from './helpers/mixin-tbody';\nimport { tfootMixin, props as tfootProps } from './helpers/mixin-tfoot';\nimport { theadMixin, props as theadProps } from './helpers/mixin-thead';\nimport { topRowMixin, props as topRowProps } from './helpers/mixin-top-row'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), bottomRowProps), busyProps), captionProps), colgroupProps), emptyProps), filteringProps), itemsProps), paginationProps), providerProps), selectableProps), sortingProps), stackedProps), tableRendererProps), tbodyProps), tfootProps), theadProps), topRowProps)), NAME_TABLE); // --- Main component ---\n// @vue/component\n\nexport var BTable = /*#__PURE__*/Vue.extend({\n  name: NAME_TABLE,\n  // Order of mixins is important!\n  // They are merged from first to last, followed by this component\n  mixins: [// General mixins\n  attrsMixin, hasListenerMixin, idMixin, normalizeSlotMixin, // Required table mixins\n  itemsMixin, tableRendererMixin, stackedMixin, theadMixin, tfootMixin, tbodyMixin, // Table features mixins\n  stackedMixin, filteringMixin, sortingMixin, paginationMixin, captionMixin, colgroupMixin, selectableMixin, emptyMixin, topRowMixin, bottomRowMixin, busyMixin, providerMixin],\n  props: props // Render function is provided by `tableRendererMixin`\n\n});","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    // @ts-expect-error\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    // @ts-expect-error\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else if (state === 2 /* READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { EVENT_NAME_BLUR, EVENT_NAME_CHANGE, EVENT_NAME_INPUT, EVENT_NAME_UPDATE, HOOK_EVENT_NAME_BEFORE_DESTROY } from '../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_FUNCTION, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { attemptBlur, attemptFocus } from '../utils/dom';\nimport { stopEvent } from '../utils/events';\nimport { mathMax } from '../utils/math';\nimport { makeModelMixin } from '../utils/model';\nimport { toInteger, toFloat } from '../utils/number';\nimport { sortKeys } from '../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../utils/props';\nimport { toString } from '../utils/string'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_NUMBER_STRING,\n  defaultValue: '',\n  event: EVENT_NAME_UPDATE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, modelProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  autocomplete: makeProp(PROP_TYPE_STRING),\n  // Debounce timeout (in ms). Not applicable with `lazy` prop\n  debounce: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  formatter: makeProp(PROP_TYPE_FUNCTION),\n  // Only update the `v-model` on blur/change events\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  lazyFormatter: makeProp(PROP_TYPE_BOOLEAN, false),\n  number: makeProp(PROP_TYPE_BOOLEAN, false),\n  placeholder: makeProp(PROP_TYPE_STRING),\n  plaintext: makeProp(PROP_TYPE_BOOLEAN, false),\n  readonly: makeProp(PROP_TYPE_BOOLEAN, false),\n  trim: makeProp(PROP_TYPE_BOOLEAN, false)\n})), 'formTextControls'); // --- Mixin ---\n// @vue/component\n\nexport var formTextMixin = Vue.extend({\n  mixins: [modelMixin],\n  props: props,\n  data: function data() {\n    var value = this[MODEL_PROP_NAME];\n    return {\n      localValue: toString(value),\n      vModelValue: this.modifyValue(value)\n    };\n  },\n  computed: {\n    computedClass: function computedClass() {\n      var plaintext = this.plaintext,\n          type = this.type;\n      var isRange = type === 'range';\n      var isColor = type === 'color';\n      return [{\n        // Range input needs class `custom-range`\n        'custom-range': isRange,\n        // `plaintext` not supported by `type=\"range\"` or `type=\"color\"`\n        'form-control-plaintext': plaintext && !isRange && !isColor,\n        // `form-control` not used by `type=\"range\"` or `plaintext`\n        // Always used by `type=\"color\"`\n        'form-control': isColor || !plaintext && !isRange\n      }, this.sizeFormClass, this.stateClass];\n    },\n    computedDebounce: function computedDebounce() {\n      // Ensure we have a positive number equal to or greater than 0\n      return mathMax(toInteger(this.debounce, 0), 0);\n    },\n    hasFormatter: function hasFormatter() {\n      return hasPropFunction(this.formatter);\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue) {\n    var stringifyValue = toString(newValue);\n    var modifiedValue = this.modifyValue(newValue);\n\n    if (stringifyValue !== this.localValue || modifiedValue !== this.vModelValue) {\n      // Clear any pending debounce timeout, as we are overwriting the user input\n      this.clearDebounce(); // Update the local values\n\n      this.localValue = stringifyValue;\n      this.vModelValue = modifiedValue;\n    }\n  }),\n  created: function created() {\n    // Create private non-reactive props\n    this.$_inputDebounceTimer = null;\n  },\n  mounted: function mounted() {\n    // Set up destroy handler\n    this.$on(HOOK_EVENT_NAME_BEFORE_DESTROY, this.clearDebounce);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearDebounce();\n  },\n  methods: {\n    clearDebounce: function clearDebounce() {\n      clearTimeout(this.$_inputDebounceTimer);\n      this.$_inputDebounceTimer = null;\n    },\n    formatValue: function formatValue(value, event) {\n      var force = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      value = toString(value);\n\n      if (this.hasFormatter && (!this.lazyFormatter || force)) {\n        value = this.formatter(value, event);\n      }\n\n      return value;\n    },\n    modifyValue: function modifyValue(value) {\n      value = toString(value); // Emulate `.trim` modifier behaviour\n\n      if (this.trim) {\n        value = value.trim();\n      } // Emulate `.number` modifier behaviour\n\n\n      if (this.number) {\n        value = toFloat(value, value);\n      }\n\n      return value;\n    },\n    updateValue: function updateValue(value) {\n      var _this = this;\n\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var lazy = this.lazy;\n\n      if (lazy && !force) {\n        return;\n      } // Make sure to always clear the debounce when `updateValue()`\n      // is called, even when the v-model hasn't changed\n\n\n      this.clearDebounce(); // Define the shared update logic in a method to be able to use\n      // it for immediate and debounced value changes\n\n      var doUpdate = function doUpdate() {\n        value = _this.modifyValue(value);\n\n        if (value !== _this.vModelValue) {\n          _this.vModelValue = value;\n\n          _this.$emit(MODEL_EVENT_NAME, value);\n        } else if (_this.hasFormatter) {\n          // When the `vModelValue` hasn't changed but the actual input value\n          // is out of sync, make sure to change it to the given one\n          // Usually caused by browser autocomplete and how it triggers the\n          // change or input event, or depending on the formatter function\n          // https://github.com/bootstrap-vue/bootstrap-vue/issues/2657\n          // https://github.com/bootstrap-vue/bootstrap-vue/issues/3498\n\n          /* istanbul ignore next: hard to test */\n          var $input = _this.$refs.input;\n          /* istanbul ignore if: hard to test out of sync value */\n\n          if ($input && value !== $input.value) {\n            $input.value = value;\n          }\n        }\n      }; // Only debounce the value update when a value greater than `0`\n      // is set and we are not in lazy mode or this is a forced update\n\n\n      var debounce = this.computedDebounce;\n\n      if (debounce > 0 && !lazy && !force) {\n        this.$_inputDebounceTimer = setTimeout(doUpdate, debounce);\n      } else {\n        // Immediately update the v-model\n        doUpdate();\n      }\n    },\n    onInput: function onInput(event) {\n      // `event.target.composing` is set by Vue\n      // https://github.com/vuejs/vue/blob/dev/src/platforms/web/runtime/directives/model.js\n      // TODO: Is this needed now with the latest Vue?\n\n      /* istanbul ignore if: hard to test composition events */\n      if (event.target.composing) {\n        return;\n      }\n\n      var value = event.target.value;\n      var formattedValue = this.formatValue(value, event); // Exit when the `formatter` function strictly returned `false`\n      // or prevented the input event\n\n      /* istanbul ignore next */\n\n      if (formattedValue === false || event.defaultPrevented) {\n        stopEvent(event, {\n          propagation: false\n        });\n        return;\n      }\n\n      this.localValue = formattedValue;\n      this.updateValue(formattedValue);\n      this.$emit(EVENT_NAME_INPUT, formattedValue);\n    },\n    onChange: function onChange(event) {\n      var value = event.target.value;\n      var formattedValue = this.formatValue(value, event); // Exit when the `formatter` function strictly returned `false`\n      // or prevented the input event\n\n      /* istanbul ignore next */\n\n      if (formattedValue === false || event.defaultPrevented) {\n        stopEvent(event, {\n          propagation: false\n        });\n        return;\n      }\n\n      this.localValue = formattedValue;\n      this.updateValue(formattedValue, true);\n      this.$emit(EVENT_NAME_CHANGE, formattedValue);\n    },\n    onBlur: function onBlur(event) {\n      // Apply the `localValue` on blur to prevent cursor jumps\n      // on mobile browsers (e.g. caused by autocomplete)\n      var value = event.target.value;\n      var formattedValue = this.formatValue(value, event, true);\n\n      if (formattedValue !== false) {\n        // We need to use the modified value here to apply the\n        // `.trim` and `.number` modifiers properly\n        this.localValue = toString(this.modifyValue(formattedValue)); // We pass the formatted value here since the `updateValue` method\n        // handles the modifiers itself\n\n        this.updateValue(formattedValue, true);\n      } // Emit native blur event\n\n\n      this.$emit(EVENT_NAME_BLUR, event);\n    },\n    focus: function focus() {\n      // For external handler that may want a focus method\n      if (!this.disabled) {\n        attemptFocus(this.$el);\n      }\n    },\n    blur: function blur() {\n      // For external handler that may want a blur method\n      if (!this.disabled) {\n        attemptBlur(this.$el);\n      }\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_INPUT } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { arrayIncludes } from '../../utils/array';\nimport { attemptBlur } from '../../utils/dom';\nimport { eventOn, eventOff, eventOnOff, stopEvent } from '../../utils/events';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenersMixin } from '../../mixins/listeners'; // --- Constants ---\n// Valid supported input types\n\nvar TYPES = ['text', 'password', 'email', 'number', 'url', 'tel', 'search', 'range', 'color', 'date', 'time', 'datetime', 'datetime-local', 'month', 'week']; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  list: makeProp(PROP_TYPE_STRING),\n  max: makeProp(PROP_TYPE_NUMBER_STRING),\n  min: makeProp(PROP_TYPE_NUMBER_STRING),\n  // Disable mousewheel to prevent wheel from changing values (i.e. number/date)\n  noWheel: makeProp(PROP_TYPE_BOOLEAN, false),\n  step: makeProp(PROP_TYPE_NUMBER_STRING),\n  type: makeProp(PROP_TYPE_STRING, 'text', function (type) {\n    return arrayIncludes(TYPES, type);\n  })\n})), NAME_FORM_INPUT); // --- Main component ---\n// @vue/component\n\nexport var BFormInput = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_INPUT,\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  computed: {\n    localType: function localType() {\n      // We only allow certain types\n      var type = this.type;\n      return arrayIncludes(TYPES, type) ? type : 'text';\n    },\n    computedAttrs: function computedAttrs() {\n      var type = this.localType,\n          name = this.name,\n          form = this.form,\n          disabled = this.disabled,\n          placeholder = this.placeholder,\n          required = this.required,\n          min = this.min,\n          max = this.max,\n          step = this.step;\n      return {\n        id: this.safeId(),\n        name: name,\n        form: form,\n        type: type,\n        disabled: disabled,\n        placeholder: placeholder,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        min: min,\n        max: max,\n        step: step,\n        list: type !== 'password' ? this.list : null,\n        'aria-required': required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    noWheel: function noWheel(newValue) {\n      this.setWheelStopper(newValue);\n    }\n  },\n  mounted: function mounted() {\n    this.setWheelStopper(this.noWheel);\n  },\n\n  /* istanbul ignore next */\n  deactivated: function deactivated() {\n    // Turn off listeners when keep-alive component deactivated\n\n    /* istanbul ignore next */\n    this.setWheelStopper(false);\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    // Turn on listeners (if no-wheel) when keep-alive component activated\n\n    /* istanbul ignore next */\n    this.setWheelStopper(this.noWheel);\n  },\n  beforeDestroy: function beforeDestroy() {\n    /* istanbul ignore next */\n    this.setWheelStopper(false);\n  },\n  methods: {\n    setWheelStopper: function setWheelStopper(on) {\n      var input = this.$el; // We use native events, so that we don't interfere with propagation\n\n      eventOnOff(on, input, 'focus', this.onWheelFocus);\n      eventOnOff(on, input, 'blur', this.onWheelBlur);\n\n      if (!on) {\n        eventOff(document, 'wheel', this.stopWheel);\n      }\n    },\n    onWheelFocus: function onWheelFocus() {\n      eventOn(document, 'wheel', this.stopWheel);\n    },\n    onWheelBlur: function onWheelBlur() {\n      eventOff(document, 'wheel', this.stopWheel);\n    },\n    stopWheel: function stopWheel(event) {\n      stopEvent(event, {\n        propagation: false\n      });\n      attemptBlur(this.$el);\n    }\n  },\n  render: function render(h) {\n    return h('input', {\n      class: this.computedClass,\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertsTable.vue?vue&type=style&index=1&id=c2f9491c&prod&lang=scss\"","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import { globalThisShim as globalThis } from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeafletBasic.vue?vue&type=style&index=0&id=5bf1285f&prod&lang=scss\"","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_OVERLAY } from '../../constants/components';\nimport { EVENT_NAME_CLICK, EVENT_NAME_HIDDEN, EVENT_NAME_SHOWN } from '../../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_OVERLAY } from '../../constants/slots';\nimport { toFloat } from '../../utils/number';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { BSpinner } from '../spinner/spinner';\nimport { BVTransition } from '../transition/bv-transition'; // --- Constants ---\n\nvar POSITION_COVER = {\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0\n}; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  // Alternative to variant, allowing a specific\n  // CSS color to be applied to the overlay\n  bgColor: makeProp(PROP_TYPE_STRING),\n  blur: makeProp(PROP_TYPE_STRING, '2px'),\n  fixed: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCenter: makeProp(PROP_TYPE_BOOLEAN, false),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  // If `true, does not render the default slot\n  // and switches to absolute positioning\n  noWrap: makeProp(PROP_TYPE_BOOLEAN, false),\n  opacity: makeProp(PROP_TYPE_NUMBER_STRING, 0.85, function (value) {\n    var number = toFloat(value, 0);\n    return number >= 0 && number <= 1;\n  }),\n  overlayTag: makeProp(PROP_TYPE_STRING, 'div'),\n  rounded: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  show: makeProp(PROP_TYPE_BOOLEAN, false),\n  spinnerSmall: makeProp(PROP_TYPE_BOOLEAN, false),\n  spinnerType: makeProp(PROP_TYPE_STRING, 'border'),\n  spinnerVariant: makeProp(PROP_TYPE_STRING),\n  variant: makeProp(PROP_TYPE_STRING, 'light'),\n  wrapTag: makeProp(PROP_TYPE_STRING, 'div'),\n  zIndex: makeProp(PROP_TYPE_NUMBER_STRING, 10)\n}, NAME_OVERLAY); // --- Main component ---\n// @vue/component\n\nexport var BOverlay = /*#__PURE__*/Vue.extend({\n  name: NAME_OVERLAY,\n  mixins: [normalizeSlotMixin],\n  props: props,\n  computed: {\n    computedRounded: function computedRounded() {\n      var rounded = this.rounded;\n      return rounded === true || rounded === '' ? 'rounded' : !rounded ? '' : \"rounded-\".concat(rounded);\n    },\n    computedVariant: function computedVariant() {\n      var variant = this.variant;\n      return variant && !this.bgColor ? \"bg-\".concat(variant) : '';\n    },\n    slotScope: function slotScope() {\n      return {\n        spinnerType: this.spinnerType || null,\n        spinnerVariant: this.spinnerVariant || null,\n        spinnerSmall: this.spinnerSmall\n      };\n    }\n  },\n  methods: {\n    defaultOverlayFn: function defaultOverlayFn(_ref) {\n      var spinnerType = _ref.spinnerType,\n          spinnerVariant = _ref.spinnerVariant,\n          spinnerSmall = _ref.spinnerSmall;\n      return this.$createElement(BSpinner, {\n        props: {\n          type: spinnerType,\n          variant: spinnerVariant,\n          small: spinnerSmall\n        }\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    var show = this.show,\n        fixed = this.fixed,\n        noFade = this.noFade,\n        noWrap = this.noWrap,\n        slotScope = this.slotScope;\n    var $overlay = h();\n\n    if (show) {\n      var $background = h('div', {\n        staticClass: 'position-absolute',\n        class: [this.computedVariant, this.computedRounded],\n        style: _objectSpread(_objectSpread({}, POSITION_COVER), {}, {\n          opacity: this.opacity,\n          backgroundColor: this.bgColor || null,\n          backdropFilter: this.blur ? \"blur(\".concat(this.blur, \")\") : null\n        })\n      });\n      var $content = h('div', {\n        staticClass: 'position-absolute',\n        style: this.noCenter ?\n        /* istanbul ignore next */\n        _objectSpread({}, POSITION_COVER) : {\n          top: '50%',\n          left: '50%',\n          transform: 'translateX(-50%) translateY(-50%)'\n        }\n      }, [this.normalizeSlot(SLOT_NAME_OVERLAY, slotScope) || this.defaultOverlayFn(slotScope)]);\n      $overlay = h(this.overlayTag, {\n        staticClass: 'b-overlay',\n        class: {\n          'position-absolute': !noWrap || noWrap && !fixed,\n          'position-fixed': noWrap && fixed\n        },\n        style: _objectSpread(_objectSpread({}, POSITION_COVER), {}, {\n          zIndex: this.zIndex || 10\n        }),\n        on: {\n          click: function click(event) {\n            return _this.$emit(EVENT_NAME_CLICK, event);\n          }\n        },\n        key: 'overlay'\n      }, [$background, $content]);\n    } // Wrap in a fade transition\n\n\n    $overlay = h(BVTransition, {\n      props: {\n        noFade: noFade,\n        appear: true\n      },\n      on: {\n        'after-enter': function afterEnter() {\n          return _this.$emit(EVENT_NAME_SHOWN);\n        },\n        'after-leave': function afterLeave() {\n          return _this.$emit(EVENT_NAME_HIDDEN);\n        }\n      }\n    }, [$overlay]);\n\n    if (noWrap) {\n      return $overlay;\n    }\n\n    return h(this.wrapTag, {\n      staticClass: 'b-overlay-wrap position-relative',\n      attrs: {\n        'aria-busy': show ? 'true' : null\n      }\n    }, noWrap ? [$overlay] : [this.normalizeSlot(), $overlay]);\n  }\n});","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","module.exports = __webpack_public_path__ + \"media/alarm-1.acc7df5f.mp3\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\",\"lg\":\"12\",\"xl\":\"12\"}},[_c('b-badge',{attrs:{\"variant\":_vm.isConnected? 'success': 'danger'}},[_c('feather-icon',{staticClass:\"mr-25\",attrs:{\"icon\":_vm.isConnected? 'ZapIcon': 'ZapOffIcon'}}),_c('span',[_vm._v(_vm._s(_vm.isConnected? 'Conectado': 'Desconectado'))])],1)],1),_c('b-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\",\"lg\":\"12\",\"xl\":\"12\"}},[_c('LeafletBasic',{ref:\"mapa\",staticStyle:{\"height\":\"400px\"}})],1),_c('b-col',{staticClass:\"mt-1\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\",\"lg\":\"12\",\"xl\":\"12\"}},[_c('alerts-table',{attrs:{\"list-query\":_vm.listQuery,\"alerts\":_vm.alerts,\"is-loading\":_vm.isLoading},on:{\"handle-location\":function (location) { return _vm.$refs.mapa.setLocation(location); },\"handle-change-dates\":_vm.handleChangeDates,\"handle-alert-details\":function (id) { return _vm.$refs.alertDetailsRef.getById(id); }}})],1),_c('AlertDetails',{ref:\"alertDetailsRef\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\r\n\r\nconst resource = 'v1/alert'\r\n\r\nexport default {\r\n  fetchList({\r\n    take,\r\n    page,\r\n    order,\r\n    search,\r\n    date_created,\r\n  }) {\r\n    return Api.get(`${resource}`, {\r\n      params: {\r\n        take,\r\n        page,\r\n        order,\r\n        search,\r\n        date_created,\r\n      },\r\n    })\r\n  },\r\n  create(form) {\r\n    return Api.post(`${resource}`, form)\r\n  },\r\n  getById(id) {\r\n    return Api.get(`${resource}/${id}`)\r\n  },\r\n  update(id, form) {\r\n    return Api.patch(`${resource}/${id}`, form)\r\n  },\r\n  fetchAllActivesWithDriverDevice() {\r\n    return Api.get(`${resource}/all/activesWhithDriverDevice`)\r\n  },\r\n}\r\n","import {\r\n  onMounted,\r\n  reactive,\r\n  ref,\r\n  watch,\r\n} from '@vue/composition-api'\r\nimport { useToast } from 'vue-toastification/composition'\r\nimport ToastificationContentVue from '@/@core/components/toastification/ToastificationContent.vue'\r\n\r\nimport { Manager } from 'socket.io-client'\r\nimport _ from 'lodash'\r\nimport { Howl } from 'howler'\r\n\r\nimport AlertService from '@/services/AlertService'\r\n\r\nconst UseAlertsWS = (perPage = 10, refMapa) => {\r\n  const title = 'Alertas'\r\n  const URL_SOCKET = `${process.env.VUE_APP_BASE_URL}/socket.io/socket.io.js`\r\n  const manager = new Manager(URL_SOCKET)\r\n  const socket = manager.socket('/alerts')\r\n  const isConnected = ref(false)\r\n  const toast = useToast()\r\n  const isLoading = ref(false)\r\n  const alerts = ref([])\r\n  const alertDetails = ref({\r\n    alert_id: '',\r\n    alert_address: '',\r\n    device_name: '',\r\n    typeDevice_name: '',\r\n    unit_plate: '',\r\n    driver_name: '',\r\n    driver_last_name: '',\r\n    driver_license: '',\r\n    driver_cellphone: '',\r\n    driver_photo: '',\r\n    model_name: '',\r\n    brand_name: '',\r\n    created_at: '',\r\n  })\r\n  const showSidebar = ref(false)\r\n\r\n  const listQuery = reactive({\r\n    take: perPage,\r\n    page: 1,\r\n    order: 'DESC',\r\n    pageCount: 1,\r\n    itemCount: 0,\r\n    search: '',\r\n    date_created: [],\r\n    sortBy: 'id',\r\n    from: 0,\r\n    to: 0,\r\n  })\r\n\r\n  const sound = ref(null)\r\n  sound.value = new Howl({\r\n    // eslint-disable-next-line global-require\r\n    src: [require('@/assets/sounds/alarm-1.mp3')], // Asegúrate de que la ruta sea correcta\r\n    // html5: true, // Opcional: permite la reproducción en streaming\r\n  })\r\n\r\n  const fetchList = async () => {\r\n    isLoading.value = true\r\n    try {\r\n      const response = await AlertService.fetchList(listQuery)\r\n      const { data, meta } = response.data\r\n      const {\r\n        take,\r\n        page,\r\n        pageCount,\r\n        itemCount,\r\n        from,\r\n        to,\r\n      } = meta\r\n      listQuery.itemCount = Number(itemCount)\r\n      listQuery.pageCount = Number(pageCount)\r\n      listQuery.take = Number(take)\r\n      listQuery.from = Number(from)\r\n      listQuery.to = to > data.length ? itemCount : to\r\n      listQuery.page = page\r\n      alerts.value = data\r\n      isLoading.value = false\r\n    } catch (error) {\r\n      isLoading.value = false\r\n      toast({\r\n        component: ToastificationContentVue,\r\n        props: {\r\n          title: `Error al cargar ${title}`,\r\n          icon: 'AlertTriangleIcon',\r\n          variant: 'danger',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  const getById = async id => {\r\n    try {\r\n      isLoading.value = true\r\n      const resp = await AlertService.getById(id)\r\n      Object.assign(alertDetails.value, resp.data)\r\n      isLoading.value = false\r\n      showSidebar.value = true\r\n    } catch (error) {\r\n      isLoading.value = false\r\n    }\r\n  }\r\n\r\n  const reload = _.debounce(() => {\r\n    fetchList()\r\n  }, 500)\r\n\r\n  watch(() => listQuery.take, () => fetchList())\r\n\r\n  watch(() => listQuery.page, () => fetchList())\r\n\r\n  watch(() => listQuery.search, () => {\r\n    reload()\r\n  })\r\n\r\n  watch(() => listQuery.date_created, () => {\r\n    reload()\r\n  })\r\n\r\n  const addListeners = () => {\r\n    socket.on('connect', () => {\r\n      isConnected.value = true\r\n    })\r\n\r\n    socket.on('disconnect', () => {\r\n      isConnected.value = false\r\n    })\r\n\r\n    socket.on('new-alert', alert => {\r\n      alerts.value = alerts.value.map(a => {\r\n        const { isNew, ...rest } = a\r\n        return { ...rest }\r\n      })\r\n      sound.value.play()\r\n      setTimeout(() => {\r\n        sound.value.stop()\r\n      }, 5000)\r\n      alerts.value.unshift(alert)\r\n      refMapa.value.setLocation(alert.location)\r\n    })\r\n  }\r\n\r\n  const dateStringToFormatYMDH = dateString => {\r\n    const dateArray = dateString.split('-')\r\n    dateArray.reverse()\r\n    const year = dateArray[0].trim()\r\n    const month = dateArray[1].trim().padStart(2, '0')\r\n    const day = dateArray[2].trim().padStart(2, '0')\r\n    const dateFormat = `${year}-${month}-${day}`\r\n    return dateFormat\r\n  }\r\n\r\n  const handleChangeDates = (selectedDates, dateStr) => {\r\n    if (dateStr === '') {\r\n      listQuery.date_created = []\r\n      return\r\n    }\r\n\r\n    const arrayDates = dateStr.split('a')\r\n    if (arrayDates.length === 1) {\r\n      const f = dateStringToFormatYMDH(dateStr)\r\n      listQuery.date_created = [f, f]\r\n    } else {\r\n      const f1 = dateStringToFormatYMDH(arrayDates[0])\r\n      const f2 = dateStringToFormatYMDH(arrayDates[1])\r\n      listQuery.date_created = [f1, f2]\r\n    }\r\n  }\r\n\r\n  onMounted(() => {\r\n    addListeners()\r\n  })\r\n\r\n  return {\r\n    isLoading,\r\n    listQuery,\r\n    alerts,\r\n    isConnected,\r\n    handleChangeDates,\r\n    alertDetails,\r\n    getById,\r\n    showSidebar,\r\n  }\r\n}\r\n\r\nexport default UseAlertsWS\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"mb-0\",attrs:{\"no-body\":\"\"}},[_c('b-overlay',{attrs:{\"show\":_vm.isLoading,\"spinner-variant\":\"primary\",\"spinner-type\":\"grow\",\"spinner-small\":\"\",\"rounded\":\"sm\"}},[_c('div',{staticClass:\"m-2\"},[_c('b-row',[_c('b-col',{staticClass:\"d-flex align-items-center justify-content-start mb-1 mb-md-0\",attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('label',[_vm._v(\"Mostrar\")]),_c('v-select',{staticClass:\"per-page-selector d-inline-block mx-50\",attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"options\":_vm.perPageOptions,\"clearable\":false},model:{value:(_vm.listQuery.take),callback:function ($$v) {_vm.$set(_vm.listQuery, \"take\", $$v)},expression:\"listQuery.take\"}}),_c('label',[_vm._v(_vm._s(_vm.title))])],1),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"placeholder\":\"Bucar por rango de fechas\",\"config\":{ mode: 'range', dateFormat: 'd-m-Y' },\"input-id\":\"rangoFechas\"},on:{\"on-close\":function (selectedDates, dateStr) { return _vm.$emit('handle-change-dates', selectedDates, dateStr); }},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}})],1),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('div',{staticClass:\"d-flex align-items-center justify-content-end\"},[_c('b-form-input',{staticClass:\"d-inline-block mr-0 mr-md-0 mr-sm-0 mt-md-0 mt-sm-1\",attrs:{\"placeholder\":\"Buscar...\"},model:{value:(_vm.listQuery.search),callback:function ($$v) {_vm.$set(_vm.listQuery, \"search\", $$v)},expression:\"listQuery.search\"}}),_vm._t(\"plus\")],2)])],1)],1),_c('b-table',{ref:\"refUsuariosListTable\",staticClass:\"position-relative\",attrs:{\"items\":_vm.alerts,\"responsive\":\"\",\"fields\":_vm.headerColumns,\"tbody-tr-class\":_vm.rowClass,\"primary-key\":\"id\",\"show-empty\":\"\",\"empty-text\":\"No hay registros\",\"outlined\":\"\",\"small\":\"\",\"hover\":\"\",\"sticky-header\":\"\",\"head-variant\":\"'light'\"},scopedSlots:_vm._u([{key:\"cell(createdAt)\",fn:function(data){return [_c('span',{staticClass:\"font-weight-bolder\",class:data.item.isNew ? 'text-black' : ''},[_vm._v(\" \"+_vm._s(_vm.dateTimeFormat(data.item.createdAt))+\" \")])]}},{key:\"cell(address)\",fn:function(data){return [_c('span',{staticClass:\"font-weight-bolder\",class:data.item.isNew ? 'text-black' : ''},[_vm._v(\" \"+_vm._s(data.item.address)+\" \")])]}},{key:\"cell(device.unit.plate)\",fn:function(data){return [_c('span',{staticClass:\"font-weight-bolder\",class:data.item.isNew ? 'text-black' : ''},[_vm._v(\" \"+_vm._s(data.item.device.unit.plate)+\" \")])]}},{key:\"cell(actions)\",fn:function(data){return [_c('div',{staticClass:\"text-nowrap\"},[_c('b-avatar',{attrs:{\"size\":\"48\",\"variant\":\"light-danger\"}},[_c('feather-icon',{staticClass:\"cursor-pointer\",attrs:{\"size\":\"20\",\"icon\":\"MapPinIcon\"},on:{\"click\":function($event){return _vm.$emit('handle-location', data.item.location)}}})],1),_c('b-avatar',{staticClass:\"ml-1\",attrs:{\"size\":\"48\",\"variant\":\"light-info\"}},[_c('feather-icon',{staticClass:\"cursor-pointer\",attrs:{\"size\":\"20\",\"icon\":\"EyeIcon\"},on:{\"click\":function($event){return _vm.$emit('handle-alert-details', data.item.id)}}})],1)],1)]}}])}),_c('div',{staticClass:\"mx-2 mb-2\"},[_c('b-row',[_c('b-col',{staticClass:\"d-flex align-items-center justify-content-center justify-content-sm-start\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('span',{staticClass:\"text-muted\"},[_vm._v(\" Mostrando \"+_vm._s(_vm.listQuery.from)+\" a \"+_vm._s(_vm.listQuery.to)+\" de \"+_vm._s(_vm.listQuery.itemCount)+\" \"+_vm._s(_vm.title)+\" \")])]),_c('b-col',{staticClass:\"d-flex align-items-center justify-content-center justify-content-sm-end\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('b-pagination',{staticClass:\"mb-0 mt-1 mt-sm-0\",attrs:{\"total-rows\":_vm.listQuery.itemCount,\"per-page\":_vm.listQuery.take,\"first-number\":\"\",\"last-number\":\"\",\"prev-class\":\"prev-item\",\"next-class\":\"next-item\"},scopedSlots:_vm._u([{key:\"prev-text\",fn:function(){return [_c('feather-icon',{attrs:{\"icon\":\"ChevronLeftIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"next-text\",fn:function(){return [_c('feather-icon',{attrs:{\"icon\":\"ChevronRightIcon\",\"size\":\"18\"}})]},proxy:true}]),model:{value:(_vm.listQuery.page),callback:function ($$v) {_vm.$set(_vm.listQuery, \"page\", $$v)},expression:\"listQuery.page\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-card\r\n    no-body\r\n    class=\"mb-0\"\r\n  >\r\n    <b-overlay\r\n      :show=\"isLoading\"\r\n      spinner-variant=\"primary\"\r\n      spinner-type=\"grow\"\r\n      spinner-small\r\n      rounded=\"sm\"\r\n    >\r\n      <div class=\"m-2\">\r\n        <!-- Table Top -->\r\n        <b-row>\r\n          <!-- Per Page -->\r\n          <b-col\r\n            cols=\"12\"\r\n            md=\"4\"\r\n            class=\"d-flex align-items-center justify-content-start mb-1 mb-md-0\"\r\n          >\r\n            <label>Mostrar</label>\r\n            <v-select\r\n              v-model=\"listQuery.take\"\r\n              :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\r\n              :options=\"perPageOptions\"\r\n              :clearable=\"false\"\r\n              class=\"per-page-selector d-inline-block mx-50\"\r\n            />\r\n            <label>{{ title }}</label>\r\n          </b-col>\r\n\r\n          <b-col\r\n            cols=\"12\"\r\n            md=\"4\"\r\n          >\r\n            <flat-pickr\r\n              v-model=\"dates\"\r\n              class=\"form-control\"\r\n              placeholder=\"Bucar por rango de fechas\"\r\n              :config=\"{ mode: 'range', dateFormat: 'd-m-Y' }\"\r\n              input-id=\"rangoFechas\"\r\n              @on-close=\"(selectedDates, dateStr) =>\r\n                $emit('handle-change-dates', selectedDates, dateStr)\r\n              \"\r\n            />\r\n          </b-col>\r\n\r\n          <!-- Search -->\r\n          <b-col\r\n            cols=\"12\"\r\n            md=\"4\"\r\n          >\r\n            <div class=\"d-flex align-items-center justify-content-end\">\r\n              <b-form-input\r\n                v-model=\"listQuery.search\"\r\n                class=\"d-inline-block mr-0 mr-md-0 mr-sm-0 mt-md-0 mt-sm-1\"\r\n                placeholder=\"Buscar...\"\r\n              />\r\n              <slot name=\"plus\">\r\n                &nbsp;\r\n              </slot>\r\n            </div>\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n\r\n      <b-table\r\n        ref=\"refUsuariosListTable\"\r\n        class=\"position-relative\"\r\n        :items=\"alerts\"\r\n        responsive\r\n        :fields=\"headerColumns\"\r\n        :tbody-tr-class=\"rowClass\"\r\n        primary-key=\"id\"\r\n        show-empty\r\n        empty-text=\"No hay registros\"\r\n        outlined\r\n        small\r\n        hover\r\n        sticky-header\r\n        head-variant=\"'light'\"\r\n      >\r\n        <!-- Column: createdAt -->\r\n        <template #cell(createdAt)=\"data\">\r\n          <span\r\n            class=\"font-weight-bolder\"\r\n            :class=\"data.item.isNew ? 'text-black' : ''\"\r\n          >\r\n            {{ dateTimeFormat(data.item.createdAt) }}\r\n          </span>\r\n        </template>\r\n\r\n        <!-- Column: address -->\r\n        <template #cell(address)=\"data\">\r\n          <span\r\n            class=\"font-weight-bolder\"\r\n            :class=\"data.item.isNew ? 'text-black' : ''\"\r\n          >\r\n            {{ data.item.address }}\r\n          </span>\r\n        </template>\r\n\r\n        <!-- Column: device.unit.plate -->\r\n        <template #cell(device.unit.plate)=\"data\">\r\n          <span\r\n            class=\"font-weight-bolder\"\r\n            :class=\"data.item.isNew ? 'text-black' : ''\"\r\n          >\r\n            {{ data.item.device.unit.plate }}\r\n          </span>\r\n        </template>\r\n\r\n        <!-- Column: Actions -->\r\n        <template #cell(actions)=\"data\">\r\n          <div class=\"text-nowrap\">\r\n            <b-avatar\r\n              size=\"48\"\r\n              variant=\"light-danger\"\r\n            >\r\n              <feather-icon\r\n                size=\"20\"\r\n                class=\"cursor-pointer\"\r\n                icon=\"MapPinIcon\"\r\n                @click=\"$emit('handle-location', data.item.location)\"\r\n              />\r\n            </b-avatar>\r\n            <b-avatar\r\n              size=\"48\"\r\n              variant=\"light-info\"\r\n              class=\"ml-1\"\r\n            >\r\n              <feather-icon\r\n                size=\"20\"\r\n                class=\"cursor-pointer\"\r\n                icon=\"EyeIcon\"\r\n                @click=\"$emit('handle-alert-details', data.item.id)\"\r\n              />\r\n            </b-avatar>\r\n          </div>\r\n        </template>\r\n      </b-table>\r\n      <div class=\"mx-2 mb-2\">\r\n        <b-row>\r\n          <b-col\r\n            cols=\"12\"\r\n            sm=\"6\"\r\n            class=\"d-flex align-items-center justify-content-center justify-content-sm-start\"\r\n          >\r\n            <span class=\"text-muted\">\r\n              Mostrando {{ listQuery.from }} a {{ listQuery.to }} de\r\n              {{ listQuery.itemCount }} {{ title }}\r\n            </span>\r\n          </b-col>\r\n          <!-- Pagination -->\r\n          <b-col\r\n            cols=\"12\"\r\n            sm=\"6\"\r\n            class=\"d-flex align-items-center justify-content-center justify-content-sm-end\"\r\n          >\r\n            <b-pagination\r\n              v-model=\"listQuery.page\"\r\n              :total-rows=\"listQuery.itemCount\"\r\n              :per-page=\"listQuery.take\"\r\n              first-number\r\n              last-number\r\n              class=\"mb-0 mt-1 mt-sm-0\"\r\n              prev-class=\"prev-item\"\r\n              next-class=\"next-item\"\r\n            >\r\n              <template #prev-text>\r\n                <feather-icon\r\n                  icon=\"ChevronLeftIcon\"\r\n                  size=\"18\"\r\n                />\r\n              </template>\r\n              <template #next-text>\r\n                <feather-icon\r\n                  icon=\"ChevronRightIcon\"\r\n                  size=\"18\"\r\n                />\r\n              </template>\r\n            </b-pagination>\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n    </b-overlay>\r\n  </b-card>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BAvatar,\r\n  BCard,\r\n  BRow,\r\n  BCol,\r\n  BFormInput,\r\n  BTable,\r\n  BPagination,\r\n  BOverlay,\r\n} from 'bootstrap-vue'\r\nimport vSelect from 'vue-select'\r\nimport useCustomFunctions from '@/composables/useCustomFunctions'\r\nimport flatPickr from 'vue-flatpickr-component'\r\nimport { onMounted, ref } from '@vue/composition-api'\r\n\r\nexport default {\r\n  components: {\r\n    BAvatar,\r\n    BCard,\r\n    BRow,\r\n    BCol,\r\n    BFormInput,\r\n    BTable,\r\n    BPagination,\r\n    BOverlay,\r\n    vSelect,\r\n    flatPickr,\r\n  },\r\n  props: {\r\n    alerts: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    isLoading: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    listQuery: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  setup(__, ctx) {\r\n    const title = 'Alertas'\r\n    const { dateTimeFormat } = useCustomFunctions()\r\n    const perPageOptions = [8, 20, 50]\r\n    const today = new Date()\r\n    const todaytString = `${today.getDate()}-${today.getMonth() + 1}-${today.getFullYear()}`\r\n    const datesToday = [today, today]\r\n    const dates = ref(datesToday)\r\n    onMounted(() => {\r\n      ctx.emit('handle-change-dates', [], `${todaytString} a ${todaytString}`)\r\n    })\r\n\r\n    const headerColumns = [\r\n      {\r\n        key: 'createdAt',\r\n        label: 'Fecha',\r\n        sortable: true,\r\n      },\r\n      {\r\n        key: 'address',\r\n        label: 'Direccion',\r\n        sortable: true,\r\n        isRowHeader: false,\r\n      },\r\n      {\r\n        key: 'device.unit.plate',\r\n        label: 'Unidad',\r\n        sortable: true,\r\n        isRowHeader: true,\r\n      },\r\n      { key: 'actions', label: 'Acciones' },\r\n    ]\r\n\r\n    const rowClass = (item, type) => {\r\n      let colorClass = ''\r\n      if (item || type === 'row') {\r\n        if (item.isNew) {\r\n          console.log({ item })\r\n          colorClass = 'table-danger'\r\n        }\r\n        return colorClass\r\n      }\r\n      return colorClass\r\n    }\r\n\r\n    return {\r\n      title,\r\n      perPageOptions,\r\n      headerColumns,\r\n      rowClass,\r\n      // Extra Filters\r\n\r\n      dateTimeFormat,\r\n      dates,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.per-page-selector {\r\n  width: 90px;\r\n}\r\n\r\n.text-black {\r\n  color: black !important;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n@import \"@core/scss/vue/libs/vue-select.scss\";\r\n@import \"@core/scss/vue/libs/vue-flatpicker.scss\";\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertsTable.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertsTable.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AlertsTable.vue?vue&type=template&id=c2f9491c&scoped=true\"\nimport script from \"./AlertsTable.vue?vue&type=script&lang=js\"\nexport * from \"./AlertsTable.vue?vue&type=script&lang=js\"\nimport style0 from \"./AlertsTable.vue?vue&type=style&index=0&id=c2f9491c&prod&lang=scss&scoped=true\"\nimport style1 from \"./AlertsTable.vue?vue&type=style&index=1&id=c2f9491c&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c2f9491c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('l-map',{ref:\"mapLeaflet\",staticClass:\"l-map\",attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center}},[_c('v-icondefault'),_c('l-tile-layer',{attrs:{\"url\":_vm.url}}),(_vm.marker != null)?_c('v-marker',{attrs:{\"lat-lng\":_vm.marker,\"icon\":_vm.iconAwsome}},[_c('v-popup',{attrs:{\"content\":_vm.content}})],1):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { setOptions, Icon, marker, DomEvent, latLng } from 'leaflet';\n\nvar debounce = function (fn, time) {\n  var timeout;\n\n  return function() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var context = this;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(function () {\n      fn.apply(context, args);\n      timeout = null;\n    }, time);\n  };\n};\n\nvar capitalizeFirstLetter = function (string) {\n  if (!string || typeof string.charAt !== 'function') {\n    return string;\n  }\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nvar propsBinder = function (vueElement, leafletElement, props, options) {\n  var loop = function ( key ) {\n    var setMethodName = 'set' + capitalizeFirstLetter(key);\n    var deepValue =\n      props[key].type === Object ||\n      props[key].type === Array ||\n      Array.isArray(props[key].type);\n    if (props[key].custom && vueElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          vueElement[setMethodName](newVal, oldVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (setMethodName === 'setOptions') {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          setOptions(leafletElement, newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (leafletElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          leafletElement[setMethodName](newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    }\n  };\n\n  for (var key in props) loop( key );\n};\n\nvar collectionCleaner = function (options) {\n  var result = {};\n  for (var key in options) {\n    var value = options[key];\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n  }\n  return result;\n};\n\nvar optionsMerger = function (props, instance) {\n  var options =\n    instance.options && instance.options.constructor === Object\n      ? instance.options\n      : {};\n  props = props && props.constructor === Object ? props : {};\n  var result = collectionCleaner(options);\n  props = collectionCleaner(props);\n  var defaultProps = instance.$options.props;\n  for (var key in props) {\n    var def = defaultProps[key]\n      ? defaultProps[key].default\n      : Symbol('unique');\n    if (result[key] && def !== props[key]) {\n      console.warn(\n        (key + \" props is overriding the value passed in the options props\")\n      );\n      result[key] = props[key];\n    } else if (!result[key]) {\n      result[key] = props[key];\n    }\n  }\n  return result;\n};\n\nvar findRealParent = function (firstVueParent) {\n  var found = false;\n  while (firstVueParent && !found) {\n    if (firstVueParent.mapObject === undefined) {\n      firstVueParent = firstVueParent.$parent;\n    } else {\n      found = true;\n    }\n  }\n  return firstVueParent;\n};\n\nvar Layer = {\n  props: {\n    pane: {\n      type: String,\n      default: 'overlayPane',\n    },\n    attribution: {\n      type: String,\n      default: null,\n    },\n    name: {\n      type: String,\n      custom: true,\n      default: undefined,\n    },\n    layerType: {\n      type: String,\n      custom: true,\n      default: undefined,\n    },\n    visible: {\n      type: Boolean,\n      custom: true,\n      default: true,\n    },\n  },\n  mounted: function mounted() {\n    this.layerOptions = {\n      attribution: this.attribution,\n      pane: this.pane,\n    };\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unbindPopup();\n    this.unbindTooltip();\n    this.parentContainer.removeLayer(this);\n  },\n  methods: {\n    setAttribution: function setAttribution(val, old) {\n      var attributionControl = this.$parent.mapObject.attributionControl;\n      attributionControl.removeAttribution(old).addAttribution(val);\n    },\n    setName: function setName() {\n      this.parentContainer.removeLayer(this);\n      if (this.visible) {\n        this.parentContainer.addLayer(this);\n      }\n    },\n    setLayerType: function setLayerType() {\n      this.parentContainer.removeLayer(this);\n      if (this.visible) {\n        this.parentContainer.addLayer(this);\n      }\n    },\n    setVisible: function setVisible(isVisible) {\n      if (this.mapObject) {\n        if (isVisible) {\n          this.parentContainer.addLayer(this);\n        } else {\n          if (this.parentContainer.hideLayer) {\n            this.parentContainer.hideLayer(this);\n          } else {\n            this.parentContainer.removeLayer(this);\n          }\n        }\n      }\n    },\n    unbindTooltip: function unbindTooltip() {\n      var tooltip = this.mapObject ? this.mapObject.getTooltip() : null;\n      if (tooltip) {\n        tooltip.unbindTooltip();\n      }\n    },\n    unbindPopup: function unbindPopup() {\n      var popup = this.mapObject ? this.mapObject.getPopup() : null;\n      if (popup) {\n        popup.unbindPopup();\n      }\n    },\n    updateVisibleProp: function updateVisibleProp(value) {\n      /**\n       * Triggers when the visible prop needs to be updated\n       * @type {boolean}\n       * @property {boolean} value - value of the visible property\n       */\n      this.$emit('update:visible', value);\n    },\n  },\n};\n\nvar Options = {\n  props: {\n    options: {\n      type: Object,\n      default: function () { return ({}); }\n    }\n  }\n};\n\n/**\n * Marker component, lets you add and personalize markers on the map\n */\nvar script = {\n  name: 'LMarker',\n  mixins: [Layer, Options],\n  props: {\n    pane: {\n      type: String,\n      default: 'markerPane',\n    },\n    draggable: {\n      type: Boolean,\n      custom: true,\n      default: false,\n    },\n    latLng: {\n      type: [Object, Array],\n      custom: true,\n      default: null,\n    },\n    icon: {\n      type: [Object],\n      custom: false,\n      default: function () { return new Icon.Default(); },\n    },\n    zIndexOffset: {\n      type: Number,\n      custom: false,\n      default: null,\n    },\n  },\n  data: function data() {\n    return {\n      ready: false,\n    };\n  },\n  mounted: function mounted() {\n    var this$1 = this;\n\n    var options = optionsMerger(\n      Object.assign({}, this.layerOptions,\n        {icon: this.icon,\n        zIndexOffset: this.zIndexOffset,\n        draggable: this.draggable}),\n      this\n    );\n    this.mapObject = marker(this.latLng, options);\n    DomEvent.on(this.mapObject, this.$listeners);\n    this.mapObject.on('move', debounce(this.latLngSync, 100));\n    propsBinder(this, this.mapObject, this.$options.props);\n    this.parentContainer = findRealParent(this.$parent);\n    this.parentContainer.addLayer(this, !this.visible);\n    this.ready = true;\n    this.$nextTick(function () {\n      /**\n       * Triggers when the component is ready\n       * @type {object}\n       * @property {object} mapObject - reference to leaflet map object\n       */\n      this$1.$emit('ready', this$1.mapObject);\n    });\n  },\n  methods: {\n    setDraggable: function setDraggable(newVal, oldVal) {\n      if (this.mapObject.dragging) {\n        newVal\n          ? this.mapObject.dragging.enable()\n          : this.mapObject.dragging.disable();\n      }\n    },\n    setLatLng: function setLatLng(newVal) {\n      if (newVal == null) {\n        return;\n      }\n\n      if (this.mapObject) {\n        var oldLatLng = this.mapObject.getLatLng();\n        var newLatLng = latLng(newVal);\n        if (\n          newLatLng.lat !== oldLatLng.lat ||\n          newLatLng.lng !== oldLatLng.lng\n        ) {\n          this.mapObject.setLatLng(newLatLng);\n        }\n      }\n    },\n    latLngSync: function latLngSync(event) {\n      this.$emit('update:latLng', event.latlng);\n      this.$emit('update:lat-lng', event.latlng);\n    },\n  },\n  render: function(h) {\n    if (this.ready && this.$slots.default) {\n      return h('div', { style: { display: 'none' } }, this.$slots.default);\n    }\n    return null;\n  },\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    var options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    var hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            var originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            var existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nvar isOldIE = typeof navigator !== 'undefined' &&\r\n    /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n/* script */\nvar __vue_script__ = script;\n\n/* template */\n\n  /* style */\n  var __vue_inject_styles__ = undefined;\n  /* scoped */\n  var __vue_scope_id__ = undefined;\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = undefined;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  var __vue_component__ = normalizeComponent(\n    {},\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nexport default __vue_component__;\n","import { setOptions, popup, DomEvent } from 'leaflet';\n\nvar capitalizeFirstLetter = function (string) {\n  if (!string || typeof string.charAt !== 'function') {\n    return string;\n  }\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nvar propsBinder = function (vueElement, leafletElement, props, options) {\n  var loop = function ( key ) {\n    var setMethodName = 'set' + capitalizeFirstLetter(key);\n    var deepValue =\n      props[key].type === Object ||\n      props[key].type === Array ||\n      Array.isArray(props[key].type);\n    if (props[key].custom && vueElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          vueElement[setMethodName](newVal, oldVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (setMethodName === 'setOptions') {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          setOptions(leafletElement, newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (leafletElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          leafletElement[setMethodName](newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    }\n  };\n\n  for (var key in props) loop( key );\n};\n\nvar collectionCleaner = function (options) {\n  var result = {};\n  for (var key in options) {\n    var value = options[key];\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n  }\n  return result;\n};\n\nvar optionsMerger = function (props, instance) {\n  var options =\n    instance.options && instance.options.constructor === Object\n      ? instance.options\n      : {};\n  props = props && props.constructor === Object ? props : {};\n  var result = collectionCleaner(options);\n  props = collectionCleaner(props);\n  var defaultProps = instance.$options.props;\n  for (var key in props) {\n    var def = defaultProps[key]\n      ? defaultProps[key].default\n      : Symbol('unique');\n    if (result[key] && def !== props[key]) {\n      console.warn(\n        (key + \" props is overriding the value passed in the options props\")\n      );\n      result[key] = props[key];\n    } else if (!result[key]) {\n      result[key] = props[key];\n    }\n  }\n  return result;\n};\n\nvar findRealParent = function (firstVueParent) {\n  var found = false;\n  while (firstVueParent && !found) {\n    if (firstVueParent.mapObject === undefined) {\n      firstVueParent = firstVueParent.$parent;\n    } else {\n      found = true;\n    }\n  }\n  return firstVueParent;\n};\n\nvar Popper = {\n  props: {\n    content: {\n      type: String,\n      default: null,\n      custom: true\n    }\n  },\n  mounted: function mounted () {\n    this.popperOptions = {};\n  },\n  methods: {\n    setContent: function setContent (newVal) {\n      if (this.mapObject && newVal !== null && newVal !== undefined) {\n        this.mapObject.setContent(newVal);\n      }\n    }\n  },\n  render: function render (h) {\n    if (this.$slots.default) {\n      return h('div', this.$slots.default);\n    }\n    return null;\n  }\n};\n\nvar Options = {\n  props: {\n    options: {\n      type: Object,\n      default: function () { return ({}); }\n    }\n  }\n};\n\n/**\n * Display a popup on the map\n */\nvar script = {\n  name: 'LPopup',\n  mixins: [Popper, Options],\n  props: {\n    latLng: {\n      type: [Object, Array],\n      default: function () { return []; },\n    },\n  },\n  mounted: function mounted() {\n    var this$1 = this;\n\n    var options = optionsMerger(this.popperOptions, this);\n    this.mapObject = popup(options);\n    if (this.latLng !== undefined) {\n      this.mapObject.setLatLng(this.latLng);\n    }\n    DomEvent.on(this.mapObject, this.$listeners);\n    propsBinder(this, this.mapObject, this.$options.props);\n    this.mapObject.setContent(this.content || this.$el);\n    this.parentContainer = findRealParent(this.$parent);\n    this.parentContainer.mapObject.bindPopup(this.mapObject);\n    this.$nextTick(function () {\n      /**\n       * Triggers when the component is ready\n       * @type {object}\n       * @property {object} mapObject - reference to leaflet map object\n       */\n      this$1.$emit('ready', this$1.mapObject);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.parentContainer) {\n      if (this.parentContainer.unbindPopup) {\n        this.parentContainer.unbindPopup();\n      } else if (\n        this.parentContainer.mapObject &&\n        this.parentContainer.mapObject.unbindPopup\n      ) {\n        this.parentContainer.mapObject.unbindPopup();\n      }\n    }\n  },\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    var options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    var hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            var originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            var existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nvar isOldIE = typeof navigator !== 'undefined' &&\r\n    /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n/* script */\nvar __vue_script__ = script;\n\n/* template */\n\n  /* style */\n  var __vue_inject_styles__ = undefined;\n  /* scoped */\n  var __vue_scope_id__ = undefined;\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = undefined;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  var __vue_component__ = normalizeComponent(\n    {},\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nexport default __vue_component__;\n","<!-- eslint-disable import/no-unresolved -->\r\n<!-- eslint-disable import/no-unresolved -->\r\n<template>\r\n  <l-map\r\n    v-if=\"show\"\r\n    ref=\"mapLeaflet\"\r\n    :zoom=\"zoom\"\r\n    :center=\"center\"\r\n    class=\"l-map\"\r\n  >\r\n    <v-icondefault />\r\n    <l-tile-layer\r\n      :url=\"url\"\r\n    />\r\n    <v-marker\r\n      v-if=\"marker != null\"\r\n      :lat-lng=\"marker\"\r\n      :icon=\"iconAwsome\"\r\n    >\r\n      <v-popup :content=\"content\" />\r\n    </v-marker>\r\n  </l-map>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  LMap,\r\n  LTileLayer,\r\n  LIconDefault,\r\n  LMarker,\r\n  LPopup,\r\n} from 'vue2-leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\n// import iconUrl from 'leaflet/dist/images/marker-icon.png'\r\n// import shadowUrl from 'leaflet/dist/images/marker-shadow.png'\r\n// import { latLng } from 'leaflet'\r\nimport L from 'leaflet'\r\n// import image from '@/assets/images/tracking/truck-front-solid-pastel.svg'\r\n// import image from '@/assets/images/tracking/location-red.png'\r\nimport { ref } from '@vue/composition-api'\r\n\r\nconst svg = `<svg width=\"56\" id=\"mePin\" height=\"62\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path class=\"ring_outer\" d=\"M24.63 51.5H39.37C39.9004 51.5 40.4091 51.2893 40.7842 50.9142C41.1593 50.5391 41.37 50.0304 41.37 49.5C41.37 48.9696 41.1593 48.4609 40.7842 48.0858C40.4091 47.7107 39.9004 47.5 39.37 47.5H24.63C24.0996 47.5 23.5909 47.7107 23.2158 48.0858C22.8407 48.4609 22.63 48.9696 22.63 49.5C22.63 50.0304 22.8407 50.5391 23.2158 50.9142C23.5909 51.2893 24.0996 51.5 24.63 51.5V51.5Z\" fill=\"url(#paint0_linear)\"></path>\r\n                <path class=\"ring_outer\" d=\"M32 2C21 2 12 11.4 12 23C12 34.2 29.91 50.31 30.67 51C31.0363 51.3261 31.5096 51.5063 32 51.5063C32.4904 51.5063 32.9637 51.3261 33.33 51C34.09 50.31 52 34.2 52 23C52 11.4 43 2 32 2Z\" fill=\"url(#paint1_linear)\"></path>\r\n                <path class=\"ring_outer\" d=\"M32 12.47C30.1468 12.47 28.3352 13.0195 26.7943 14.0491C25.2534 15.0787 24.0525 16.5421 23.3433 18.2542C22.6341 19.9664 22.4485 21.8504 22.8101 23.668C23.1716 25.4856 24.064 27.1551 25.3744 28.4656C26.6848 29.776 28.3544 30.6684 30.172 31.0299C31.9896 31.3915 33.8736 31.2059 35.5858 30.4967C37.2979 29.7875 38.7613 28.5866 39.7909 27.0457C40.8205 25.5048 41.37 23.6932 41.37 21.84C41.3674 19.3557 40.3793 16.9739 38.6227 15.2173C36.866 13.4607 34.4843 12.4726 32 12.47V12.47Z\" fill=\"url(#paint2_linear)\"></path>\r\n                <path class=\"ring_outer\" d=\"M51.09 38.3901C50.663 38.0745 50.1281 37.9414 49.603 38.0202C49.0779 38.099 48.6056 38.3831 48.29 38.8101C47.9744 39.2371 47.8413 39.772 47.9201 40.2971C47.9989 40.8222 48.283 41.2945 48.71 41.6101C50.38 42.8501 52.38 44.8701 52.38 47.5001C52.37 53.1901 43 58.0001 32 58.0001C21 58.0001 11.63 53.1901 11.63 47.5001C11.63 44.8701 13.63 42.8501 15.3 41.6101C15.5114 41.4538 15.69 41.2574 15.8255 41.0322C15.9611 40.8069 16.0509 40.5571 16.0899 40.2971C16.1289 40.0371 16.1163 39.7719 16.0528 39.5168C15.9894 39.2617 15.8763 39.0215 15.72 38.8101C15.5637 38.5987 15.3673 38.4201 15.1421 38.2846C14.9168 38.149 14.667 38.0592 14.407 38.0202C14.147 37.9812 13.8818 37.9938 13.6267 38.0573C13.3716 38.1207 13.1314 38.2338 12.92 38.3901C9.46 40.9501 7.63 44.0901 7.63 47.4901C7.63 55.6301 18.33 62.0001 32 62.0001C45.67 62.0001 56.37 55.6301 56.37 47.5001C56.37 44.1001 54.54 40.9501 51.09 38.3901Z\" fill=\"url(#paint3_linear)\"></path>\r\n                <defs>\r\n                <linearGradient id=\"paint0_linear\" x1=\"22.63\" y1=\"49.5\" x2=\"41.37\" y2=\"49.5\" gradientUnits=\"userSpaceOnUse\">\r\n                <stop stop-color=\"#0C90F2\"></stop>\r\n                <stop offset=\"0.14\" stop-color=\"#1092F2\"></stop>\r\n                <stop offset=\"0.27\" stop-color=\"#1C97F1\"></stop>\r\n                <stop offset=\"0.4\" stop-color=\"#2F9FF1\"></stop>\r\n                <stop offset=\"0.53\" stop-color=\"#4BABF0\"></stop>\r\n                <stop offset=\"0.66\" stop-color=\"#6EBBEE\"></stop>\r\n                <stop offset=\"0.78\" stop-color=\"#99CEED\"></stop>\r\n                <stop offset=\"0.85\" stop-color=\"#B3D9EC\"></stop>\r\n                </linearGradient>\r\n                <linearGradient id=\"paint1_linear\" x1=\"11.99\" y1=\"26.75\" x2=\"52.01\" y2=\"26.75\" gradientUnits=\"userSpaceOnUse\">\r\n                <stop stop-color=\"#2357FF\"></stop>\r\n                <stop offset=\"0.38\" stop-color=\"#1B6FF6\"></stop>\r\n                <stop offset=\"1\" stop-color=\"#0B9EE3\"></stop>\r\n                </linearGradient>\r\n                <linearGradient id=\"paint2_linear\" x1=\"446.716\" y1=\"421.752\" x2=\"797.904\" y2=\"421.752\" gradientUnits=\"userSpaceOnUse\">\r\n                <stop stop-color=\"#0C90F2\"></stop>\r\n                <stop offset=\"0.14\" stop-color=\"#1092F2\"></stop>\r\n                <stop offset=\"0.27\" stop-color=\"#1C97F1\"></stop>\r\n                <stop offset=\"0.4\" stop-color=\"#2F9FF1\"></stop>\r\n                <stop offset=\"0.53\" stop-color=\"#4BABF0\"></stop>\r\n                <stop offset=\"0.66\" stop-color=\"#6EBBEE\"></stop>\r\n                <stop offset=\"0.78\" stop-color=\"#99CEED\"></stop>\r\n                <stop offset=\"0.85\" stop-color=\"#B3D9EC\"></stop>\r\n                </linearGradient>\r\n                <linearGradient id=\"paint3_linear\" x1=\"379.516\" y1=\"1238.1\" x2=\"2755.1\" y2=\"1238.1\" gradientUnits=\"userSpaceOnUse\">\r\n                <stop stop-color=\"#0C90F2\"></stop>\r\n                <stop offset=\"0.14\" stop-color=\"#1092F2\"></stop>\r\n                <stop offset=\"0.27\" stop-color=\"#1C97F1\"></stop>\r\n                <stop offset=\"0.4\" stop-color=\"#2F9FF1\"></stop>\r\n                <stop offset=\"0.53\" stop-color=\"#4BABF0\"></stop>\r\n                <stop offset=\"0.66\" stop-color=\"#6EBBEE\"></stop>\r\n                <stop offset=\"0.78\" stop-color=\"#99CEED\"></stop>\r\n                <stop offset=\"0.85\" stop-color=\"#B3D9EC\"></stop>\r\n                </linearGradient>\r\n                </defs>\r\n                </svg>`\r\n/* const svg = `<svg id=\"mePin\"  xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" width=\"56\" height=\"62\" version=\"1.1\" style=\"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd\" viewBox=\"0 0 1707 1707\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\r\n                        <defs>\r\n                        </defs>\r\n                        <g id=\"Layer_x0020_1\">\r\n                         <metadata id=\"CorelCorpID_0Corel-Layer\"></metadata>\r\n                         <path class=\" fil0 \" d=\"M798 797l-2 0 0 306c0,14 -11,25 -26,25l-389 0c-15,0 -26,-11 -26,-26l0 -305c-15,0 -28,-10 -28,-26l0 -81c0,-14 11,-26 26,-26l445 0c14,0 26,12 26,26l0 81c0,14 -12,26 -26,26zm-244 -164c-30,-43 -67,-87 -98,-133l-367 0c-21,0 -37,16 -37,37l0 719c0,20 16,37 37,37l136 0c20,-82 94,-144 182,-144 89,0 163,62 183,144l509 0 0 -793 -404 0c-31,46 -68,90 -99,133 -10,14 -31,14 -42,0zm-129 -185c-16,-31 -26,-61 -26,-89 0,-97 79,-176 176,-176 98,0 177,79 177,176 0,28 -11,58 -27,89 44,0 396,-2 408,2 13,4 226,191 256,216l8 11 81 212 120 107c6,5 9,12 9,19l0 87c16,0 37,-4 47,11 11,16 53,73 53,87 0,112 12,99 -100,99 0,56 -9,45 -113,45 -2,51 -24,96 -58,128l167 0c33,0 33,52 0,52l-1491 0c-33,0 -33,-52 0,-52l166 0c-34,-32 -56,-77 -58,-128l-131 0c-49,0 -89,-39 -89,-88l0 -719c0,-49 40,-89 89,-89l336 0zm150 -213c-68,0 -124,56 -124,124 0,59 78,154 124,215 47,-61 125,-156 125,-215 0,-68 -56,-124 -125,-124zm0 193c-43,0 -79,-36 -79,-80 0,-44 36,-79 79,-79 44,0 80,35 80,79 0,44 -36,80 -80,80zm0 -108c-36,0 -36,56 0,56 37,0 37,-56 0,-56zm545 1024l-525 0c-3,51 -24,96 -58,128l641 0c-34,-32 -56,-77 -58,-128zm31 -814l0 130 152 0 -152 -130zm338 763l66 0 0 -266 -109 -97 -295 0 0 304c89,-135 300,-102 338,59zm-71 -414l-63 -167 -204 0 0 167 267 0zm189 275l0 93 48 0 0 -39 -36 -54 -12 0zm-1200 47c-75,0 -135,62 -135,136 0,74 61,135 135,135 75,0 136,-61 136,-135 0,-75 -61,-136 -136,-136zm900 0c-74,0 -135,61 -135,136 0,74 61,135 135,135 75,0 136,-61 136,-135 0,-75 -61,-136 -136,-136zm0 215c-44,0 -79,-36 -79,-79 0,-44 35,-80 79,-80 44,0 80,36 80,80 0,43 -36,79 -80,79zm0 -107c-36,0 -36,55 0,55 37,0 37,-55 0,-55zm-900 107c-43,0 -79,-36 -79,-79 0,-44 36,-80 79,-80 44,0 80,36 80,80 0,43 -36,79 -80,79zm0 -107c-36,0 -36,55 0,55 37,0 37,-55 0,-55zm969 -189l-122 0c-31,0 -55,-24 -55,-54l0 -41c0,-30 24,-54 55,-54l122 0c31,0 55,24 55,54l0 41c0,30 -24,54 -55,54zm-122 -98c-4,0 -7,47 0,47l122 0c5,0 8,-47 0,-47l-122 0zm-747 -71c-14,0 -26,-11 -26,-25l0 -129 -75 0 0 280 338 0 0 -280 -74 0 0 129c0,20 -24,32 -41,21l-54 -37c-14,9 -53,41 -68,41zm67 -99c14,0 33,17 44,25l0 -80 -85 0 0 79c11,-8 27,-24 41,-24zm-195 -107l393 0 0 -29 -393 0 0 29z\"></path>\r\n                         <path class=\"ring_outer fil1 \" d=\"M1307 1309c-36,0 -36,55 0,55 37,0 37,-55 0,-55z\"></path>\r\n                         <path class=\"ring_outer fil2 \" d=\"M1307 1257c44,0 80,36 80,80 0,43 -36,79 -80,79 -44,0 -79,-36 -79,-79 0,-44 35,-80 79,-80zm0 -56c-74,0 -135,61 -135,136 0,74 61,135 135,135 75,0 136,-61 136,-135 0,-75 -61,-136 -136,-136z\"></path>\r\n                         <path class=\"ring_outer fil1 \" d=\"M407 1364c37,0 37,-55 0,-55 -36,0 -36,55 0,55z\"></path>\r\n                         <path class=\"ring_outer fil2 \" d=\"M487 1337c0,43 -36,79 -80,79 -43,0 -79,-36 -79,-79 0,-44 36,-80 79,-80 44,0 80,36 80,80zm56 0c0,-75 -61,-136 -136,-136 -75,0 -135,62 -135,136 0,74 61,135 135,135 75,0 136,-61 136,-135z\"></path>\r\n                         <path class=\"ring_outer fil3 \" d=\"M590 1293l509 0 0 -793 -404 0c-31,46 -68,90 -99,133 -10,14 -31,14 -42,0 -30,-43 -67,-87 -98,-133l-367 0c-21,0 -37,16 -37,37l0 719c0,20 16,37 37,37l136 0c20,-82 94,-144 182,-144 89,0 163,62 183,144zm180 -165l-389 0c-15,0 -26,-11 -26,-26l0 -305c-15,0 -28,-10 -28,-26l0 -81c0,-14 11,-26 26,-26l445 0c14,0 26,12 26,26l0 81c0,14 -12,26 -26,26l-2 0 0 306c0,14 -11,25 -26,25z\"></path>\r\n                         <path class=\"ring_outer fil4 \" d=\"M406 1077l338 0 0 -280 -74 0 0 129c0,20 -24,32 -41,21l-54 -37c-14,9 -53,41 -68,41 -14,0 -26,-11 -26,-25l0 -129 -75 0 0 280z\"></path>\r\n                         <path class=\"ring_outer fil5 \" d=\"M574 852c14,0 33,17 44,25l0 -80 -85 0 0 79c11,-8 27,-24 41,-24z\"></path>\r\n                         <polygon class=\"ring_outer fil5 \" points=\"379,745 772,745 772,716 379,716 \"></polygon>\r\n                         <path class=\"fil6 \" d=\"M451 359c0,59 78,154 124,215 47,-61 125,-156 125,-215 0,-68 -56,-124 -125,-124 -68,0 -124,56 -124,124zm124 69c-43,0 -79,-36 -79,-80 0,-44 36,-79 79,-79 44,0 80,35 80,79 0,44 -36,80 -80,80z\"></path>\r\n                         <polygon class=\"ring_outer fil3 \" points=\"1151,530 1151,660 1303,660 \"></polygon>\r\n                         <polygon class=\"ring_outer fil7 \" points=\"1355,712 1151,712 1151,879 1418,879 \"></polygon>\r\n                         <path class=\"ring_outer fil4 \" d=\"M1376 1022l-122 0c-4,0 -7,47 0,47l122 0c5,0 8,-47 0,-47z\"></path>\r\n                         <path class=\"ring_outer fil3 \" d=\"M1431 1025l0 41c0,30 -24,54 -55,54l-122 0c-31,0 -55,-24 -55,-54l0 -41c0,-30 24,-54 55,-54l122 0c31,0 55,24 55,54zm15 -95l-295 0 0 304c89,-135 300,-102 338,59l66 0 0 -266 -109 -97z\"></path>\r\n                         <polygon class=\"ring_outer fil4\" points=\"1607,1154 1607,1247 1655,1247 1655,1208 1619,1154 \"></polygon>\r\n                        </g>\r\n                       </svg>` */\r\n\r\nexport default {\r\n  components: {\r\n    LMap,\r\n    LTileLayer,\r\n    'v-icondefault': LIconDefault,\r\n    'v-marker': LMarker,\r\n    'v-popup': LPopup,\r\n    // 'v-marker-cluster': Vue2LeafletMarkerCluster,\r\n  },\r\n  /* data() {\r\n    return {\r\n      center: [19.43260029620197, -99.13207456071105],\r\n    }\r\n  }, */\r\n  methods: {\r\n    click: e => { console.log(e) },\r\n    ready: e => { console.log(e) },\r\n  },\r\n  setup() {\r\n    const mapLeaflet = ref()\r\n    const show = ref(false)\r\n    const style = ref('normal.day.grey')\r\n    const apiKey = ref('q9wf_iQvH_xa-W8fVJJGKV2M0g1WvPDQEVZh489fY-c')\r\n    const url = ref(`https://2.base.maps.ls.hereapi.com/maptile/2.1/maptile/newest/${style.value}/{z}/{x}/{y}/512/png8?apiKey=${apiKey.value}&ppi=320`)\r\n    // const url = ref('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png')\r\n\r\n    const customicon = L.divIcon({\r\n      className: 'leaflet-data-marker',\r\n      html: svg.replace('#', '%23'),\r\n      iconAnchor: [30, 50],\r\n      iconSize: [36, 42],\r\n      popupAnchor: [0, -50],\r\n    })\r\n\r\n    const iconAwsome = ref(customicon)\r\n\r\n    const content = ref('')\r\n    const marker = ref(null)\r\n    const zoom = ref(13)\r\n    const center = ref([19.433026740813453, -99.1332049])\r\n\r\n    const bounds = ref([])\r\n    const maxBounds = ref([])\r\n\r\n    const setLocation = location => {\r\n      bounds.value = []\r\n      const [lng, lat] = location.coordinates\r\n      const coordinates = L.latLng(lat, lng)\r\n      marker.value = coordinates\r\n      content.value = 'prueba'\r\n      // center.value = [lat, lng]\r\n      // zoom.value = 17\r\n      // const bound = latLngBounds([...center.value, ...center.value])\r\n      // bounds.value = bound\r\n      // maxBounds.value = bound\r\n      mapLeaflet.value.mapObject.flyTo(coordinates, 18)\r\n      // $('.mePin').addClass('bounceInDown')\r\n\r\n      setTimeout(() => {\r\n        const miPin = document.querySelector('.leaflet-marker-pane')\r\n        console.log({ miPin })\r\n      }, 5000)\r\n    }\r\n\r\n    const some = () => {\r\n      console.log('mapa', mapLeaflet.value.mapObject)\r\n    }\r\n\r\n    setTimeout(() => {\r\n      some()\r\n    }, 2000)\r\n    setTimeout(() => {\r\n      show.value = true\r\n    }, 1000)\r\n\r\n    return {\r\n      show,\r\n      style,\r\n      apiKey,\r\n      url,\r\n      iconAwsome,\r\n      marker,\r\n      zoom,\r\n      center,\r\n      bounds,\r\n      maxBounds,\r\n      content,\r\n\r\n      setLocation,\r\n      mapLeaflet,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.vue2leaflet-map {\r\n  &.leaflet-container {\r\n    height: 350px;\r\n  }\r\n}\r\n\r\n/*.st0{fill:#FF67A7;}\r\n.st1{fill:#FFFFFF;}*/\r\n\r\n.fil3 {fill:#34abeb}\r\n.fil0 {fill:#1a1819}\r\n.fil2 {fill:#666664}\r\n.fil7 {fill:#CEFFFF}\r\n.fil1 {fill:#E7E7E7}\r\n.fil5 {fill:#FFBB8C}\r\n.fil6 {fill:#f5233f}\r\n.fil4 {fill:#e1f009}\r\n\r\n  #mePin .ring_outer {\r\n    animation: opacityPulse 2s cubic-bezier(1, 0.14, 1, 1);\r\n    animation-iteration-count: infinite;\r\n    opacity: 0.5;\r\n  }\r\n  #mePin .ring_inner {\r\n    animation: opacityPulse 2s cubic-bezier(0.4, 0.74, 0.56, 0.82);\r\n    animation-iteration-count: infinite;\r\n    opacity: 0.8;\r\n  }\r\n  @keyframes opacityPulse {\r\n    0% {\r\n      opacity: 0.1;\r\n    }\r\n    50% {\r\n      opacity: 1;\r\n    }\r\n    100% {\r\n      opacity: 0.1;\r\n    }\r\n  }\r\n  @keyframes bounceInDown {\r\n    from, 60%, 75%, 90%, to {\r\n      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\r\n    }\r\n    0% {\r\n      opacity: 0;\r\n      transform: translate3d(0, -3000px, 0);\r\n    }\r\n    60% {\r\n      opacity: 1;\r\n      transform: translate3d(0, 5px, 0);\r\n    }\r\n    75% {\r\n      transform: translate3d(0, -3px, 0);\r\n    }\r\n    90% {\r\n      transform: translate3d(0, 5px, 0);\r\n    }\r\n    to {\r\n      transform: none;\r\n    }\r\n  }\r\n  .bounceInDown {\r\n    animation-name: bounceInDown;\r\n    animation-duration: 2s;\r\n    animation-fill-mode: both;\r\n  }\r\n  /*# sourceMappingURL=style.css.map */\r\n.st10{fill:#E3FAFF;stroke:#E3FAFF;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\r\n.st11{fill:#FF5093;stroke:#FF5093;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\r\n.st12{fill:#B7257F;stroke:#B7257F;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\r\n.l-map {\r\n  z-index: 1 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeafletBasic.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeafletBasic.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LeafletBasic.vue?vue&type=template&id=5bf1285f\"\nimport script from \"./LeafletBasic.vue?vue&type=script&lang=js\"\nexport * from \"./LeafletBasic.vue?vue&type=script&lang=js\"\nimport style0 from \"./LeafletBasic.vue?vue&type=style&index=0&id=5bf1285f&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-sidebar',{attrs:{\"bg-variant\":\"white\",\"right\":\"\",\"shadow\":\"\",\"visible\":_vm.showSidebar},on:{\"change\":function (val) { return _vm.showSidebar = val; }}},[_c('div',[_c('div',{staticClass:\"text-center\"},[_c('b-avatar',{staticClass:\"mr-1\",attrs:{\"size\":\"72px\",\"src\":_vm.alertDetails.driver_photo}}),_c('b-card-text',{staticClass:\"mt-2 h4 color-inherit text-reset\"},[_vm._v(\" \"+_vm._s(_vm.alertDetails.driver_name)+\" \"+_vm._s(_vm.alertDetails.driver_last_name)+\" \")])],1),_c('b-list-group',{staticClass:\"mt-1 rounded-0\"},[_c('b-list-group-item',{staticClass:\"bg-transparent\"},[_c('feather-icon',{staticClass:\"align-text-bottom\",attrs:{\"icon\":\"CreditCardIcon\"}}),_c('span',{staticClass:\"ml-1\"},[_vm._v(\" Licencia: \"+_vm._s(_vm.alertDetails.driver_license)+\" \")])],1),_c('b-list-group-item',{staticClass:\"bg-transparent\"},[_c('feather-icon',{staticClass:\"align-text-bottom\",attrs:{\"icon\":\"SmartphoneIcon\"}}),_c('span',{staticClass:\"ml-1\"},[_vm._v(\" Celular: \"+_vm._s(_vm.alertDetails.driver_cellphone)+\" \")])],1)],1),_c('card-unit-details',{staticClass:\"mt-2\",attrs:{\"plate\":_vm.alertDetails.unit_plate,\"brand\":_vm.alertDetails.brand_name,\"model\":_vm.alertDetails.model_name}}),_c('b-list-group',{staticClass:\"mt-1 rounded-0\"},[_c('b-list-group-item',{staticClass:\"bg-transparent\"},[_c('feather-icon',{staticClass:\"align-text-bottom\",attrs:{\"icon\":\"MapPinIcon\"}}),_c('span',{staticClass:\"ml-0\"},[_vm._v(\" Dirección: \"+_vm._s(_vm.alertDetails.alert_address)+\" \")])],1),_c('b-list-group-item',{staticClass:\"bg-transparent\"},[_c('feather-icon',{staticClass:\"align-text-bottom\",attrs:{\"icon\":\"CalendarIcon\"}}),_c('span',{staticClass:\"ml-0\"},[_vm._v(\" Fecha: \"+_vm._s(_vm.dateTimeFormat(_vm.alertDetails.created_at))+\" \")])],1)],1),_c('card-device-details',{staticClass:\"mt-2\",attrs:{\"name\":_vm.alertDetails.device_name,\"type\":_vm.alertDetails.typeDevice_name}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { reactive, ref } from '@vue/composition-api'\r\nimport { useToast } from 'vue-toastification/composition'\r\nimport ToastificationContentVue from '@/@core/components/toastification/ToastificationContent.vue'\r\n\r\nimport AlertService from '@/services/AlertService'\r\n\r\nconst UseAlertDetails = () => {\r\n  const toast = useToast()\r\n  const alertDetails = reactive({\r\n    alert_id: '',\r\n    alert_address: '',\r\n    device_name: '',\r\n    typeDevice_name: '',\r\n    unit_plate: '',\r\n    driver_name: '',\r\n    driver_last_name: '',\r\n    driver_license: '',\r\n    driver_cellphone: '',\r\n    driver_photo: '',\r\n    model_name: '',\r\n    brand_name: '',\r\n    created_at: '',\r\n  })\r\n  const showSidebar = ref(false)\r\n\r\n  const getById = async id => {\r\n    try {\r\n      const resp = await AlertService.getById(id)\r\n      Object.assign(alertDetails, resp.data)\r\n      showSidebar.value = true\r\n    } catch (error) {\r\n      toast({\r\n        component: ToastificationContentVue,\r\n        props: {\r\n          title: 'Error al cargar detalles de alerta',\r\n          icon: 'AlertTriangleIcon',\r\n          variant: 'danger',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  return {\r\n    alertDetails,\r\n    getById,\r\n    showSidebar,\r\n  }\r\n}\r\n\r\nexport default UseAlertDetails\r\n","<template>\r\n  <b-sidebar\r\n    bg-variant=\"white\"\r\n    right\r\n    shadow\r\n    :visible=\"showSidebar\"\r\n    @change=\"(val) => showSidebar = val\"\r\n  >\r\n    <div>\r\n      <div class=\"text-center\">\r\n        <!-- Avatar -->\r\n        <b-avatar\r\n          size=\"72px\"\r\n          class=\"mr-1\"\r\n          :src=\"alertDetails.driver_photo\"\r\n        />\r\n        <!-- Name -->\r\n        <b-card-text class=\"mt-2 h4 color-inherit text-reset\">\r\n          {{ alertDetails.driver_name }} {{ alertDetails.driver_last_name }}\r\n        </b-card-text>\r\n      </div>\r\n\r\n      <b-list-group class=\"mt-1 rounded-0\">\r\n        <b-list-group-item\r\n          class=\"bg-transparent\"\r\n        >\r\n          <feather-icon\r\n            class=\"align-text-bottom\"\r\n            icon=\"CreditCardIcon\"\r\n          />\r\n          <span class=\"ml-1\">\r\n            Licencia: {{ alertDetails.driver_license }}\r\n          </span>\r\n        </b-list-group-item>\r\n        <b-list-group-item\r\n          class=\"bg-transparent\"\r\n        >\r\n          <feather-icon\r\n            class=\"align-text-bottom\"\r\n            icon=\"SmartphoneIcon\"\r\n          />\r\n          <span class=\"ml-1\">\r\n            Celular: {{ alertDetails.driver_cellphone }}\r\n          </span>\r\n        </b-list-group-item>\r\n      </b-list-group>\r\n      <card-unit-details\r\n        class=\"mt-2\"\r\n        :plate=\"alertDetails.unit_plate\"\r\n        :brand=\"alertDetails.brand_name\"\r\n        :model=\"alertDetails.model_name\"\r\n      />\r\n      <b-list-group class=\"mt-1 rounded-0\">\r\n        <b-list-group-item\r\n          class=\"bg-transparent\"\r\n        >\r\n          <feather-icon\r\n            class=\"align-text-bottom\"\r\n            icon=\"MapPinIcon\"\r\n          />\r\n          <span class=\"ml-0\">\r\n            Dirección: {{ alertDetails.alert_address }}\r\n          </span>\r\n        </b-list-group-item>\r\n        <b-list-group-item\r\n          class=\"bg-transparent\"\r\n        >\r\n          <feather-icon\r\n            class=\"align-text-bottom\"\r\n            icon=\"CalendarIcon\"\r\n          />\r\n          <span class=\"ml-0\">\r\n            Fecha: {{ dateTimeFormat(alertDetails.created_at) }}\r\n          </span>\r\n        </b-list-group-item>\r\n      </b-list-group>\r\n      <card-device-details\r\n        class=\"mt-2\"\r\n        :name=\"alertDetails.device_name\"\r\n        :type=\"alertDetails.typeDevice_name\"\r\n      />\r\n    </div>\r\n  </b-sidebar>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BSidebar,\r\n  BAvatar,\r\n  BCardText,\r\n  BListGroup,\r\n  BListGroupItem,\r\n} from 'bootstrap-vue'\r\nimport useCustomFunctions from '@/composables/useCustomFunctions'\r\nimport useAlertDetails from '../composables/useAlertDetails'\r\nimport CardUnitDetails from './CardUnitDetails.vue'\r\nimport CardDeviceDetails from './CardDeviceDetails.vue'\r\n\r\nexport default {\r\n  components: {\r\n    BSidebar,\r\n    BAvatar,\r\n    BCardText,\r\n    BListGroup,\r\n    BListGroupItem,\r\n    CardUnitDetails,\r\n    CardDeviceDetails,\r\n  },\r\n  setup() {\r\n    const {\r\n      alertDetails,\r\n      showSidebar,\r\n      getById,\r\n    } = useAlertDetails()\r\n\r\n    const {\r\n      dateTimeFormat,\r\n    } = useCustomFunctions()\r\n\r\n    return {\r\n      alertDetails,\r\n      showSidebar,\r\n      getById,\r\n      dateTimeFormat,\r\n    }\r\n  },\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AlertDetails.vue?vue&type=template&id=f6356c00\"\nimport script from \"./AlertDetails.vue?vue&type=script&lang=js\"\nexport * from \"./AlertDetails.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <b-row>\r\n      <b-col\r\n        cols=\"12\"\r\n        sm=\"12\"\r\n        md=\"12\"\r\n        lg=\"12\"\r\n        xl=\"12\"\r\n        class=\"mb-2\"\r\n      >\r\n        <b-badge\r\n          :variant=\"isConnected? 'success': 'danger'\"\r\n        >\r\n          <feather-icon\r\n            :icon=\"isConnected? 'ZapIcon': 'ZapOffIcon'\"\r\n            class=\"mr-25\"\r\n          />\r\n          <span>{{ isConnected? 'Conectado': 'Desconectado' }}</span>\r\n        </b-badge>\r\n      </b-col>\r\n      <b-col\r\n        cols=\"12\"\r\n        sm=\"12\"\r\n        md=\"12\"\r\n        lg=\"12\"\r\n        xl=\"12\"\r\n      >\r\n        <LeafletBasic\r\n          ref=\"mapa\"\r\n          style=\"height: 400px;\"\r\n        />\r\n      </b-col>\r\n      <b-col\r\n        cols=\"12\"\r\n        sm=\"12\"\r\n        md=\"12\"\r\n        lg=\"12\"\r\n        xl=\"12\"\r\n        class=\"mt-1\"\r\n      >\r\n        <alerts-table\r\n          :list-query=\"listQuery\"\r\n          :alerts=\"alerts\"\r\n          :is-loading=\"isLoading\"\r\n          @handle-location=\"(location) => $refs.mapa.setLocation(location)\"\r\n          @handle-change-dates=\"handleChangeDates\"\r\n          @handle-alert-details=\"(id) => $refs.alertDetailsRef.getById(id)\"\r\n        />\r\n      </b-col>\r\n      <AlertDetails ref=\"alertDetailsRef\" />\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from '@vue/composition-api'\r\nimport {\r\n  BRow,\r\n  BCol,\r\n  BBadge,\r\n} from 'bootstrap-vue'\r\nimport UseAlertsWS from './composables/useAlertsWS'\r\nimport AlertsTable from './components/AlertsTable.vue'\r\nimport LeafletBasic from './components/LeafletBasic.vue'\r\nimport AlertDetails from './components/AlertDetails.vue'\r\n\r\nexport default {\r\n  components: {\r\n    AlertsTable,\r\n    LeafletBasic,\r\n    BRow,\r\n    BCol,\r\n    BBadge,\r\n    AlertDetails,\r\n  },\r\n  created() {\r\n    this.$store.commit('verticalMenu/UPDATE_VERTICAL_MENU_COLLAPSED', true)\r\n  },\r\n  destroyed() {\r\n    this.$store.commit('verticalMenu/UPDATE_VERTICAL_MENU_COLLAPSED', false)\r\n  },\r\n  setup() {\r\n    const mapa = ref()\r\n    const alertDetailsRef = ref()\r\n\r\n    const {\r\n      isConnected,\r\n      isLoading,\r\n      listQuery,\r\n      alerts,\r\n      handleChangeDates,\r\n    } = UseAlertsWS(8, mapa)\r\n\r\n    return {\r\n      isConnected,\r\n      isLoading,\r\n      listQuery,\r\n      alerts,\r\n      mapa,\r\n      handleChangeDates,\r\n      alertDetailsRef,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertsPage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertsPage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AlertsPage.vue?vue&type=template&id=72e159d3\"\nimport script from \"./AlertsPage.vue?vue&type=script&lang=js\"\nexport * from \"./AlertsPage.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertsTable.vue?vue&type=style&index=0&id=c2f9491c&prod&lang=scss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","// browser shim for xmlhttprequest module\nimport { hasCORS } from \"../contrib/has-cors.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nexport function XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\nexport function createCookieJar() { }\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { createCookieJar, XHR as XMLHttpRequest, } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = createCookieJar();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"./websocket-constructor.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this.writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this.writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this.writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: Polling,\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 2000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { defaultBinaryType } from \"./transports/websocket-constructor.js\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            this.resetPingTimeout();\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport, TransportError } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\nexport { nextTick } from \"./transports/websocket-constructor.js\";\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","export var noop = function noop() {};"],"sourceRoot":""}